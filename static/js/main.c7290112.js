/*! For license information please see main.c7290112.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,u,s=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(s[l]=o[l]);if(t){u=t(o);for(var f=0;f<u.length;f++)r.call(o,u[f])&&(s[u[f]]=o[u[f]])}}return s}},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var u=new Set,s={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)u.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=60103,x=60106,I=60107,E=60108,T=60114,S=60109,C=60110,A=60112,N=60113,O=60120,R=60115,P=60116,D=60121,L=60128,M=60129,U=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var j=Symbol.for;_=j("react.element"),x=j("react.portal"),I=j("react.fragment"),E=j("react.strict_mode"),T=j("react.profiler"),S=j("react.provider"),C=j("react.context"),A=j("react.forward_ref"),N=j("react.suspense"),O=j("react.suspense_list"),R=j("react.memo"),P=j("react.lazy"),D=j("react.block"),j("react.scope"),L=j("react.opaque.id"),M=j("react.debug_trace_mode"),U=j("react.offscreen"),F=j("react.legacy_hidden")}var V,z="function"===typeof Symbol&&Symbol.iterator;function q(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=z&&e[z]||e["@@iterator"])?e:null}function B(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var K=!1;function W(e,t){if(!e||K)return"";K=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var r=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){r=s}e.call(t.prototype)}else{try{throw Error()}catch(s){r=s}e()}}catch(s){if(s&&r&&"string"===typeof s.stack){for(var i=s.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=u);break}}}finally{K=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function H(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 22:return e=W(e.type._render,!1);case 1:return e=W(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case I:return"Fragment";case x:return"Portal";case T:return"Profiler";case E:return"StrictMode";case N:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case R:return G(e.type);case D:return G(e._render);case P:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function X(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Y(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ue(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,me,ye=(me=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ke={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ke.hasOwnProperty(e)&&ke[e]?(""+t).trim():t+"px"}function _e(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ke).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ke[t]=ke[e]}))}));var xe=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ie(e,t){if(t){if(xe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Ee(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Te(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Ce=null,Ae=null;function Ne(e){if(e=ri(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Se(e.stateNode,e.type,t))}}function Oe(e){Ce?Ae?Ae.push(e):Ae=[e]:Ce=e}function Re(){if(Ce){var e=Ce,t=Ae;if(Ae=Ce=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function Pe(e,t){return e(t)}function De(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var Me=Pe,Ue=!1,Fe=!1;function je(){null===Ce&&null===Ae||(Le(),Re())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var ze=!1;if(f)try{var qe={};Object.defineProperty(qe,"passive",{get:function(){ze=!0}}),window.addEventListener("test",qe,qe),window.removeEventListener("test",qe,qe)}catch(me){ze=!1}function Be(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Ke=!1,We=null,He=!1,Ge=null,Qe={onError:function(e){Ke=!0,We=e}};function Ye(e,t,n,r,i,a,o,u,s){Ke=!1,We=null,Be.apply(Qe,arguments)}function Xe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function $e(e){if(Xe(e)!==e)throw Error(o(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Xe(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return $e(i),e;if(a===r)return $e(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=a;break}if(s===r){u=!0,r=i,n=a;break}s=s.sibling}if(!u){for(s=a.child;s;){if(s===n){u=!0,n=a,r=i;break}if(s===r){u=!0,r=a,n=i;break}s=s.sibling}if(!u)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],ut=null,st=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":ut=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function yt(e){var t=ni(e.target);if(null!==t){var n=Xe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Je(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function kt(e,t,n){gt(e)&&n.delete(t)}function bt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==ut&&gt(ut)&&(ut=null),null!==st&&gt(st)&&(st=null),null!==ct&&gt(ct)&&(ct=null),lt.forEach(kt),ft.forEach(kt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,bt)))}function _t(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ut&&wt(ut,e),null!==st&&wt(st,e),null!==ct&&wt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)yt(n),null===n.blockedOn&&ht.shift()}function xt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var It={animationend:xt("Animation","AnimationEnd"),animationiteration:xt("Animation","AnimationIteration"),animationstart:xt("Animation","AnimationStart"),transitionend:xt("Transition","TransitionEnd")},Et={},Tt={};function St(e){if(Et[e])return Et[e];if(!It[e])return e;var t,n=It[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tt)return Et[e]=n[t];return e}f&&(Tt=document.createElement("div").style,"AnimationEvent"in window||(delete It.animationend.animation,delete It.animationiteration.animation,delete It.animationstart.animation),"TransitionEvent"in window||delete It.transitionend.transition);var Ct=St("animationend"),At=St("animationiteration"),Nt=St("animationstart"),Ot=St("transitionend"),Rt=new Map,Pt=new Map,Dt=["abort","abort",Ct,"animationEnd",At,"animationIteration",Nt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ot,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Pt.set(r,t),Rt.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Mt=8;function Ut(e){if(0!==(1&e))return Mt=15,1;if(0!==(2&e))return Mt=14,2;if(0!==(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!==(32&e)?(Mt=11,32):0!==(t=192&e)?(Mt=10,t):0!==(256&e)?(Mt=9,256):0!==(t=3584&e)?(Mt=8,t):0!==(4096&e)?(Mt=7,4096):0!==(t=4186112&e)?(Mt=6,t):0!==(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!==(134217728&e)?(Mt=3,134217728):0!==(t=805306368&e)?(Mt=2,t):0!==(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,u=e.pingedLanes;if(0!==a)r=a,i=Mt=15;else if(0!==(a=134217727&n)){var s=a&~o;0!==s?(r=Ut(s),i=Mt):0!==(u&=a)&&(r=Ut(u),i=Mt)}else 0!==(a=n&~o)?(r=Ut(a),i=Mt):0!==u&&(r=Ut(u),i=Mt);if(0===r)return 0;if(r=n&((0>(r=31-Kt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Ut(t),i<=Mt)return t;Mt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Kt(t)),r|=e[n],t&=~i;return r}function jt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=zt(24&~t))?Vt(10,t):e;case 10:return 0===(e=zt(192&~t))?Vt(8,t):e;case 8:return 0===(e=zt(3584&~t))&&(0===(e=zt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=zt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function zt(e){return e&-e}function qt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Bt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Kt(t)]=n}var Kt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Wt(e)/Ht|0)|0},Wt=Math.log,Ht=Math.LN2;var Gt=a.unstable_UserBlockingPriority,Qt=a.unstable_runWithPriority,Yt=!0;function Xt(e,t,n,r){Ue||Le();var i=$t,a=Ue;Ue=!0;try{De(i,e,t,n,r)}finally{(Ue=a)||je()}}function Jt(e,t,n,r){Qt(Gt,$t.bind(null,e,t,n,r))}function $t(e,t,n,r){var i;if(Yt)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Zt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ut=mt(ut,e,t,n,r,i),!0;case"dragenter":return st=mt(st,e,t,n,r,i),!0;case"mouseover":return ct=mt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,mt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,mt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Lr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Te(r);if(null!==(i=ni(i))){var a=Xe(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Je(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Lr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function un(){return!1}function sn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:un,this.isPropagationStopped=un,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=sn(hn),pn=i({},hn,{view:0,detail:0}),vn=sn(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),yn=sn(mn),gn=sn(i({},mn,{dataTransfer:0})),kn=sn(i({},pn,{relatedTarget:0})),bn=sn(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=sn(wn),xn=sn(i({},hn,{data:0})),In={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Tn[e])&&!!t[e]}function Cn(){return Sn}var An=i({},pn,{key:function(e){if(e.key){var t=In[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=sn(An),On=sn(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=sn(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Pn=sn(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=sn(Dn),Mn=[9,13,27,32],Un=f&&"CompositionEvent"in window,Fn=null;f&&"documentMode"in document&&(Fn=document.documentMode);var jn=f&&"TextEvent"in window&&!Fn,Vn=f&&(!Un||Fn&&8<Fn&&11>=Fn),zn=String.fromCharCode(32),qn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Qn(e,t,n,r){Oe(r),0<(t=Ur(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,Xn=null;function Jn(e){Ar(e,0)}function $n(e){if(J(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Yn&&(Yn.detachEvent("onpropertychange",ar),Xn=Yn=null)}function ar(e){if("value"===e.propertyName&&$n(Xn)){var t=[];if(Qn(t,Xn,e,Te(e)),e=Jn,Ue)e(t);else{Ue=!0;try{Pe(e,t)}finally{Ue=!1,je()}}}}function or(e,t,n){"focusin"===e?(ir(),Xn=n,(Yn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function ur(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Xn)}function sr(e,t){if("click"===e)return $n(t)}function cr(e,t){if("input"===e||"change"===e)return $n(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function yr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=f&&"documentMode"in document&&11>=document.documentMode,kr=null,br=null,wr=null,_r=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==kr||kr!==$(r)||("selectionStart"in(r=kr)&&yr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&hr(wr,r)||(wr=r,0<(r=Ur(br,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Dt,2);for(var Ir="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Er=0;Er<Ir.length;Er++)Pt.set(Ir[Er],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tr));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,u,s,c){if(Ye.apply(this,arguments),Ke){if(!Ke)throw Error(o(198));var l=We;Ke=!1,We=null,He||(He=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Ar(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Cr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Cr(i,u,c),a=s}}}if(He)throw e=Ge,He=!1,Ge=null,e}function Nr(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}var Or="_reactListening"+Math.random().toString(36).slice(2);function Rr(e){e[Or]||(e[Or]=!0,u.forEach((function(t){Sr.has(t)||Pr(t,!1,e,null),Pr(t,!0,e,null)})))}function Pr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Sr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),u=e+"__"+(t?"capture":"bubble");o.has(u)||(t&&(i|=4),Dr(a,e,i,t),o.add(u))}function Dr(e,t,n,r){var i=Pt.get(t);switch(void 0===i?2:i){case 0:i=Xt;break;case 1:i=Jt;break;default:i=$t}n=i.bind(null,t,n,e),i=void 0,!ze||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=ni(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e(t,n);Fe=!0;try{Me(e,t,n)}finally{Fe=!1,je()}}((function(){var r=a,i=Te(n),o=[];e:{var u=Rt.get(e);if(void 0!==u){var s=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":s=Nn;break;case"focusin":c="focus",s=kn;break;case"focusout":c="blur",s=kn;break;case"beforeblur":case"afterblur":s=kn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Rn;break;case Ct:case At:case Nt:s=bn;break;case Ot:s=Pn;break;case"scroll":s=vn;break;case"wheel":s=Ln;break;case"copy":case"cut":case"paste":s=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=On}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ve(p,h))&&l.push(Mr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=Xe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=yn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=On,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:ii(s),d=null==c?u:ii(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Fr(d))p++;for(d=0,v=h;v;v=Fr(v))d++;for(;0<p-d;)l=Fr(l),p--;for(;0<d-p;)h=Fr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Fr(l),h=Fr(h)}l=null}else l=null;null!==s&&jr(o,u,s,l,!1),null!==c&&null!==f&&jr(o,f,c,l,!0)}if("select"===(s=(u=r?ii(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Zn;else if(Gn(u))if(er)m=cr;else{m=ur;var y=or}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=sr);switch(m&&(m=m(e,r))?Qn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ie(u,"number",u.value)),y=r?ii(r):window,e){case"focusin":(Gn(y)||"true"===y.contentEditable)&&(kr=y,br=r,wr=null);break;case"focusout":wr=br=kr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,xr(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":xr(o,n,i)}var g;if(Un)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Wn?Bn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Vn&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Wn&&(g=rn()):(tn="value"in(en=i)?en.value:en.textContent,Wn=!0)),0<(y=Ur(r,k)).length&&(k=new xn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Kn(n))&&(k.data=g))),(g=jn?function(e,t){switch(e){case"compositionend":return Kn(t);case"keypress":return 32!==t.which?null:(qn=!0,zn);case"textInput":return(e=t.data)===zn&&qn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!Un&&Bn(e,t)?(e=rn(),nn=tn=en=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Ur(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Ar(o,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ur(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ve(e,n))&&r.unshift(Mr(e,a,i)),null!=(a=Ve(e,t))&&r.push(Mr(e,a,i))),e=e.return}return r}function Fr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function jr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Ve(n,a))&&o.unshift(Mr(n,s,u)):i||null!=(s=Ve(n,a))&&o.push(Mr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Vr(){}var zr=null,qr=null;function Br(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Kr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Wr="function"===typeof setTimeout?setTimeout:void 0,Hr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Yr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Xr=0;var Jr=Math.random().toString(36).slice(2),$r="__reactFiber$"+Jr,Zr="__reactProps$"+Jr,ei="__reactContainer$"+Jr,ti="__reactEvents$"+Jr;function ni(e){var t=e[$r];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[$r]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Yr(e);null!==e;){if(n=e[$r])return n;e=Yr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[$r]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[Zr]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var ui=[],si=-1;function ci(e){return{current:e}}function li(e){0>si||(e.current=ui[si],ui[si]=null,si--)}function fi(e,t){si++,ui[si]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function mi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function yi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){li(pi),li(di)}function ki(e,t,n){if(di.current!==hi)throw Error(o(168));fi(di,t),fi(pi,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,G(t)||"Unknown",a));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function _i(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=bi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var xi=null,Ii=null,Ei=a.unstable_runWithPriority,Ti=a.unstable_scheduleCallback,Si=a.unstable_cancelCallback,Ci=a.unstable_shouldYield,Ai=a.unstable_requestPaint,Ni=a.unstable_now,Oi=a.unstable_getCurrentPriorityLevel,Ri=a.unstable_ImmediatePriority,Pi=a.unstable_UserBlockingPriority,Di=a.unstable_NormalPriority,Li=a.unstable_LowPriority,Mi=a.unstable_IdlePriority,Ui={},Fi=void 0!==Ai?Ai:function(){},ji=null,Vi=null,zi=!1,qi=Ni(),Bi=1e4>qi?Ni:function(){return Ni()-qi};function Ki(){switch(Oi()){case Ri:return 99;case Pi:return 98;case Di:return 97;case Li:return 96;case Mi:return 95;default:throw Error(o(332))}}function Wi(e){switch(e){case 99:return Ri;case 98:return Pi;case 97:return Di;case 96:return Li;case 95:return Mi;default:throw Error(o(332))}}function Hi(e,t){return e=Wi(e),Ei(e,t)}function Gi(e,t,n){return e=Wi(e),Ti(e,t,n)}function Qi(){if(null!==Vi){var e=Vi;Vi=null,Si(e)}Yi()}function Yi(){if(!zi&&null!==ji){zi=!0;var e=0;try{var t=ji;Hi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),ji=null}catch(n){throw null!==ji&&(ji=ji.slice(e+1)),Ti(Ri,Qi),n}finally{zi=!1}}}var Xi=w.ReactCurrentBatchConfig;function Ji(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var $i=ci(null),Zi=null,ea=null,ta=null;function na(){ta=ea=Zi=null}function ra(e){var t=$i.current;li($i),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Zi=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Uo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Zi)throw Error(o(308));ea=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var ua=!1;function sa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;ua=!1;var o=a.firstBaseUpdate,u=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var c=s,l=c.next;c.next=null,null===u?o=l:u.next=l,u=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==u&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,u=0,f=l=c=null;;){s=o.lane;var d=o.eventTime;if((r&s)===s){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(s=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,s);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(s="function"===typeof(p=v.payload)?p.call(d,h,s):p)||void 0===s)break e;h=i({},h,s);break e;case 2:ua=!0}}null!==o.callback&&(e.flags|=32,null===(s=a.effects)?a.effects=[o]:s.push(o))}else d={eventTime:d,lane:s,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,u|=s;if(null===(o=o.next)){if(null===(s=a.shared.pending))break;o=s.next,s.next=null,a.lastBaseUpdate=s,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,zu|=u,e.lanes=u,e.memoizedState=h}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ma(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ya={isMounted:function(e){return!!(e=e._reactInternals)&&Xe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hs(),r=ds(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),ps(e,r,n)}};function ga(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function ka(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=yi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ya,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ba(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ya.enqueueReplaceState(t,t.state,null)}function wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,sa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=yi(t)?vi:di.current,i.context=mi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ma(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ya.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var _a=Array.isArray;function xa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ia(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ea(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Hs(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function u(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Xs(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=xa(e,t,n),r.return=e,r):((r=Gs(n.type,n.key,n.props,null,e.mode,r)).ref=xa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Js(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Qs(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Xs(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Gs(t.type,t.key,t.props,null,e.mode,n)).ref=xa(e,null,t),n.return=e,n;case x:return(t=Js(t,e.mode,n)).return=e,t}if(_a(t)||q(t))return(t=Qs(t,e.mode,n,null)).return=e,t;Ia(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?n.type===I?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null}if(_a(n)||q(n))return null!==i?null:f(e,t,n,r,null);Ia(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return e=e.get(null===r.key?n:r.key)||null,r.type===I?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(_a(r)||q(r))return f(t,e=e.get(n)||null,r,i,null);Ia(t,r)}return null}function v(i,o,u,s){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),c}function m(i,u,s,c){var l=q(s);if("function"!==typeof l)throw Error(o(150));if(null==(s=l.call(s)))throw Error(o(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=a(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=a(g,u,m),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=a(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,s){var c="object"===typeof a&&null!==a&&a.type===I&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case _:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===I){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=xa(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===I?((r=Qs(a.props.children,e.mode,s,a.key)).return=e,e=r):((s=Gs(a.type,a.key,a.props,null,e.mode,s)).ref=xa(e,r,a),s.return=e,e=s)}return u(e);case x:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Js(a,e.mode,s)).return=e,e=r}return u(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Xs(a,e.mode,s)).return=e,e=r),u(e);if(_a(a))return v(e,r,a,s);if(q(a))return m(e,r,a,s);if(l&&Ia(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var Ta=Ea(!0),Sa=Ea(!1),Ca={},Aa=ci(Ca),Na=ci(Ca),Oa=ci(Ca);function Ra(e){if(e===Ca)throw Error(o(174));return e}function Pa(e,t){switch(fi(Oa,t),fi(Na,e),fi(Aa,Ca),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Aa),fi(Aa,t)}function Da(){li(Aa),li(Na),li(Oa)}function La(e){Ra(Oa.current);var t=Ra(Aa.current),n=pe(t,e.type);t!==n&&(fi(Na,e),fi(Aa,n))}function Ma(e){Na.current===e&&(li(Aa),li(Na))}var Ua=ci(0);function Fa(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ja=null,Va=null,za=!1;function qa(e,t){var n=Ks(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ba(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ka(e){if(za){var t=Va;if(t){var n=t;if(!Ba(e,t)){if(!(t=Qr(n.nextSibling))||!Ba(e,t))return e.flags=-1025&e.flags|2,za=!1,void(ja=e);qa(ja,n)}ja=e,Va=Qr(t.firstChild)}else e.flags=-1025&e.flags|2,za=!1,ja=e}}function Wa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ja=e}function Ha(e){if(e!==ja)return!1;if(!za)return Wa(e),za=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Kr(t,e.memoizedProps))for(t=Va;t;)qa(e,t),t=Qr(t.nextSibling);if(Wa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Va=Qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Va=null}}else Va=ja?Qr(e.stateNode.nextSibling):null;return!0}function Ga(){Va=ja=null,za=!1}var Qa=[];function Ya(){for(var e=0;e<Qa.length;e++)Qa[e]._workInProgressVersionPrimary=null;Qa.length=0}var Xa=w.ReactCurrentDispatcher,Ja=w.ReactCurrentBatchConfig,$a=0,Za=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if($a=a,Za=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xa.current=null===e||null===e.memoizedState?Po:Do,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,Xa.current=Lo,e=n(r,i)}while(ro)}if(Xa.current=Ro,t=null!==eo&&null!==eo.next,$a=0,to=eo=Za=null,no=!1,t)throw Error(o(300));return e}function uo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Za.memoizedState=to=e:to=to.next=e,to}function so(){if(null===eo){var e=Za.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Za.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Za.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var u=i.next;i.next=a.next,a.next=u}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=u=a=null,c=i;do{var l=c.lane;if(($a&l)===l)null!==s&&(s=s.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===s?(u=s=f,a=r):s=s.next=f,Za.lanes|=l,zu|=l}c=c.next}while(null!==c&&c!==i);null===s?a=r:s.next=u,lr(r,t.memoizedState)||(Uo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{a=e(a,u.action),u=u.next}while(u!==i);lr(a,t.memoizedState)||(Uo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=($a&e)===e)&&(t._workInProgressVersionPrimary=r,Qa.push(t))),e)return n(t._source);throw Qa.push(t),Error(o(350))}function po(e,t,n,r){var i=Pu;if(null===i)throw Error(o(349));var a=t._getVersion,u=a(t._source),s=Xa.current,c=s.useState((function(){return ho(i,t,n)})),l=c[1],f=c[0];c=to;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var m=Za;return e.memoizedState={refs:d,source:t,subscribe:r},s.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!lr(u,e)){e=n(t._source),lr(f,e)||(l(e),e=ds(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var s=31-Kt(o),c=1<<s;r[s]|=e,o&=~c}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=ds(m);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=Oo.bind(null,Za,e),c.queue=e,c.baseQueue=null,f=ho(i,t,n),c.memoizedState=c.baseState=f),f}function vo(e,t,n){return po(so(),e,t,n)}function mo(e){var t=uo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Oo.bind(null,Za,e),[t.memoizedState,e]}function yo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Za.updateQueue)?(t={lastEffect:null},Za.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(e){return e={current:e},uo().memoizedState=e}function ko(){return so().memoizedState}function bo(e,t,n,r){var i=uo();Za.flags|=e,i.memoizedState=yo(1|t,n,void 0,void 0===r?null:r)}function wo(e,t,n,r){var i=so();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void yo(t,n,a,r)}Za.flags|=e,i.memoizedState=yo(1|t,n,a,r)}function _o(e,t){return bo(516,4,e,t)}function xo(e,t){return wo(516,4,e,t)}function Io(e,t){return wo(4,2,e,t)}function Eo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function To(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,Eo.bind(null,t,e),n)}function So(){}function Co(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ao(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function No(e,t){var n=Ki();Hi(98>n?98:n,(function(){e(!0)})),Hi(97<n?97:n,(function(){var n=Ja.transition;Ja.transition=1;try{e(!1),t()}finally{Ja.transition=n}}))}function Oo(e,t,n){var r=hs(),i=ds(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Za||null!==o&&o===Za)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var u=t.lastRenderedState,s=o(u,n);if(a.eagerReducer=o,a.eagerState=s,lr(s,u))return}catch(c){}ps(e,i,r)}}var Ro={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Po={readContext:oa,useCallback:function(e,t){return uo().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:_o,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,Eo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bo(4,2,e,t)},useMemo:function(e,t){var n=uo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=uo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Oo.bind(null,Za,e),[r.memoizedState,e]},useRef:go,useState:mo,useDebugValue:So,useDeferredValue:function(e){var t=mo(e),n=t[0],r=t[1];return _o((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=mo(!1),t=e[0];return go(e=No.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=uo();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(za){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Xr++).toString(36))),Error(o(355))})),n=mo(t)[1];return 0===(2&Za.mode)&&(Za.flags|=516,yo(5,(function(){n("r:"+(Xr++).toString(36))}),void 0,null)),t}return mo(t="r:"+(Xr++).toString(36)),t},unstable_isNewReconciler:!1},Do={readContext:oa,useCallback:Co,useContext:oa,useEffect:xo,useImperativeHandle:To,useLayoutEffect:Io,useMemo:Ao,useReducer:lo,useRef:ko,useState:function(){return lo(co)},useDebugValue:So,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return xo((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Lo={readContext:oa,useCallback:Co,useContext:oa,useEffect:xo,useImperativeHandle:To,useLayoutEffect:Io,useMemo:Ao,useReducer:fo,useRef:ko,useState:function(){return fo(co)},useDebugValue:So,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return xo((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},Mo=w.ReactCurrentOwner,Uo=!1;function Fo(e,t,n,r){t.child=null===e?Sa(t,null,n,r):Ta(t,e.child,n,r)}function jo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||Uo?(t.flags|=1,Fo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Vo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Ws(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gs(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,zo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?au(e,t,a):(t.flags|=1,(e=Hs(o,r)).ref=t.ref,e.return=t,t.child=e)}function zo(e,t,n,r,i,a){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Uo=!1,0===(a&i))return t.lanes=e.lanes,au(e,t,a);0!==(16384&e.flags)&&(Uo=!0)}return Ko(e,t,n,r,a)}function qo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},_s(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},_s(t,e),null;t.memoizedState={baseLanes:0},_s(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,_s(t,r);return Fo(e,t,i,n),t.child}function Bo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ko(e,t,n,r,i){var a=yi(n)?vi:di.current;return a=mi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||Uo?(t.flags|=1,Fo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Wo(e,t,n,r,i){if(yi(n)){var a=!0;wi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ka(t,n,r),wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=mi(t,c=yi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&ba(t,o,r,c),ua=!1;var h=t.memoizedState;o.state=h,da(t,r,o,i),s=t.memoizedState,u!==r||h!==s||pi.current||ua?("function"===typeof l&&(ma(t,n,l,r),s=t.memoizedState),(u=ua||ga(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Ji(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=oa(s):s=mi(t,s=yi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&ba(t,o,r,s),ua=!1,h=t.memoizedState,o.state=h,da(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||pi.current||ua?("function"===typeof d&&(ma(t,n,d,r),p=t.memoizedState),(c=ua||ga(t,n,c,r,h,p,s))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ho(e,t,n,r,a,i)}function Ho(e,t,n,r,i,a){Bo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&_i(t,n,!1),au(e,t,a);r=t.stateNode,Mo.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ta(t,e.child,null,a),t.child=Ta(t,null,u,a)):Fo(e,t,u,a),t.memoizedState=r.state,i&&_i(t,n,!0),t.child}function Go(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Pa(e,t.containerInfo)}var Qo,Yo,Xo,Jo={dehydrated:null,retryLane:0};function $o(e,t,n){var r,i=t.pendingProps,a=Ua.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(Ua,1&a),null===e?(void 0!==i.fallback&&Ka(t),e=i.children,a=i.fallback,o?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,t.lanes=33554432,e):((n=Ys({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=tu(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Jo,i):(n=eu(e,t,i.children,n),t.memoizedState=null,n))}function Zo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Ys(t,i,0,null),n=Qs(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function eu(e,t,n,r){var i=e.child;return e=i.sibling,n=Hs(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function tu(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var u={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=u,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Hs(o,u),null!==e?r=Hs(e,r):(r=Qs(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function nu(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function ru(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function iu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Fo(e,t,r.children,n),0!==(2&(r=Ua.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nu(e,n);else if(19===e.tag)nu(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(Ua,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Fa(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ru(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Fa(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ru(t,!0,n,null,a,t.lastEffect);break;case"together":ru(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function au(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),zu|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Hs(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Hs(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ou(e,t){if(!za)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function uu(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return yi(t.type)&&gi(),null;case 3:return Da(),li(pi),li(di),Ya(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ha(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ma(t);var a=Ra(Oa.current);if(n=t.type,null!==e&&null!=t.stateNode)Yo(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Ra(Aa.current),Ha(t)){r=t.stateNode,n=t.type;var u=t.memoizedProps;switch(r[$r]=t,r[Zr]=u,n){case"dialog":Nr("cancel",r),Nr("close",r);break;case"iframe":case"object":case"embed":Nr("load",r);break;case"video":case"audio":for(e=0;e<Tr.length;e++)Nr(Tr[e],r);break;case"source":Nr("error",r);break;case"img":case"image":case"link":Nr("error",r),Nr("load",r);break;case"details":Nr("toggle",r);break;case"input":ee(r,u),Nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Nr("invalid",r);break;case"textarea":se(r,u),Nr("invalid",r)}for(var c in Ie(n,u),e=null,u)u.hasOwnProperty(c)&&(a=u[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):s.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Nr("scroll",r));switch(n){case"input":X(r),re(r,u,!0);break;case"textarea":X(r),le(r);break;case"select":case"option":break;default:"function"===typeof u.onClick&&(r.onclick=Vr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[$r]=t,e[Zr]=r,Qo(e,t),t.stateNode=e,c=Ee(n,r),n){case"dialog":Nr("cancel",e),Nr("close",e),a=r;break;case"iframe":case"object":case"embed":Nr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Tr.length;a++)Nr(Tr[a],e);a=r;break;case"source":Nr("error",e),a=r;break;case"img":case"image":case"link":Nr("error",e),Nr("load",e),a=r;break;case"details":Nr("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Nr("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Nr("invalid",e);break;case"textarea":se(e,r),a=ue(e,r),Nr("invalid",e);break;default:a=r}Ie(n,a);var l=a;for(u in l)if(l.hasOwnProperty(u)){var f=l[u];"style"===u?_e(e,f):"dangerouslySetInnerHTML"===u?null!=(f=f?f.__html:void 0)&&ye(e,f):"children"===u?"string"===typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"===typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?null!=f&&"onScroll"===u&&Nr("scroll",e):null!=f&&b(e,u,f,c))}switch(n){case"input":X(e),re(e,r,!1);break;case"textarea":X(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(u=r.value)?oe(e,!!r.multiple,u,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Vr)}Br(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Xo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Ra(Oa.current),Ra(Aa.current),Ha(t)?(r=t.stateNode,n=t.memoizedProps,r[$r]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[$r]=t,t.stateNode=r)}return null;case 13:return li(Ua),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ha(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Ua.current)?0===Fu&&(Fu=3):(0!==Fu&&3!==Fu||(Fu=4),null===Pu||0===(134217727&zu)&&0===(134217727&qu)||gs(Pu,Lu))),(r||n)&&(t.flags|=4),null);case 4:return Da(),null===e&&Rr(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(Ua),null===(r=t.memoizedState))return null;if(u=0!==(64&t.flags),null===(c=r.rendering))if(u)ou(r,!1);else{if(0!==Fu||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Fa(e))){for(t.flags|=64,ou(r,!1),null!==(u=c.updateQueue)&&(t.updateQueue=u,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(u=n).flags&=2,u.nextEffect=null,u.firstEffect=null,u.lastEffect=null,null===(c=u.alternate)?(u.childLanes=0,u.lanes=e,u.child=null,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=c.childLanes,u.lanes=c.lanes,u.child=c.child,u.memoizedProps=c.memoizedProps,u.memoizedState=c.memoizedState,u.updateQueue=c.updateQueue,u.type=c.type,e=c.dependencies,u.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(Ua,1&Ua.current|2),t.child}e=e.sibling}null!==r.tail&&Bi()>Hu&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432)}else{if(!u)if(null!==(e=Fa(c))){if(t.flags|=64,u=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ou(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!za)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Bi()-r.renderingStartTime>Hu&&1073741824!==n&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Bi(),n.sibling=null,t=Ua.current,fi(Ua,u?1&t|2:1&t),n):null;case 23:case 24:return xs(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function su(e){switch(e.tag){case 1:yi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Da(),li(pi),li(di),Ya(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ma(e),null;case 13:return li(Ua),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Ua),null;case 4:return Da(),null;case 10:return ra(e),null;case 23:case 24:return xs(),null;default:return null}}function cu(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function lu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Qo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Yo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Ra(Aa.current);var o,u=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),u=[];break;case"option":a=ae(e,a),r=ae(e,r),u=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),u=[];break;case"textarea":a=ue(e,a),r=ue(e,r),u=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Vr)}for(f in Ie(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(s.hasOwnProperty(f)?u||(u=[]):(u=u||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(u||(u=[]),u.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(u=u||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(u=u||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(s.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Nr("scroll",e),u||c===l||(u=[])):"object"===typeof l&&null!==l&&l.$$typeof===L?l.toString():(u=u||[]).push(f,l))}n&&(u=u||[]).push("style",n);var f=u;(t.updateQueue=f)&&(t.flags|=4)}},Xo=function(e,t,n,r){n!==r&&(t.flags|=4)};var fu="function"===typeof WeakMap?WeakMap:Map;function hu(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Xu||(Xu=!0,Ju=r),lu(0,t)},n}function du(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return lu(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===$u?$u=new Set([this]):$u.add(this),lu(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var pu="function"===typeof WeakSet?WeakSet:Set;function vu(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Vs(e,n)}else t.current=null}function mu(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ji(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(o(163))}function yu(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Us(n,e),Ms(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Ji(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Br(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&_t(n)))))}throw Error(o(163))}function gu(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ku(e,t){if(Ii&&"function"===typeof Ii.onCommitFiberUnmount)try{Ii.onCommitFiberUnmount(xi,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Us(t,n);else{r=t;try{i()}catch(a){Vs(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vu(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Vs(t,a)}break;case 5:vu(t);break;case 4:Eu(e,t)}}function bu(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function wu(e){return 5===e.tag||3===e.tag||4===e.tag}function _u(e){e:{for(var t=e.return;null!==t;){if(wu(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||wu(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?xu(e,n,t):Iu(e,n,t)}function xu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Vr));else if(4!==r&&null!==(e=e.child))for(xu(e,t,n),e=e.sibling;null!==e;)xu(e,t,n),e=e.sibling}function Iu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Iu(e,t,n),e=e.sibling;null!==e;)Iu(e,t,n),e=e.sibling}function Eu(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var u=e,s=i,c=s;;)if(ku(u,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===s)break e;for(;null===c.sibling;){if(null===c.return||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(u=n,s=i.stateNode,8===u.nodeType?u.parentNode.removeChild(s):u.removeChild(s)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ku(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Tu(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ee(e,i),t=Ee(e,r),i=0;i<a.length;i+=2){var u=a[i],s=a[i+1];"style"===u?_e(n,s):"dangerouslySetInnerHTML"===u?ye(n,s):"children"===u?ge(n,s):b(n,u,s,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,_t(n.containerInfo)));case 13:return null!==t.memoizedState&&(Wu=Bi(),gu(t.child,!0)),void Su(t);case 19:return void Su(t);case 23:case 24:return void gu(t,null!==t.memoizedState)}throw Error(o(163))}function Su(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new pu),t.forEach((function(t){var r=qs.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Cu(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Au=Math.ceil,Nu=w.ReactCurrentDispatcher,Ou=w.ReactCurrentOwner,Ru=0,Pu=null,Du=null,Lu=0,Mu=0,Uu=ci(0),Fu=0,ju=null,Vu=0,zu=0,qu=0,Bu=0,Ku=null,Wu=0,Hu=1/0;function Gu(){Hu=Bi()+500}var Qu,Yu=null,Xu=!1,Ju=null,$u=null,Zu=!1,es=null,ts=90,ns=[],rs=[],is=null,as=0,os=null,us=-1,ss=0,cs=0,ls=null,fs=!1;function hs(){return 0!==(48&Ru)?Bi():-1!==us?us:us=Bi()}function ds(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Ki()?1:2;if(0===ss&&(ss=Vu),0!==Xi.transition){0!==cs&&(cs=null!==Ku?Ku.pendingLanes:0),e=ss;var t=4186112&~cs;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Ki(),0!==(4&Ru)&&98===e?e=Vt(12,ss):e=Vt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ss),e}function ps(e,t,n){if(50<as)throw as=0,os=null,Error(o(185));if(null===(e=vs(e,t)))return null;Bt(e,t,n),e===Pu&&(qu|=t,4===Fu&&gs(e,Lu));var r=Ki();1===t?0!==(8&Ru)&&0===(48&Ru)?ks(e):(ms(e,n),0===Ru&&(Gu(),Qi())):(0===(4&Ru)||98!==r&&99!==r||(null===is?is=new Set([e]):is.add(e)),ms(e,n)),Ku=e}function vs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function ms(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,u=e.pendingLanes;0<u;){var s=31-Kt(u),c=1<<s,l=a[s];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Ut(c);var f=Mt;a[s]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);u&=~c}if(r=Ft(e,e===Pu?Lu:0),t=Mt,0===r)null!==n&&(n!==Ui&&Si(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Ui&&Si(n)}15===t?(n=ks.bind(null,e),null===ji?(ji=[n],Vi=Ti(Ri,Yi)):ji.push(n),n=Ui):14===t?n=Gi(99,ks.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Gi(n,ys.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function ys(e){if(us=-1,cs=ss=0,0!==(48&Ru))throw Error(o(327));var t=e.callbackNode;if(Ls()&&e.callbackNode!==t)return null;var n=Ft(e,e===Pu?Lu:0);if(0===n)return null;var r=n,i=Ru;Ru|=16;var a=Ts();for(Pu===e&&Lu===r||(Gu(),Is(e,r));;)try{As();break}catch(s){Es(e,s)}if(na(),Nu.current=a,Ru=i,null!==Du?r=0:(Pu=null,Lu=0,r=Fu),0!==(Vu&qu))Is(e,0);else if(0!==r){if(2===r&&(Ru|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=jt(e))&&(r=Ss(e,n))),1===r)throw t=ju,Is(e,0),gs(e,n),ms(e,Bi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Rs(e);break;case 3:if(gs(e,n),(62914560&n)===n&&10<(r=Wu+500-Bi())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Wr(Rs.bind(null,e),r);break}Rs(e);break;case 4:if(gs(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var u=31-Kt(n);a=1<<u,(u=r[u])>i&&(i=u),n&=~a}if(n=i,10<(n=(120>(n=Bi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Au(n/1960))-n)){e.timeoutHandle=Wr(Rs.bind(null,e),n);break}Rs(e);break;default:throw Error(o(329))}}return ms(e,Bi()),e.callbackNode===t?ys.bind(null,e):null}function gs(e,t){for(t&=~Bu,t&=~qu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Kt(t),r=1<<n;e[n]=-1,t&=~r}}function ks(e){if(0!==(48&Ru))throw Error(o(327));if(Ls(),e===Pu&&0!==(e.expiredLanes&Lu)){var t=Lu,n=Ss(e,t);0!==(Vu&qu)&&(n=Ss(e,t=Ft(e,t)))}else n=Ss(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(Ru|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=jt(e))&&(n=Ss(e,t))),1===n)throw n=ju,Is(e,0),gs(e,t),ms(e,Bi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Rs(e),ms(e,Bi()),null}function bs(e,t){var n=Ru;Ru|=1;try{return e(t)}finally{0===(Ru=n)&&(Gu(),Qi())}}function ws(e,t){var n=Ru;Ru&=-2,Ru|=8;try{return e(t)}finally{0===(Ru=n)&&(Gu(),Qi())}}function _s(e,t){fi(Uu,Mu),Mu|=t,Vu|=t}function xs(){Mu=Uu.current,li(Uu)}function Is(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Hr(n)),null!==Du)for(n=Du.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:Da(),li(pi),li(di),Ya();break;case 5:Ma(r);break;case 4:Da();break;case 13:case 19:li(Ua);break;case 10:ra(r);break;case 23:case 24:xs()}n=n.return}Pu=e,Du=Hs(e.current,null),Lu=Mu=Vu=t,Fu=0,ju=null,Bu=qu=zu=0}function Es(e,t){for(;;){var n=Du;try{if(na(),Xa.current=Ro,no){for(var r=Za.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if($a=0,to=eo=Za=null,ro=!1,Ou.current=null,null===n||null===n.return){Fu=1,ju=t,Du=null;break}e:{var a=e,o=n.return,u=n,s=t;if(t=Lu,u.flags|=2048,u.firstEffect=u.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var c=s;if(0===(2&u.mode)){var l=u.alternate;l?(u.updateQueue=l.updateQueue,u.memoizedState=l.memoizedState,u.lanes=l.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=0!==(1&Ua.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var m=h.updateQueue;if(null===m){var y=new Set;y.add(c),h.updateQueue=y}else m.add(c);if(0===(2&h.mode)){if(h.flags|=64,u.flags|=16384,u.flags&=-2981,1===u.tag)if(null===u.alternate)u.tag=17;else{var g=la(-1,1);g.tag=2,fa(u,g)}u.lanes|=1;break e}s=void 0,u=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fu,s=new Set,k.set(c,s)):void 0===(s=k.get(c))&&(s=new Set,k.set(c,s)),!s.has(u)){s.add(u);var b=zs.bind(null,a,c,u);c.then(b,b)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);s=Error((G(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Fu&&(Fu=2),s=cu(s,u),h=o;do{switch(h.tag){case 3:a=s,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,hu(0,a,t));break e;case 1:a=s;var w=h.type,_=h.stateNode;if(0===(64&h.flags)&&("function"===typeof w.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===$u||!$u.has(_)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,du(h,a,t));break e}}h=h.return}while(null!==h)}Os(n)}catch(x){t=x,Du===n&&null!==n&&(Du=n=n.return);continue}break}}function Ts(){var e=Nu.current;return Nu.current=Ro,null===e?Ro:e}function Ss(e,t){var n=Ru;Ru|=16;var r=Ts();for(Pu===e&&Lu===t||Is(e,t);;)try{Cs();break}catch(i){Es(e,i)}if(na(),Ru=n,Nu.current=r,null!==Du)throw Error(o(261));return Pu=null,Lu=0,Fu}function Cs(){for(;null!==Du;)Ns(Du)}function As(){for(;null!==Du&&!Ci();)Ns(Du)}function Ns(e){var t=Qu(e.alternate,e,Mu);e.memoizedProps=e.pendingProps,null===t?Os(e):Du=t,Ou.current=null}function Os(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=uu(n,t,Mu)))return void(Du=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Mu)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=su(t)))return n.flags&=2047,void(Du=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Du=t);Du=t=e}while(null!==t);0===Fu&&(Fu=5)}function Rs(e){var t=Ki();return Hi(99,Ps.bind(null,e,t)),null}function Ps(e,t){do{Ls()}while(null!==es);if(0!==(48&Ru))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var u=e.eventTimes,s=e.expirationTimes;0<a;){var c=31-Kt(a),l=1<<c;i[c]=0,u[c]=-1,s[c]=-1,a&=~l}if(null!==is&&0===(24&r)&&is.has(e)&&is.delete(e),e===Pu&&(Du=Pu=null,Lu=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ru,Ru|=32,Ou.current=null,zr=Yt,yr(u=mr())){if("selectionStart"in u)s={start:u.selectionStart,end:u.selectionEnd};else e:if(s=(s=u.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&0!==l.rangeCount){s=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{s.nodeType,c.nodeType}catch(T){s=null;break e}var f=0,h=-1,d=-1,p=0,v=0,m=u,y=null;t:for(;;){for(var g;m!==s||0!==a&&3!==m.nodeType||(h=f+a),m!==c||0!==l&&3!==m.nodeType||(d=f+l),3===m.nodeType&&(f+=m.nodeValue.length),null!==(g=m.firstChild);)y=m,m=g;for(;;){if(m===u)break t;if(y===s&&++p===a&&(h=f),y===c&&++v===l&&(d=f),null!==(g=m.nextSibling))break;y=(m=y).parentNode}m=g}s=-1===h||-1===d?null:{start:h,end:d}}else s=null;s=s||{start:0,end:0}}else s=null;qr={focusedElem:u,selectionRange:s},Yt=!1,ls=null,fs=!1,Yu=r;do{try{Ds()}catch(T){if(null===Yu)throw Error(o(330));Vs(Yu,T),Yu=Yu.nextEffect}}while(null!==Yu);ls=null,Yu=r;do{try{for(u=e;null!==Yu;){var k=Yu.flags;if(16&k&&ge(Yu.stateNode,""),128&k){var b=Yu.alternate;if(null!==b){var w=b.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&k){case 2:_u(Yu),Yu.flags&=-3;break;case 6:_u(Yu),Yu.flags&=-3,Tu(Yu.alternate,Yu);break;case 1024:Yu.flags&=-1025;break;case 1028:Yu.flags&=-1025,Tu(Yu.alternate,Yu);break;case 4:Tu(Yu.alternate,Yu);break;case 8:Eu(u,s=Yu);var _=s.alternate;bu(s),null!==_&&bu(_)}Yu=Yu.nextEffect}}catch(T){if(null===Yu)throw Error(o(330));Vs(Yu,T),Yu=Yu.nextEffect}}while(null!==Yu);if(w=qr,b=mr(),k=w.focusedElem,u=w.selectionRange,b!==k&&k&&k.ownerDocument&&vr(k.ownerDocument.documentElement,k)){null!==u&&yr(k)&&(b=u.start,void 0===(w=u.end)&&(w=b),"selectionStart"in k?(k.selectionStart=b,k.selectionEnd=Math.min(w,k.value.length)):(w=(b=k.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),s=k.textContent.length,_=Math.min(u.start,s),u=void 0===u.end?_:Math.min(u.end,s),!w.extend&&_>u&&(s=u,u=_,_=s),s=pr(k,_),a=pr(k,u),s&&a&&(1!==w.rangeCount||w.anchorNode!==s.node||w.anchorOffset!==s.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((b=b.createRange()).setStart(s.node,s.offset),w.removeAllRanges(),_>u?(w.addRange(b),w.extend(a.node,a.offset)):(b.setEnd(a.node,a.offset),w.addRange(b))))),b=[];for(w=k;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<b.length;k++)(w=b[k]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Yt=!!zr,qr=zr=null,e.current=n,Yu=r;do{try{for(k=e;null!==Yu;){var x=Yu.flags;if(36&x&&yu(k,Yu.alternate,Yu),128&x){b=void 0;var I=Yu.ref;if(null!==I){var E=Yu.stateNode;Yu.tag,b=E,"function"===typeof I?I(b):I.current=b}}Yu=Yu.nextEffect}}catch(T){if(null===Yu)throw Error(o(330));Vs(Yu,T),Yu=Yu.nextEffect}}while(null!==Yu);Yu=null,Fi(),Ru=i}else e.current=n;if(Zu)Zu=!1,es=e,ts=t;else for(Yu=r;null!==Yu;)t=Yu.nextEffect,Yu.nextEffect=null,8&Yu.flags&&((x=Yu).sibling=null,x.stateNode=null),Yu=t;if(0===(r=e.pendingLanes)&&($u=null),1===r?e===os?as++:(as=0,os=e):as=0,n=n.stateNode,Ii&&"function"===typeof Ii.onCommitFiberRoot)try{Ii.onCommitFiberRoot(xi,n,void 0,64===(64&n.current.flags))}catch(T){}if(ms(e,Bi()),Xu)throw Xu=!1,e=Ju,Ju=null,e;return 0!==(8&Ru)||Qi(),null}function Ds(){for(;null!==Yu;){var e=Yu.alternate;fs||null===ls||(0!==(8&Yu.flags)?et(Yu,ls)&&(fs=!0):13===Yu.tag&&Cu(e,Yu)&&et(Yu,ls)&&(fs=!0));var t=Yu.flags;0!==(256&t)&&mu(e,Yu),0===(512&t)||Zu||(Zu=!0,Gi(97,(function(){return Ls(),null}))),Yu=Yu.nextEffect}}function Ls(){if(90!==ts){var e=97<ts?97:ts;return ts=90,Hi(e,Fs)}return!1}function Ms(e,t){ns.push(t,e),Zu||(Zu=!0,Gi(97,(function(){return Ls(),null})))}function Us(e,t){rs.push(t,e),Zu||(Zu=!0,Gi(97,(function(){return Ls(),null})))}function Fs(){if(null===es)return!1;var e=es;if(es=null,0!==(48&Ru))throw Error(o(331));var t=Ru;Ru|=32;var n=rs;rs=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],u=i.destroy;if(i.destroy=void 0,"function"===typeof u)try{u()}catch(c){if(null===a)throw Error(o(330));Vs(a,c)}}for(n=ns,ns=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var s=i.create;i.destroy=s()}catch(c){if(null===a)throw Error(o(330));Vs(a,c)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return Ru=t,Qi(),!0}function js(e,t,n){fa(e,t=hu(0,t=cu(n,t),1)),t=hs(),null!==(e=vs(e,1))&&(Bt(e,1,t),ms(e,t))}function Vs(e,t){if(3===e.tag)js(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){js(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===$u||!$u.has(r))){var i=du(n,e=cu(t,e),1);if(fa(n,i),i=hs(),null!==(n=vs(n,1)))Bt(n,1,i),ms(n,i);else if("function"===typeof r.componentDidCatch&&(null===$u||!$u.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function zs(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hs(),e.pingedLanes|=e.suspendedLanes&n,Pu===e&&(Lu&n)===n&&(4===Fu||3===Fu&&(62914560&Lu)===Lu&&500>Bi()-Wu?Is(e,0):Bu|=n),ms(e,t)}function qs(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Ki()?1:2:(0===ss&&(ss=Vu),0===(t=zt(62914560&~ss))&&(t=4194304))),n=hs(),null!==(e=vs(e,t))&&(Bt(e,t,n),ms(e,n))}function Bs(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ks(e,t,n,r){return new Bs(e,t,n,r)}function Ws(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Hs(e,t){var n=e.alternate;return null===n?((n=Ks(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gs(e,t,n,r,i,a){var u=2;if(r=e,"function"===typeof e)Ws(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case I:return Qs(n.children,i,a,t);case M:u=8,i|=16;break;case E:u=8,i|=1;break;case T:return(e=Ks(12,n,t,8|i)).elementType=T,e.type=T,e.lanes=a,e;case N:return(e=Ks(13,n,t,i)).type=N,e.elementType=N,e.lanes=a,e;case O:return(e=Ks(19,n,t,i)).elementType=O,e.lanes=a,e;case U:return Ys(n,i,a,t);case F:return(e=Ks(24,n,t,i)).elementType=F,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:u=10;break e;case C:u=9;break e;case A:u=11;break e;case R:u=14;break e;case P:u=16,r=null;break e;case D:u=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ks(u,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Qs(e,t,n,r){return(e=Ks(7,e,r,t)).lanes=n,e}function Ys(e,t,n,r){return(e=Ks(23,e,r,t)).elementType=U,e.lanes=n,e}function Xs(e,t,n){return(e=Ks(6,e,null,t)).lanes=n,e}function Js(e,t,n){return(t=Ks(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $s(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=qt(0),this.expirationTimes=qt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qt(0),this.mutableSourceEagerHydrationData=null}function Zs(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=hs(),u=ds(i);e:if(n){t:{if(Xe(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(yi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(o(171))}if(1===n.tag){var c=n.type;if(yi(c)){n=bi(n,c,s);break e}}n=s}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,u)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),ps(i,u,a),u}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new $s(e,t,null!=n&&!0===n.hydrate),t=Ks(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,sa(t),e[ei]=n.current,Rr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}ws((function(){ec(t,o,e,i)}))}return tc(o)}function uc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return Zs(e,t,null,n)}Qu=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Uo=!0;else{if(0===(n&r)){switch(Uo=!1,t.tag){case 3:Go(t),Ga();break;case 5:La(t);break;case 1:yi(t.type)&&wi(t);break;case 4:Pa(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi($i,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?$o(e,t,n):(fi(Ua,1&Ua.current),null!==(t=au(e,t,n))?t.sibling:null);fi(Ua,1&Ua.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return iu(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(Ua,Ua.current),r)break;return null;case 23:case 24:return t.lanes=0,qo(e,t,n)}return au(e,t,n)}Uo=0!==(16384&e.flags)}else Uo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,yi(r)){var a=!0;wi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,sa(t);var u=r.getDerivedStateFromProps;"function"===typeof u&&ma(t,r,u,e),i.updater=ya,t.stateNode=i,i._reactInternals=t,wa(t,r,e,n),t=Ho(null,t,r,!0,a,n)}else t.tag=0,Fo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Ws(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===R)return 14}return 2}(i),e=Ji(i,e),a){case 0:t=Ko(null,t,i,e,n);break e;case 1:t=Wo(null,t,i,e,n);break e;case 11:t=jo(null,t,i,e,n);break e;case 14:t=Vo(null,t,i,Ji(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ko(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 1:return r=t.type,i=t.pendingProps,Wo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 3:if(Go(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ga(),t=au(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Va=Qr(t.stateNode.containerInfo.firstChild),ja=t,a=za=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Qa.push(a);for(n=Sa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Fo(e,t,r,n),Ga();t=t.child}return t;case 5:return La(t),null===e&&Ka(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,u=i.children,Kr(r,i)?u=null:null!==a&&Kr(r,a)&&(t.flags|=16),Bo(e,t),Fo(e,t,u,n),t.child;case 6:return null===e&&Ka(t),null;case 13:return $o(e,t,n);case 4:return Pa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ta(t,null,r,n):Fo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,jo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 7:return Fo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,u=t.memoizedProps,a=i.value;var s=t.type._context;if(fi($i,s._currentValue),s._currentValue=a,null!==u)if(s=u.value,0===(a=lr(s,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(s,a):1073741823))){if(u.children===i.children&&!pi.current){t=au(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){u=s.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===s.tag&&((l=la(-1,n&-n)).tag=2,fa(s,l)),s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ia(s.return,n),c.lanes|=n;break}l=l.next}}else u=10===s.tag&&s.type===t.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===t){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}Fo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,Fo(e,t,r,n),t.child;case 14:return a=Ji(i=t.type,t.pendingProps),Vo(e,t,i,a=Ji(i.type,a),r,n);case 15:return zo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ji(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,yi(r)?(e=!0,wi(t)):e=!1,aa(t,n),ka(t,r,i),wa(t,r,i,n),Ho(null,t,r,!0,e,n);case 19:return iu(e,t,n);case 23:case 24:return qo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(ps(e,4,hs()),rc(e,4))},nt=function(e){13===e.tag&&(ps(e,67108864,hs()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hs(),n=ds(e);ps(e,n,t),rc(e,n)}},it=function(e,t){return t()},Se=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));J(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Pe=bs,De=function(e,t,n,r,i){var a=Ru;Ru|=4;try{return Hi(98,e.bind(null,t,n,r,i))}finally{0===(Ru=a)&&(Gu(),Qi())}},Le=function(){0===(49&Ru)&&(function(){if(null!==is){var e=is;is=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,ms(e,Bi())}))}Qi()}(),Ls())},Me=function(e,t){var n=Ru;Ru|=2;try{return e(t)}finally{0===(Ru=n)&&(Gu(),Qi())}};var sc={Events:[ri,ii,ai,Oe,Re,Ls,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{xi=fc.inject(lc),Ii=fc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sc,t.createPortal=uc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ru;if(0!==(48&n))return e(t);Ru|=1;try{if(e)return Hi(99,e.bind(null,t))}finally{Ru=n,Qi()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(ws((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=bs,t.unstable_createPortal=function(e,t){return uc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)u.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,u=60110,s=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),u=f("react.context"),s=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var k=g.prototype=new y;k.constructor=g,r(k,m.prototype),k.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,_={key:!0,ref:!0,__self:!0,__source:!0};function x(e,t,n){var r,a={},o=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!_.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return{$$typeof:i,type:e,key:o,ref:u,props:a,_owner:b.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var E=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function S(e,t,n,r,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case i:case a:s=!0}}if(s)return o=o(s=e),e=""===r?"."+T(s,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(E,"$&/")+"/"),S(o,t,n,"",(function(e){return e}))):null!=o&&(I(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(E,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+T(u=e[c],c);s+=S(u,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=S(u=u.value,t,n,l=r+T(u,c++),o);else if("object"===u)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function C(e,t,n){if(null==e)return e;var r=[],i=0;return S(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var N={current:null};function O(){var e=N.current;if(null===e)throw Error(d(321));return e}var R={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error(d(143));return e}},t.Component=m,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,u=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,s=b.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!_.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:u,props:a,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:u,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=x,t.createFactory=function(e){var t=x.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return O().useCallback(e,t)},t.useContext=function(e,t){return O().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return O().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return O().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return O().useLayoutEffect(e,t)},t.useMemo=function(e,t){return O().useMemo(e,t)},t.useReducer=function(e,t,n){return O().useReducer(e,t,n)},t.useRef=function(e){return O().useRef(e)},t.useState=function(e){return O().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(O){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return N()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=E(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?p:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(O){return{type:"throw",arg:O}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function y(){}function g(){}var k={};s(k,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(A([])));w&&w!==n&&r.call(w,a)&&(k=w);var _=g.prototype=m.prototype=Object.create(k);function x(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function E(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function A(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:N}}function N(){return{value:t,done:!0}}return y.prototype=g,s(_,"constructor",g),s(g,"constructor",y),y.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,u,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},x(I.prototype),s(I.prototype,o,(function(){return this})),e.AsyncIterator=I,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new I(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},x(_),s(_,u,"Generator"),s(_,a,(function(){return this})),s(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,y=-1,g=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();k=e+g;try{m(!0,e)?w.postMessage(null):(v=!1,m=null)}catch(n){throw w.postMessage(null),n}}else v=!1},n=function(e){m=e,v||(v=!0,w.postMessage(null))},r=function(e,n){y=h((function(){e(t.unstable_now())}),n)},i=function(){d(y),y=-1}}function _(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<E(i,t)))break e;e[r]=t,e[n]=i,n=r}}function x(e){return void 0===(e=e[0])?null:e}function I(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],u=a+1,s=e[u];if(void 0!==o&&0>E(o,n))void 0!==s&&0>E(s,o)?(e[r]=s,e[u]=n,r=u):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==s&&0>E(s,n)))break e;e[r]=s,e[u]=n,r=u}}}return t}return null}function E(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var T=[],S=[],C=1,A=null,N=3,O=!1,R=!1,P=!1;function D(e){for(var t=x(S);null!==t;){if(null===t.callback)I(S);else{if(!(t.startTime<=e))break;I(S),t.sortIndex=t.expirationTime,_(T,t)}t=x(S)}}function L(e){if(P=!1,D(e),!R)if(null!==x(T))R=!0,n(M);else{var t=x(S);null!==t&&r(L,t.startTime-e)}}function M(e,n){R=!1,P&&(P=!1,i()),O=!0;var a=N;try{for(D(n),A=x(T);null!==A&&(!(A.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=A.callback;if("function"===typeof o){A.callback=null,N=A.priorityLevel;var u=o(A.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?A.callback=u:A===x(T)&&I(T),D(n)}else I(T);A=x(T)}if(null!==A)var s=!0;else{var c=x(S);null!==c&&r(L,c.startTime-n),s=!1}return s}finally{A=null,N=a,O=!1}}var U=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){R||O||(R=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return x(T)},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=U,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},t.unstable_scheduleCallback=function(e,a,o){var u=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?u+o:u:o=u,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:C++,callback:a,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>u?(e.sortIndex=o,_(S,e),null===x(T)&&e===x(S)&&(P?i():P=!0,r(L,o-u))):(e.sortIndex=s,_(T,e),R||O||(R=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Jr},SDK_VERSION:function(){return Hi},_DEFAULT_ENTRY_NAME:function(){return Oi},_addComponent:function(){return Li},_addOrOverwriteComponent:function(){return Mi},_apps:function(){return Pi},_clearComponents:function(){return Vi},_components:function(){return Di},_getProvider:function(){return Fi},_registerComponent:function(){return Ui},_removeServiceInstance:function(){return ji},deleteApp:function(){return Xi},getApp:function(){return Qi},getApps:function(){return Yi},initializeApp:function(){return Gi},onLog:function(){return Zi},registerVersion:function(){return $i},setLogLevel:function(){return ea}});var t,r=n(791),i=n(164);function a(e){if(Array.isArray(e))return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){return a(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||u(e,t)||s()}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var f=function(e){return e};var h="beforeunload",d="popstate";function p(e){void 0===e&&(e={});var n=e.window,r=void 0===n?document.defaultView:n,i=r.history;function a(){var e=k(r.location.hash.substr(1)),t=e.pathname,n=void 0===t?"/":t,a=e.search,o=void 0===a?"":a,u=e.hash,s=void 0===u?"":u,c=i.state||{};return[c.idx,f({pathname:n,search:o,hash:s,state:c.usr||null,key:c.key||"default"})]}var o=null;function u(){if(o)_.call(o),o=null;else{var e=t.Pop,n=a(),r=n[0],i=n[1];if(_.length){if(null!=r){var u=p-r;u&&(o={action:e,location:i,retry:function(){C(-1*u)}},C(u))}}else S(e)}}r.addEventListener(d,u),r.addEventListener("hashchange",(function(){g(a()[1])!==g(b)&&u()}));var s=t.Pop,c=a(),p=c[0],b=c[1],w=m(),_=m();function x(e){return function(){var e=document.querySelector("base"),t="";if(e&&e.getAttribute("href")){var n=r.location.href,i=n.indexOf("#");t=-1===i?n:n.slice(0,i)}return t}()+"#"+("string"===typeof e?e:g(e))}function I(e,t){return void 0===t&&(t=null),f(l({pathname:b.pathname,hash:"",search:""},"string"===typeof e?k(e):e,{state:t,key:y()}))}function E(e,t){return[{usr:e.state,key:e.key,idx:t},x(e)]}function T(e,t,n){return!_.length||(_.call({action:e,location:t,retry:n}),!1)}function S(e){s=e;var t=a();p=t[0],b=t[1],w.call({action:s,location:b})}function C(e){i.go(e)}null==p&&(p=0,i.replaceState(l({},i.state,{idx:p}),""));var A={get action(){return s},get location(){return b},createHref:x,push:function e(n,a){var o=t.Push,u=I(n,a);if(T(o,u,(function(){e(n,a)}))){var s=E(u,p+1),c=s[0],l=s[1];try{i.pushState(c,"",l)}catch(f){r.location.assign(l)}S(o)}},replace:function e(n,r){var a=t.Replace,o=I(n,r);if(T(a,o,(function(){e(n,r)}))){var u=E(o,p),s=u[0],c=u[1];i.replaceState(s,"",c),S(a)}},go:C,back:function(){C(-1)},forward:function(){C(1)},listen:function(e){return w.push(e)},block:function(e){var t=_.push(e);return 1===_.length&&r.addEventListener(h,v),function(){t(),_.length||r.removeEventListener(h,v)}}};return A}function v(e){e.preventDefault(),e.returnValue=""}function m(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function y(){return Math.random().toString(36).substr(2,8)}function g(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function k(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function b(e,t){if(!e)throw new Error(t)}var w=(0,r.createContext)(null);var _=(0,r.createContext)(null);var x=(0,r.createContext)({outlet:null,matches:[]});function I(e){return function(e){var t=(0,r.useContext)(x).outlet;if(t)return(0,r.createElement)(R.Provider,{value:e},t);return t}(e.context)}function E(e){b(!1)}function T(e){var n=e.basename,i=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,u=e.location,s=e.navigationType,c=void 0===s?t.Pop:s,l=e.navigator,f=e.static,h=void 0!==f&&f;A()&&b(!1);var d=W(i),p=(0,r.useMemo)((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof u&&(u=k(u));var v=u,m=v.pathname,y=void 0===m?"/":m,g=v.search,x=void 0===g?"":g,I=v.hash,E=void 0===I?"":I,T=v.state,S=void 0===T?null:T,C=v.key,N=void 0===C?"default":C,O=(0,r.useMemo)((function(){var e=B(y,d);return null==e?null:{pathname:e,search:x,hash:E,state:S,key:N}}),[d,y,x,E,S,N]);return null==O?null:(0,r.createElement)(w.Provider,{value:p},(0,r.createElement)(_.Provider,{children:o,value:{location:O,navigationType:c}}))}function S(e){var t=e.children,n=e.location;return function(e,t){A()||b(!1);var n=(0,r.useContext)(x).matches,i=n[n.length-1],a=i?i.params:{},o=(i&&i.pathname,i?i.pathnameBase:"/");i&&i.route;0;var u,s=N();if(t){var c,l="string"===typeof t?k(t):t;"/"===o||(null==(c=l.pathname)?void 0:c.startsWith(o))||b(!1),u=l}else u=s;var f=u.pathname||"/",h="/"===o?f:f.slice(o.length)||"/",d=function(e,t,n){void 0===n&&(n="/");var r=B(("string"===typeof t?k(t):t).pathname||"/",n);if(null==r)return null;var i=L(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=j(i[o],r);return a}(e,{pathname:h});0;return V(d&&d.map((function(e){return Object.assign({},e,{params:Object.assign({},a,e.params),pathname:K([o,e.pathname]),pathnameBase:"/"===e.pathnameBase?o:K([o,e.pathnameBase])})})),n)}(D(t),n)}function C(e){A()||b(!1);var t=(0,r.useContext)(w),n=t.basename,i=t.navigator,a=P(e),o=a.hash,u=a.pathname,s=a.search,c=u;if("/"!==n){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?k(e).pathname:e.pathname}(e),f=null!=l&&l.endsWith("/");c="/"===u?n+(f?"/":""):K([n,u])}return i.createHref({pathname:c,search:s,hash:o})}function A(){return null!=(0,r.useContext)(_)}function N(){return A()||b(!1),(0,r.useContext)(_).location}function O(){A()||b(!1);var e=(0,r.useContext)(w),t=e.basename,n=e.navigator,i=(0,r.useContext)(x).matches,a=N().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),u=(0,r.useRef)(!1);(0,r.useEffect)((function(){u.current=!0}));var s=(0,r.useCallback)((function(e,r){if(void 0===r&&(r={}),u.current)if("number"!==typeof e){var i=q(e,JSON.parse(o),a);"/"!==t&&(i.pathname=K([t,i.pathname])),(r.replace?n.replace:n.push)(i,r.state)}else n.go(e)}),[t,n,o,a]);return s}var R=(0,r.createContext)(null);function P(e){var t=(0,r.useContext)(x).matches,n=N().pathname,i=JSON.stringify(t.map((function(e){return e.pathnameBase})));return(0,r.useMemo)((function(){return q(e,JSON.parse(i),n)}),[e,i,n])}function D(e){var t=[];return r.Children.forEach(e,(function(e){if((0,r.isValidElement)(e))if(e.type!==r.Fragment){e.type!==E&&b(!1);var n={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(n.children=D(e.props.children)),t.push(n)}else t.push.apply(t,D(e.props.children))})),t}function L(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||b(!1),a.relativePath=a.relativePath.slice(r.length));var o=K([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&b(!1),L(e.children,t,u,o)),(null!=e.path||e.index)&&t.push({path:o,score:F(o,e.index),routesMeta:u})})),t}var M=/^:\w+$/,U=function(e){return"*"===e};function F(e,t){var n=e.split("/"),r=n.length;return n.some(U)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!U(e)})).reduce((function(e,t){return e+(M.test(t)?3:""===t?1:10)}),r)}function j(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=z({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:K([i,l.pathname]),pathnameBase:K([i,l.pathnameBase]),route:f}),"/"!==l.pathnameBase&&(i=K([i,l.pathnameBase]))}return a}function V(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight((function(n,i,a){return(0,r.createElement)(x.Provider,{children:void 0!==i.route.element?i.route.element:(0,r.createElement)(I,null),value:{outlet:n,matches:t.concat(e.slice(0,a+1))}})}),null)}function z(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=c(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(l[n]||""),e}),{}),pathname:u,pathnameBase:s,pattern:e}}function q(e,t,n){var r,i="string"===typeof e?k(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var u=a.split("/");".."===u[0];)u.shift(),o-=1;i.pathname=u.join("/")}r=o>=0?t[o]:"/"}var s=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?k(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:H(a),hash:G(u)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!s.pathname.endsWith("/")&&(s.pathname+="/"),s}function B(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var K=function(e){return e.join("/").replace(/\/\/+/g,"/")},W=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},H=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},G=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function Q(){return Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Q.apply(this,arguments)}function Y(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var X=["onClick","reloadDocument","replace","state","target","to"];function J(e){var t=e.basename,n=e.children,i=e.window,a=(0,r.useRef)();null==a.current&&(a.current=p({window:i}));var o=a.current,u=c((0,r.useState)({action:o.action,location:o.location}),2),s=u[0],l=u[1];return(0,r.useLayoutEffect)((function(){return o.listen(l)}),[o]),(0,r.createElement)(T,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:o})}var $=(0,r.forwardRef)((function(e,t){var n=e.onClick,i=e.reloadDocument,a=e.replace,o=void 0!==a&&a,u=e.state,s=e.target,c=e.to,l=Y(e,X),f=C(c),h=function(e,t){var n=void 0===t?{}:t,i=n.target,a=n.replace,o=n.state,u=O(),s=N(),c=P(e);return(0,r.useCallback)((function(t){if(0===t.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!a||g(s)===g(c);u(e,{replace:n,state:o})}}),[s,u,c,a,o,i,e])}(c,{replace:o,state:u,target:s});return(0,r.createElement)("a",Q({},l,{href:f,onClick:function(e){n&&n(e),e.defaultPrevented||i||h(e)},ref:t,target:s}))}));function Z(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function ee(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Z(a,r,i,o,u,"next",e)}function u(e){Z(a,r,i,o,u,"throw",e)}o(void 0)}))}}var te=n(757),ne=n.n(te);function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){ue(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ae(e){return ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ae(e)}function oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}(e,t)||le(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(e){return function(e){if(Array.isArray(e))return fe(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||le(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function le(e,t){if(e){if("string"===typeof e)return fe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fe(e,t):void 0}}function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var he=function(){},de={},pe={},ve=null,me={mark:he,measure:he};try{"undefined"!==typeof window&&(de=window),"undefined"!==typeof document&&(pe=document),"undefined"!==typeof MutationObserver&&(ve=MutationObserver),"undefined"!==typeof performance&&(me=performance)}catch(eO){}var ye=(de.navigator||{}).userAgent,ge=void 0===ye?"":ye,ke=de,be=pe,we=ve,_e=me,xe=(ke.document,!!be.documentElement&&!!be.head&&"function"===typeof be.addEventListener&&"function"===typeof be.createElement),Ie=~ge.indexOf("MSIE")||~ge.indexOf("Trident/"),Ee="svg-inline--fa",Te="data-fa-i2svg",Se="data-fa-pseudo-element",Ce="data-prefix",Ae="data-icon",Ne="fontawesome-i2svg",Oe=["HTML","HEAD","STYLE","SCRIPT"],Re=function(){try{return!0}catch(eO){return!1}}(),Pe={fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit",fa:"solid"},De={solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"},Le={fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},Me={"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},Ue=/fa[srltdbk\-\ ]/,Fe="fa-layers-text",je=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Kit)?.*/i,Ve={900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},ze=[1,2,3,4,5,6,7,8,9,10],qe=ze.concat([11,12,13,14,15,16,17,18,19,20]),Be=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Ke="duotone-group",We="swap-opacity",He="primary",Ge="secondary",Qe=[].concat(ce(Object.keys(De)),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Ke,We,He,Ge]).concat(ze.map((function(e){return"".concat(e,"x")}))).concat(qe.map((function(e){return"w-".concat(e)}))),Ye=ke.FontAwesomeConfig||{};if(be&&"function"===typeof be.querySelector){[["data-family-prefix","familyPrefix"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((function(e){var t=se(e,2),n=t[0],r=t[1],i=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=be.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(n));void 0!==i&&null!==i&&(Ye[r]=i)}))}var Xe=ie(ie({},{familyPrefix:"fa",styleDefault:"solid",replacementClass:Ee,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0}),Ye);Xe.autoReplaceSvg||(Xe.observeMutations=!1);var Je={};Object.keys(Xe).forEach((function(e){Object.defineProperty(Je,e,{enumerable:!0,set:function(t){Xe[e]=t,$e.forEach((function(e){return e(Je)}))},get:function(){return Xe[e]}})})),ke.FontAwesomeConfig=Je;var $e=[];var Ze=16,et={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function tt(){for(var e=12,t="";e-- >0;)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return t}function nt(e){for(var t=[],n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function rt(e){return e.classList?nt(e.classList):(e.getAttribute("class")||"").split(" ").filter((function(e){return e}))}function it(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function at(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,": ").concat(e[n].trim(),";")}),"")}function ot(e){return e.size!==et.size||e.x!==et.x||e.y!==et.y||e.rotate!==et.rotate||e.flipX||e.flipY}function ut(){var e="fa",t=Ee,n=Je.familyPrefix,r=Je.replacementClass,i=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';if(n!==e||r!==t){var a=new RegExp("\\.".concat(e,"\\-"),"g"),o=new RegExp("\\--".concat(e,"\\-"),"g"),u=new RegExp("\\.".concat(t),"g");i=i.replace(a,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(u,".".concat(r))}return i}var st=!1;function ct(){Je.autoAddCss&&!st&&(!function(e){if(e&&xe){var t=be.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=be.head.childNodes,r=null,i=n.length-1;i>-1;i--){var a=n[i],o=(a.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=a)}be.head.insertBefore(t,r)}}(ut()),st=!0)}var lt={mixout:function(){return{dom:{css:ut,insertCss:ct}}},hooks:function(){return{beforeDOMElementCreation:function(){ct()},beforeI2svg:function(){ct()}}}},ft=ke||{};ft.___FONT_AWESOME___||(ft.___FONT_AWESOME___={}),ft.___FONT_AWESOME___.styles||(ft.___FONT_AWESOME___.styles={}),ft.___FONT_AWESOME___.hooks||(ft.___FONT_AWESOME___.hooks={}),ft.___FONT_AWESOME___.shims||(ft.___FONT_AWESOME___.shims=[]);var ht=ft.___FONT_AWESOME___,dt=[],pt=!1;function vt(e){xe&&(pt?setTimeout(e,0):dt.push(e))}function mt(e){var t=e.tag,n=e.attributes,r=void 0===n?{}:n,i=e.children,a=void 0===i?[]:i;return"string"===typeof e?it(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,'="').concat(it(e[n]),'" ')}),"").trim()}(r),">").concat(a.map(mt).join(""),"</").concat(t,">")}function yt(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}xe&&((pt=(be.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(be.readyState))||be.addEventListener("DOMContentLoaded",(function e(){be.removeEventListener("DOMContentLoaded",e),pt=1,dt.map((function(e){return e()}))})));var gt=function(e,t,n,r){var i,a,o,u=Object.keys(e),s=u.length,c=void 0!==r?function(e,t){return function(n,r,i,a){return e.call(t,n,r,i,a)}}(t,r):t;for(void 0===n?(i=1,o=e[u[0]]):(i=0,o=n);i<s;i++)o=c(o,e[a=u[i]],a,e);return o};function kt(e){var t=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=e.charCodeAt(n++);56320==(64512&a)?t.push(((1023&i)<<10)+(1023&a)+65536):(t.push(i),n--)}else t.push(i)}return t}(e);return 1===t.length?t[0].toString(16):null}function bt(e){return Object.keys(e).reduce((function(t,n){var r=e[n];return!!r.icon?t[r.iconName]=r.icon:t[n]=r,t}),{})}function wt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.skipHooks,i=void 0!==r&&r,a=bt(t);"function"!==typeof ht.hooks.addPack||i?ht.styles[e]=ie(ie({},ht.styles[e]||{}),a):ht.hooks.addPack(e,bt(t)),"fas"===e&&wt("fa",t)}var _t=ht.styles,xt=ht.shims,It=Object.values(Le),Et=null,Tt={},St={},Ct={},At={},Nt={},Ot=Object.keys(Pe);function Rt(e,t){var n,r=t.split("-"),i=r[0],a=r.slice(1).join("-");return i!==e||""===a||(n=a,~Qe.indexOf(n))?null:a}var Pt=function(){var e=function(e){return gt(_t,(function(t,n,r){return t[r]=gt(n,e,{}),t}),{})};Tt=e((function(e,t,n){(t[3]&&(e[t[3]]=n),t[2])&&t[2].filter((function(e){return"number"===typeof e})).forEach((function(t){e[t.toString(16)]=n}));return e})),St=e((function(e,t,n){(e[n]=n,t[2])&&t[2].filter((function(e){return"string"===typeof e})).forEach((function(t){e[t]=n}));return e})),Nt=e((function(e,t,n){var r=t[2];return e[n]=n,r.forEach((function(t){e[t]=n})),e}));var t="far"in _t||Je.autoFetchSvg,n=gt(xt,(function(e,n){var r=n[0],i=n[1],a=n[2];return"far"!==i||t||(i="fas"),"string"===typeof r&&(e.names[r]={prefix:i,iconName:a}),"number"===typeof r&&(e.unicodes[r.toString(16)]={prefix:i,iconName:a}),e}),{names:{},unicodes:{}});Ct=n.names,At=n.unicodes,Et=Ft(Je.styleDefault)};function Dt(e,t){return(Tt[e]||{})[t]}function Lt(e,t){return(Nt[e]||{})[t]}function Mt(e){return Ct[e]||{prefix:null,iconName:null}}function Ut(){return Et}!function(e){$e.push(e)}((function(e){Et=Ft(e.styleDefault)})),Pt();function Ft(e){var t=De[e]||De[Pe[e]],n=e in ht.styles?e:null;return t||n||null}function jt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.skipLookups,r=void 0!==n&&n,i=null,a=e.reduce((function(e,t){var n=Rt(Je.familyPrefix,t);if(_t[t]?(t=It.includes(t)?Me[t]:t,i=t,e.prefix=t):Ot.indexOf(t)>-1?(i=t,e.prefix=Ft(t)):n?e.iconName=n:t!==Je.replacementClass&&e.rest.push(t),!r&&e.prefix&&e.iconName){var a="fa"===i?Mt(e.iconName):{},o=Lt(e.prefix,e.iconName);a.prefix&&(i=null),e.iconName=a.iconName||o||e.iconName,e.prefix=a.prefix||e.prefix,"far"!==e.prefix||_t.far||!_t.fas||Je.autoFetchSvg||(e.prefix="fas")}return e}),{prefix:null,iconName:null,rest:[]});return"fa"!==a.prefix&&"fa"!==i||(a.prefix=Ut()||"fas"),a}var Vt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.definitions={}}var t,n,r;return t=e,n=[{key:"add",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach((function(t){e.definitions[t]=ie(ie({},e.definitions[t]||{}),i[t]),wt(t,i[t]);var n=Le[t];n&&wt(n,i[t]),Pt()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map((function(t){var r=n[t],i=r.prefix,a=r.iconName,o=r.icon,u=o[2];e[i]||(e[i]={}),u.length>0&&u.forEach((function(t){"string"===typeof t&&(e[i][t]=o)})),e[i][a]=o})),e}}],n&&oe(t.prototype,n),r&&oe(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),zt=[],qt={},Bt={},Kt=Object.keys(Bt);function Wt(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var a=qt[e]||[];return a.forEach((function(e){t=e.apply(null,[t].concat(r))})),t}function Ht(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=qt[e]||[];i.forEach((function(e){e.apply(null,n)}))}function Gt(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return Bt[e]?Bt[e].apply(null,t):void 0}function Qt(e){"fa"===e.prefix&&(e.prefix="fas");var t=e.iconName,n=e.prefix||Ut();if(t)return t=Lt(n,t)||t,yt(Yt.definitions,n,t)||yt(ht.styles,n,t)}var Yt=new Vt,Xt={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return xe?(Ht("beforeI2svg",e),Gt("pseudoElements2svg",e),Gt("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot;!1===Je.autoReplaceSvg&&(Je.autoReplaceSvg=!0),Je.observeMutations=!0,vt((function(){Zt({autoReplaceSvgRoot:t}),Ht("watch",e)}))}},Jt={icon:function(e){if(null===e)return null;if("object"===ae(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Lt(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],n=Ft(e[0]);return{prefix:n,iconName:Lt(n,t)||t}}if("string"===typeof e&&(e.indexOf("".concat(Je.familyPrefix,"-"))>-1||e.match(Ue))){var r=jt(e.split(" "),{skipLookups:!0});return{prefix:r.prefix||Ut(),iconName:Lt(r.prefix,r.iconName)||r.iconName}}if("string"===typeof e){var i=Ut();return{prefix:i,iconName:Lt(i,e)||e}}}},$t={noAuto:function(){Je.autoReplaceSvg=!1,Je.observeMutations=!1,Ht("noAuto")},config:Je,dom:Xt,parse:Jt,library:Yt,findIconDefinition:Qt,toHtml:mt},Zt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot,n=void 0===t?be:t;(Object.keys(ht.styles).length>0||Je.autoFetchSvg)&&xe&&Je.autoReplaceSvg&&$t.dom.i2svg({node:n})};function en(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map((function(e){return mt(e)}))}}),Object.defineProperty(e,"node",{get:function(){if(xe){var t=be.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function tn(e){var t=e.icons,n=t.main,r=t.mask,i=e.prefix,a=e.iconName,o=e.transform,u=e.symbol,s=e.title,c=e.maskId,l=e.titleId,f=e.extra,h=e.watchable,d=void 0!==h&&h,p=r.found?r:n,v=p.width,m=p.height,y="fak"===i,g=[Je.replacementClass,a?"".concat(Je.familyPrefix,"-").concat(a):""].filter((function(e){return-1===f.classes.indexOf(e)})).filter((function(e){return""!==e||!!e})).concat(f.classes).join(" "),k={children:[],attributes:ie(ie({},f.attributes),{},{"data-prefix":i,"data-icon":a,class:g,role:f.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(v," ").concat(m)})},b=y&&!~f.classes.indexOf("fa-fw")?{width:"".concat(v/m*16*.0625,"em")}:{};d&&(k.attributes[Te]=""),s&&(k.children.push({tag:"title",attributes:{id:k.attributes["aria-labelledby"]||"title-".concat(l||tt())},children:[s]}),delete k.attributes.title);var w=ie(ie({},k),{},{prefix:i,iconName:a,main:n,mask:r,maskId:c,transform:o,symbol:u,styles:ie(ie({},b),f.styles)}),_=r.found&&n.found?Gt("generateAbstractMask",w)||{children:[],attributes:{}}:Gt("generateAbstractIcon",w)||{children:[],attributes:{}},x=_.children,I=_.attributes;return w.children=x,w.attributes=I,u?function(e){var t=e.prefix,n=e.iconName,r=e.children,i=e.attributes,a=e.symbol,o=!0===a?"".concat(t,"-").concat(Je.familyPrefix,"-").concat(n):a;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:ie(ie({},i),{},{id:o}),children:r}]}]}(w):function(e){var t=e.children,n=e.main,r=e.mask,i=e.attributes,a=e.styles,o=e.transform;if(ot(o)&&n.found&&!r.found){var u={x:n.width/n.height/2,y:.5};i.style=at(ie(ie({},a),{},{"transform-origin":"".concat(u.x+o.x/16,"em ").concat(u.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:t}]}(w)}function nn(e){var t=e.content,n=e.width,r=e.height,i=e.transform,a=e.title,o=e.extra,u=e.watchable,s=void 0!==u&&u,c=ie(ie(ie({},o.attributes),a?{title:a}:{}),{},{class:o.classes.join(" ")});s&&(c[Te]="");var l=ie({},o.styles);ot(i)&&(l.transform=function(e){var t=e.transform,n=e.width,r=void 0===n?16:n,i=e.height,a=void 0===i?16:i,o=e.startCentered,u=void 0!==o&&o,s="";return s+=u&&Ie?"translate(".concat(t.x/Ze-r/2,"em, ").concat(t.y/Ze-a/2,"em) "):u?"translate(calc(-50% + ".concat(t.x/Ze,"em), calc(-50% + ").concat(t.y/Ze,"em)) "):"translate(".concat(t.x/Ze,"em, ").concat(t.y/Ze,"em) "),s+="scale(".concat(t.size/Ze*(t.flipX?-1:1),", ").concat(t.size/Ze*(t.flipY?-1:1),") "),s+"rotate(".concat(t.rotate,"deg) ")}({transform:i,startCentered:!0,width:n,height:r}),l["-webkit-transform"]=l.transform);var f=at(l);f.length>0&&(c.style=f);var h=[];return h.push({tag:"span",attributes:c,children:[t]}),a&&h.push({tag:"span",attributes:{class:"sr-only"},children:[a]}),h}function rn(e){var t=e.content,n=e.title,r=e.extra,i=ie(ie(ie({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),a=at(r.styles);a.length>0&&(i.style=a);var o=[];return o.push({tag:"span",attributes:i,children:[t]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}var an=ht.styles;function on(e){var t=e[0],n=e[1],r=se(e.slice(4),1)[0];return{found:!0,width:t,height:n,icon:Array.isArray(r)?{tag:"g",attributes:{class:"".concat(Je.familyPrefix,"-").concat(Ke)},children:[{tag:"path",attributes:{class:"".concat(Je.familyPrefix,"-").concat(Ge),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(Je.familyPrefix,"-").concat(He),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}var un={found:!1,width:512,height:512};function sn(e,t){var n=t;return"fa"===t&&null!==Je.styleDefault&&(t=Ut()),new Promise((function(r,i){Gt("missingIconAbstract");if("fa"===n){var a=Mt(e)||{};e=a.iconName||e,t=a.prefix||t}if(e&&t&&an[t]&&an[t][e])return r(on(an[t][e]));!function(e,t){Re||Je.showMissingIcons||!e||console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}(e,t),r(ie(ie({},un),{},{icon:Je.showMissingIcons&&e&&Gt("missingIconAbstract")||{}}))}))}var cn=function(){},ln=Je.measurePerformance&&_e&&_e.mark&&_e.measure?_e:{mark:cn,measure:cn},fn='FA "6.1.0"',hn=function(e){ln.mark("".concat(fn," ").concat(e," ends")),ln.measure("".concat(fn," ").concat(e),"".concat(fn," ").concat(e," begins"),"".concat(fn," ").concat(e," ends"))},dn=function(e){return ln.mark("".concat(fn," ").concat(e," begins")),function(){return hn(e)}},pn=function(){};function vn(e){return"string"===typeof(e.getAttribute?e.getAttribute(Te):null)}function mn(e){return be.createElementNS("http://www.w3.org/2000/svg",e)}function yn(e){return be.createElement(e)}function gn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.ceFn,r=void 0===n?"svg"===e.tag?mn:yn:n;if("string"===typeof e)return be.createTextNode(e);var i=r(e.tag);Object.keys(e.attributes||[]).forEach((function(t){i.setAttribute(t,e.attributes[t])}));var a=e.children||[];return a.forEach((function(e){i.appendChild(gn(e,{ceFn:r}))})),i}var kn={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach((function(e){t.parentNode.insertBefore(gn(e),t)})),null===t.getAttribute(Te)&&Je.keepOriginalSource){var n=be.createComment(function(e){var t=" ".concat(e.outerHTML," ");return"".concat(t,"Font Awesome fontawesome.com ")}(t));t.parentNode.replaceChild(n,t)}else t.remove()},nest:function(e){var t=e[0],n=e[1];if(~rt(t).indexOf(Je.replacementClass))return kn.replace(e);var r=new RegExp("".concat(Je.familyPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){var i=n[0].attributes.class.split(" ").reduce((function(e,t){return t===Je.replacementClass||t.match(r)?e.toSvg.push(t):e.toNode.push(t),e}),{toNode:[],toSvg:[]});n[0].attributes.class=i.toSvg.join(" "),0===i.toNode.length?t.removeAttribute("class"):t.setAttribute("class",i.toNode.join(" "))}var a=n.map((function(e){return mt(e)})).join("\n");t.setAttribute(Te,""),t.innerHTML=a}};function bn(e){e()}function wn(e,t){var n="function"===typeof t?t:pn;if(0===e.length)n();else{var r=bn;"async"===Je.mutateApproach&&(r=ke.requestAnimationFrame||bn),r((function(){var t=!0===Je.autoReplaceSvg?kn.replace:kn[Je.autoReplaceSvg]||kn.replace,r=dn("mutate");e.map(t),r(),n()}))}}var _n=!1;function xn(){_n=!0}function In(){_n=!1}var En=null;function Tn(e){if(we&&Je.observeMutations){var t=e.treeCallback,n=void 0===t?pn:t,r=e.nodeCallback,i=void 0===r?pn:r,a=e.pseudoElementsCallback,o=void 0===a?pn:a,u=e.observeMutationsRoot,s=void 0===u?be:u;En=new we((function(e){if(!_n){var t=Ut();nt(e).forEach((function(e){if("childList"===e.type&&e.addedNodes.length>0&&!vn(e.addedNodes[0])&&(Je.searchPseudoElements&&o(e.target),n(e.target)),"attributes"===e.type&&e.target.parentNode&&Je.searchPseudoElements&&o(e.target.parentNode),"attributes"===e.type&&vn(e.target)&&~Be.indexOf(e.attributeName))if("class"===e.attributeName&&function(e){var t=e.getAttribute?e.getAttribute(Ce):null,n=e.getAttribute?e.getAttribute(Ae):null;return t&&n}(e.target)){var r=jt(rt(e.target)),a=r.prefix,u=r.iconName;e.target.setAttribute(Ce,a||t),u&&e.target.setAttribute(Ae,u)}else(s=e.target)&&s.classList&&s.classList.contains&&s.classList.contains(Je.replacementClass)&&i(e.target);var s}))}})),xe&&En.observe(s,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function Sn(e){var t=e.getAttribute("style"),n=[];return t&&(n=t.split(";").reduce((function(e,t){var n=t.split(":"),r=n[0],i=n.slice(1);return r&&i.length>0&&(e[r]=i.join(":").trim()),e}),{})),n}function Cn(e){var t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),r=void 0!==e.innerText?e.innerText.trim():"",i=jt(rt(e));return i.prefix||(i.prefix=Ut()),t&&n&&(i.prefix=t,i.iconName=n),i.iconName&&i.prefix||i.prefix&&r.length>0&&(i.iconName=function(e,t){return(St[e]||{})[t]}(i.prefix,e.innerText)||Dt(i.prefix,kt(e.innerText))),i}function An(e){var t=nt(e.attributes).reduce((function(e,t){return"class"!==e.name&&"style"!==e.name&&(e[t.name]=t.value),e}),{}),n=e.getAttribute("title"),r=e.getAttribute("data-fa-title-id");return Je.autoA11y&&(n?t["aria-labelledby"]="".concat(Je.replacementClass,"-title-").concat(r||tt()):(t["aria-hidden"]="true",t.focusable="false")),t}function Nn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=Cn(e),r=n.iconName,i=n.prefix,a=n.rest,o=An(e),u=Wt("parseNodeAttributes",{},e),s=t.styleParser?Sn(e):[];return ie({iconName:r,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:i,transform:et,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:a,styles:s,attributes:o}},u)}var On=ht.styles;function Rn(e){var t="nest"===Je.autoReplaceSvg?Nn(e,{styleParser:!1}):Nn(e);return~t.extra.classes.indexOf(Fe)?Gt("generateLayersText",e,t):Gt("generateSvgReplacementMutation",e,t)}function Pn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!xe)return Promise.resolve();var n=be.documentElement.classList,r=function(e){return n.add("".concat(Ne,"-").concat(e))},i=function(e){return n.remove("".concat(Ne,"-").concat(e))},a=Je.autoFetchSvg?Object.keys(Pe):Object.keys(On),o=[".".concat(Fe,":not([").concat(Te,"])")].concat(a.map((function(e){return".".concat(e,":not([").concat(Te,"])")}))).join(", ");if(0===o.length)return Promise.resolve();var u=[];try{u=nt(e.querySelectorAll(o))}catch(eO){}if(!(u.length>0))return Promise.resolve();r("pending"),i("complete");var s=dn("onTree"),c=u.reduce((function(e,t){try{var n=Rn(t);n&&e.push(n)}catch(eO){Re||"MissingIcon"===eO.name&&console.error(eO)}return e}),[]);return new Promise((function(e,n){Promise.all(c).then((function(n){wn(n,(function(){r("active"),r("complete"),i("pending"),"function"===typeof t&&t(),s(),e()}))})).catch((function(e){s(),n(e)}))}))}function Dn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Rn(e).then((function(e){e&&wn([e],t)}))}var Ln=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?et:n,i=t.symbol,a=void 0!==i&&i,o=t.mask,u=void 0===o?null:o,s=t.maskId,c=void 0===s?null:s,l=t.title,f=void 0===l?null:l,h=t.titleId,d=void 0===h?null:h,p=t.classes,v=void 0===p?[]:p,m=t.attributes,y=void 0===m?{}:m,g=t.styles,k=void 0===g?{}:g;if(e){var b=e.prefix,w=e.iconName,_=e.icon;return en(ie({type:"icon"},e),(function(){return Ht("beforeDOMElementCreation",{iconDefinition:e,params:t}),Je.autoA11y&&(f?y["aria-labelledby"]="".concat(Je.replacementClass,"-title-").concat(d||tt()):(y["aria-hidden"]="true",y.focusable="false")),tn({icons:{main:on(_),mask:u?on(u.icon):{found:!1,width:null,height:null,icon:{}}},prefix:b,iconName:w,transform:ie(ie({},et),r),symbol:a,title:f,maskId:c,titleId:d,extra:{attributes:y,styles:k,classes:v}})}))}},Mn={mixout:function(){return{icon:(e=Ln,function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(t||{}).icon?t:Qt(t||{}),i=n.mask;return i&&(i=(i||{}).icon?i:Qt(i||{})),e(r,ie(ie({},n),{},{mask:i}))})};var e},hooks:function(){return{mutationObserverCallbacks:function(e){return e.treeCallback=Pn,e.nodeCallback=Dn,e}}},provides:function(e){e.i2svg=function(e){var t=e.node,n=void 0===t?be:t,r=e.callback;return Pn(n,void 0===r?function(){}:r)},e.generateSvgReplacementMutation=function(e,t){var n=t.iconName,r=t.title,i=t.titleId,a=t.prefix,o=t.transform,u=t.symbol,s=t.mask,c=t.maskId,l=t.extra;return new Promise((function(t,f){Promise.all([sn(n,a),s.iconName?sn(s.iconName,s.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then((function(s){var f=se(s,2),h=f[0],d=f[1];t([e,tn({icons:{main:h,mask:d},prefix:a,iconName:n,transform:o,symbol:u,maskId:c,title:r,titleId:i,extra:l,watchable:!0})])})).catch(f)}))},e.generateAbstractIcon=function(e){var t,n=e.children,r=e.attributes,i=e.main,a=e.transform,o=at(e.styles);return o.length>0&&(r.style=o),ot(a)&&(t=Gt("generateAbstractTransformGrouping",{main:i,transform:a,containerWidth:i.width,iconWidth:i.width})),n.push(t||i.icon),{children:n,attributes:r}}}},Un={mixout:function(){return{layer:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.classes,r=void 0===n?[]:n;return en({type:"layer"},(function(){Ht("beforeDOMElementCreation",{assembler:e,params:t});var n=[];return e((function(e){Array.isArray(e)?e.map((function(e){n=n.concat(e.abstract)})):n=n.concat(e.abstract)})),[{tag:"span",attributes:{class:["".concat(Je.familyPrefix,"-layers")].concat(ce(r)).join(" ")},children:n}]}))}}}},Fn={mixout:function(){return{counter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.title,r=void 0===n?null:n,i=t.classes,a=void 0===i?[]:i,o=t.attributes,u=void 0===o?{}:o,s=t.styles,c=void 0===s?{}:s;return en({type:"counter",content:e},(function(){return Ht("beforeDOMElementCreation",{content:e,params:t}),rn({content:e.toString(),title:r,extra:{attributes:u,styles:c,classes:["".concat(Je.familyPrefix,"-layers-counter")].concat(ce(a))}})}))}}}},jn={mixout:function(){return{text:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?et:n,i=t.title,a=void 0===i?null:i,o=t.classes,u=void 0===o?[]:o,s=t.attributes,c=void 0===s?{}:s,l=t.styles,f=void 0===l?{}:l;return en({type:"text",content:e},(function(){return Ht("beforeDOMElementCreation",{content:e,params:t}),nn({content:e,transform:ie(ie({},et),r),title:a,extra:{attributes:c,styles:f,classes:["".concat(Je.familyPrefix,"-layers-text")].concat(ce(u))}})}))}}},provides:function(e){e.generateLayersText=function(e,t){var n=t.title,r=t.transform,i=t.extra,a=null,o=null;if(Ie){var u=parseInt(getComputedStyle(e).fontSize,10),s=e.getBoundingClientRect();a=s.width/u,o=s.height/u}return Je.autoA11y&&!n&&(i.attributes["aria-hidden"]="true"),Promise.resolve([e,nn({content:e.innerHTML,width:a,height:o,transform:r,title:n,extra:i,watchable:!0})])}}},Vn=new RegExp('"',"ug"),zn=[1105920,1112319];function qn(e,t){var n="".concat("data-fa-pseudo-element-pending").concat(t.replace(":","-"));return new Promise((function(r,i){if(null!==e.getAttribute(n))return r();var a=nt(e.children).filter((function(e){return e.getAttribute(Se)===t}))[0],o=ke.getComputedStyle(e,t),u=o.getPropertyValue("font-family").match(je),s=o.getPropertyValue("font-weight"),c=o.getPropertyValue("content");if(a&&!u)return e.removeChild(a),r();if(u&&"none"!==c&&""!==c){var l=o.getPropertyValue("content"),f=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(u[2])?De[u[2].toLowerCase()]:Ve[s],h=function(e){var t=e.replace(Vn,""),n=function(e,t){var n,r=e.length,i=e.charCodeAt(t);return i>=55296&&i<=56319&&r>t+1&&(n=e.charCodeAt(t+1))>=56320&&n<=57343?1024*(i-55296)+n-56320+65536:i}(t,0),r=n>=zn[0]&&n<=zn[1],i=2===t.length&&t[0]===t[1];return{value:kt(i?t[0]:t),isSecondary:r||i}}(l),d=h.value,p=h.isSecondary,v=u[0].startsWith("FontAwesome"),m=Dt(f,d),y=m;if(v){var g=function(e){var t=At[e],n=Dt("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(d);g.iconName&&g.prefix&&(m=g.iconName,f=g.prefix)}if(!m||p||a&&a.getAttribute(Ce)===f&&a.getAttribute(Ae)===y)r();else{e.setAttribute(n,y),a&&e.removeChild(a);var k={iconName:null,title:null,titleId:null,prefix:null,transform:et,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}},b=k.extra;b.attributes[Se]=t,sn(m,f).then((function(i){var a=tn(ie(ie({},k),{},{icons:{main:i,mask:{prefix:null,iconName:null,rest:[]}},prefix:f,iconName:y,extra:b,watchable:!0})),o=be.createElement("svg");"::before"===t?e.insertBefore(o,e.firstChild):e.appendChild(o),o.outerHTML=a.map((function(e){return mt(e)})).join("\n"),e.removeAttribute(n),r()})).catch(i)}}else r()}))}function Bn(e){return Promise.all([qn(e,"::before"),qn(e,"::after")])}function Kn(e){return e.parentNode!==document.head&&!~Oe.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(Se)&&(!e.parentNode||"svg"!==e.parentNode.tagName)}function Wn(e){if(xe)return new Promise((function(t,n){var r=nt(e.querySelectorAll("*")).filter(Kn).map(Bn),i=dn("searchPseudoElements");xn(),Promise.all(r).then((function(){i(),In(),t()})).catch((function(){i(),In(),n()}))}))}var Hn=!1,Gn=function(e){return e.toLowerCase().split(" ").reduce((function(e,t){var n=t.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return e.flipX=!0,e;if(r&&"v"===i)return e.flipY=!0,e;if(i=parseFloat(i),isNaN(i))return e;switch(r){case"grow":e.size=e.size+i;break;case"shrink":e.size=e.size-i;break;case"left":e.x=e.x-i;break;case"right":e.x=e.x+i;break;case"up":e.y=e.y-i;break;case"down":e.y=e.y+i;break;case"rotate":e.rotate=e.rotate+i}return e}),{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},Qn={mixout:function(){return{parse:{transform:function(e){return Gn(e)}}}},hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-transform");return n&&(e.transform=Gn(n)),e}}},provides:function(e){e.generateAbstractTransformGrouping=function(e){var t=e.main,n=e.transform,r=e.containerWidth,i=e.iconWidth,a={transform:"translate(".concat(r/2," 256)")},o="translate(".concat(32*n.x,", ").concat(32*n.y,") "),u="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),s="rotate(".concat(n.rotate," 0 0)"),c={outer:a,inner:{transform:"".concat(o," ").concat(u," ").concat(s)},path:{transform:"translate(".concat(i/2*-1," -256)")}};return{tag:"g",attributes:ie({},c.outer),children:[{tag:"g",attributes:ie({},c.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:ie(ie({},t.icon.attributes),c.path)}]}]}}}},Yn={x:0,y:0,width:"100%",height:"100%"};function Xn(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}var Jn={hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-mask"),r=n?jt(n.split(" ").map((function(e){return e.trim()}))):{prefix:null,iconName:null,rest:[]};return r.prefix||(r.prefix=Ut()),e.mask=r,e.maskId=t.getAttribute("data-fa-mask-id"),e}}},provides:function(e){e.generateAbstractMask=function(e){var t,n=e.children,r=e.attributes,i=e.main,a=e.mask,o=e.maskId,u=e.transform,s=i.width,c=i.icon,l=a.width,f=a.icon,h=function(e){var t=e.transform,n=e.containerWidth,r=e.iconWidth,i={transform:"translate(".concat(n/2," 256)")},a="translate(".concat(32*t.x,", ").concat(32*t.y,") "),o="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),u="rotate(".concat(t.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(a," ").concat(o," ").concat(u)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:u,containerWidth:l,iconWidth:s}),d={tag:"rect",attributes:ie(ie({},Yn),{},{fill:"white"})},p=c.children?{children:c.children.map(Xn)}:{},v={tag:"g",attributes:ie({},h.inner),children:[Xn(ie({tag:c.tag,attributes:ie(ie({},c.attributes),h.path)},p))]},m={tag:"g",attributes:ie({},h.outer),children:[v]},y="mask-".concat(o||tt()),g="clip-".concat(o||tt()),k={tag:"mask",attributes:ie(ie({},Yn),{},{id:y,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[d,m]},b={tag:"defs",children:[{tag:"clipPath",attributes:{id:g},children:(t=f,"g"===t.tag?t.children:[t])},k]};return n.push(b,{tag:"rect",attributes:ie({fill:"currentColor","clip-path":"url(#".concat(g,")"),mask:"url(#".concat(y,")")},Yn)}),{children:n,attributes:r}}}},$n={provides:function(e){var t=!1;ke.matchMedia&&(t=ke.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var e=[],n={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:ie(ie({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var i=ie(ie({},r),{},{attributeName:"opacity"}),a={tag:"circle",attributes:ie(ie({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||a.children.push({tag:"animate",attributes:ie(ie({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:ie(ie({},i),{},{values:"1;0;1;1;0;1;"})}),e.push(a),e.push({tag:"path",attributes:ie(ie({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:ie(ie({},i),{},{values:"1;0;0;0;0;1;"})}]}),t||e.push({tag:"path",attributes:ie(ie({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:ie(ie({},i),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}};!function(e,t){var n=t.mixoutsTo;zt=e,qt={},Object.keys(Bt).forEach((function(e){-1===Kt.indexOf(e)&&delete Bt[e]})),zt.forEach((function(e){var t=e.mixout?e.mixout():{};if(Object.keys(t).forEach((function(e){"function"===typeof t[e]&&(n[e]=t[e]),"object"===ae(t[e])&&Object.keys(t[e]).forEach((function(r){n[e]||(n[e]={}),n[e][r]=t[e][r]}))})),e.hooks){var r=e.hooks();Object.keys(r).forEach((function(e){qt[e]||(qt[e]=[]),qt[e].push(r[e])}))}e.provides&&e.provides(Bt)}))}([lt,Mn,Un,Fn,jn,{hooks:function(){return{mutationObserverCallbacks:function(e){return e.pseudoElementsCallback=Wn,e}}},provides:function(e){e.pseudoElements2svg=function(e){var t=e.node,n=void 0===t?be:t;Je.searchPseudoElements&&Wn(n)}}},{mixout:function(){return{dom:{unwatch:function(){xn(),Hn=!0}}}},hooks:function(){return{bootstrap:function(){Tn(Wt("mutationObserverCallbacks",{}))},noAuto:function(){En&&En.disconnect()},watch:function(e){var t=e.observeMutationsRoot;Hn?In():Tn(Wt("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}},Qn,Jn,$n,{hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-symbol"),r=null!==n&&(""===n||n);return e.symbol=r,e}}}}],{mixoutsTo:$t});var Zn=$t.parse,er=$t.icon,tr=n(7),nr=n.n(tr);function rr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ir(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rr(Object(n),!0).forEach((function(t){or(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ar(e){return ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ar(e)}function or(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ur(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function sr(e){return function(e){if(Array.isArray(e))return cr(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return cr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cr(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lr(e){return t=e,(t-=0)===t?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1);var t}var fr=["style"];function hr(e){return e.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n,r=t.indexOf(":"),i=lr(t.slice(0,r)),a=t.slice(r+1).trim();return i.startsWith("webkit")?e[(n=i,n.charAt(0).toUpperCase()+n.slice(1))]=a:e[i]=a,e}),{})}var dr=!1;try{dr=!0}catch(eO){}function pr(e){return e&&"object"===ar(e)&&e.prefix&&e.iconName&&e.icon?e:Zn.icon?Zn.icon(e):null===e?null:e&&"object"===ar(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"===typeof e?{prefix:"fas",iconName:e}:void 0}function vr(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?or({},e,t):{}}var mr=["forwardedRef"];function yr(e){var t=e.forwardedRef,n=ur(e,mr),r=n.icon,i=n.mask,a=n.symbol,o=n.className,u=n.title,s=n.titleId,c=n.maskId,l=pr(r),f=vr("classes",[].concat(sr(function(e){var t,n=e.beat,r=e.fade,i=e.beatFade,a=e.bounce,o=e.shake,u=e.flash,s=e.spin,c=e.spinPulse,l=e.spinReverse,f=e.pulse,h=e.fixedWidth,d=e.inverse,p=e.border,v=e.listItem,m=e.flip,y=e.size,g=e.rotation,k=e.pull,b=(or(t={"fa-beat":n,"fa-fade":r,"fa-beat-fade":i,"fa-bounce":a,"fa-shake":o,"fa-flash":u,"fa-spin":s,"fa-spin-reverse":l,"fa-spin-pulse":c,"fa-pulse":f,"fa-fw":h,"fa-inverse":d,"fa-border":p,"fa-li":v,"fa-flip-horizontal":"horizontal"===m||"both"===m,"fa-flip-vertical":"vertical"===m||"both"===m},"fa-".concat(y),"undefined"!==typeof y&&null!==y),or(t,"fa-rotate-".concat(g),"undefined"!==typeof g&&null!==g&&0!==g),or(t,"fa-pull-".concat(k),"undefined"!==typeof k&&null!==k),or(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(b).map((function(e){return b[e]?e:null})).filter((function(e){return e}))}(n)),sr(o.split(" ")))),h=vr("transform","string"===typeof n.transform?Zn.transform(n.transform):n.transform),d=vr("mask",pr(i)),p=er(l,ir(ir(ir(ir({},f),h),d),{},{symbol:a,title:u,titleId:s,maskId:c}));if(!p)return function(){var e;!dr&&console&&"function"===typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",l),null;var v=p.abstract,m={ref:t};return Object.keys(n).forEach((function(e){yr.defaultProps.hasOwnProperty(e)||(m[e]=n[e])})),gr(v[0],m)}yr.displayName="FontAwesomeIcon",yr.propTypes={beat:nr().bool,border:nr().bool,bounce:nr().bool,className:nr().string,fade:nr().bool,flash:nr().bool,mask:nr().oneOfType([nr().object,nr().array,nr().string]),maskId:nr().string,fixedWidth:nr().bool,inverse:nr().bool,flip:nr().oneOf(["horizontal","vertical","both"]),icon:nr().oneOfType([nr().object,nr().array,nr().string]),listItem:nr().bool,pull:nr().oneOf(["right","left"]),pulse:nr().bool,rotation:nr().oneOf([0,90,180,270]),shake:nr().bool,size:nr().oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:nr().bool,spinPulse:nr().bool,spinReverse:nr().bool,symbol:nr().oneOfType([nr().bool,nr().string]),title:nr().string,titleId:nr().string,transform:nr().oneOfType([nr().string,nr().object]),swapOpacity:nr().bool},yr.defaultProps={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:null,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1};var gr=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof n)return n;var i=(n.children||[]).map((function(n){return e(t,n)})),a=Object.keys(n.attributes||{}).reduce((function(e,t){var r=n.attributes[t];switch(t){case"class":e.attrs.className=r,delete n.attributes.class;break;case"style":e.attrs.style=hr(r);break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=r:e.attrs[lr(t)]=r}return e}),{attrs:{}}),o=r.style,u=void 0===o?{}:o,s=ur(r,fr);return a.attrs.style=ir(ir({},a.attrs.style),u),t.apply(void 0,[n.tag,ir(ir({},a.attrs),s)].concat(sr(i)))}.bind(null,r.createElement),kr={prefix:"fab",iconName:"github",icon:[496,512,[],"f09b","M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3 .3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5 .3-6.2 2.3zm44.2-1.7c-2.9 .7-4.9 2.6-4.6 4.9 .3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3 .7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3 .3 2.9 2.3 3.9 1.6 1 3.6 .7 4.3-.7 .7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3 .7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3 .7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"]},br={prefix:"fab",iconName:"google",icon:[488,512,[],"f1a0","M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"]},wr={prefix:"fab",iconName:"twitter",icon:[512,512,[],"f099","M459.4 151.7c.325 4.548 .325 9.097 .325 13.65 0 138.7-105.6 298.6-298.6 298.6-59.45 0-114.7-17.22-161.1-47.11 8.447 .974 16.57 1.299 25.34 1.299 49.06 0 94.21-16.57 130.3-44.83-46.13-.975-84.79-31.19-98.11-72.77 6.498 .974 12.99 1.624 19.82 1.624 9.421 0 18.84-1.3 27.61-3.573-48.08-9.747-84.14-51.98-84.14-102.1v-1.299c13.97 7.797 30.21 12.67 47.43 13.32-28.26-18.84-46.78-51.01-46.78-87.39 0-19.49 5.197-37.36 14.29-52.95 51.65 63.67 129.3 105.3 216.4 109.8-1.624-7.797-2.599-15.92-2.599-24.04 0-57.83 46.78-104.9 104.9-104.9 30.21 0 57.5 12.67 76.67 33.14 23.72-4.548 46.46-13.32 66.6-25.34-7.798 24.37-24.37 44.83-46.13 57.83 21.12-2.273 41.58-8.122 60.43-16.24-14.29 20.79-32.16 39.31-52.63 54.25z"]};function _r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ir(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Er(e,t,n){return t&&Ir(e.prototype,t),n&&Ir(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tr(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Sr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cr(e,t){return Cr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Cr(e,t)}function Ar(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cr(e,t)}function Nr(e){return Nr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Nr(e)}function Or(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(eO){return!1}}function Rr(e){return Rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rr(e)}function Pr(e,t){if(t&&("object"===Rr(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Sr(e)}function Dr(e){var t=Or();return function(){var n,r=Nr(e);if(t){var i=Nr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Pr(this,n)}}function Lr(e,t,n){return Lr=Or()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Cr(i,n.prototype),i},Lr.apply(null,arguments)}function Mr(e){var t="function"===typeof Map?new Map:void 0;return Mr=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Lr(e,arguments,Nr(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Cr(n,e)},Mr(e)}var Ur=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Fr={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ur(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},jr=function(e){return function(e){var t=Ur(e);return Fr.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Vr=function(e){try{return Fr.decodeString(e,!0)}catch(eO){console.error("base64Decode failed: ",eO)}return null};function zr(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=zr(e[n],t[n]));return e}var qr=function(){function e(){var t=this;xr(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Er(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Br(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[jr(JSON.stringify({alg:"none",type:"JWT"})),jr(JSON.stringify(a)),""].join(".")}function Kr(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Wr(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kr())}function Hr(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(eO){return!1}}function Gr(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Qr(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Yr(){var e=Kr();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Xr(){return"object"===typeof indexedDB}var Jr=function(e){Ar(n,e);var t=Dr(n);function n(e,r,i){var a;return xr(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(Sr(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Sr(a),$r.prototype.create),a}return Er(n)}(Mr(Error)),$r=function(){function e(t,n,r){xr(this,e),this.service=t,this.serviceName=n,this.errors=r}return Er(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Zr(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Jr(n,a,t);return o}}]),e}();function Zr(e,t){return e.replace(ei,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var ei=/\{\$([^}]+)}/g;function ti(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ni(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(ri(u)&&ri(s)){if(!ni(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function ri(e){return null!==e&&"object"===typeof e}function ii(e){for(var t=[],n=function(){var e=c(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function ai(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=c(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function oi(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function ui(e,t){var n=new si(e,t);return n.subscribe.bind(n)}var si=function(){function e(t,n){var r=this;xr(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Er(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Tr(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=ci),void 0===r.error&&(r.error=ci),void 0===r.complete&&(r.complete=ci);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(eO){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(eO){"undefined"!==typeof console&&console.error&&console.error(eO)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function ci(){}function li(e){return e&&e._delegate?e._delegate:e}function fi(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function hi(e){return function(e){if(Array.isArray(e))return o(e)}(e)||fi(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var di=function(){function e(t,n,r){xr(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Er(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),pi="[DEFAULT]",vi=function(){function e(t,n){xr(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Er(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new qr;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(eO){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(eO){if(r)return null;throw eO}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:pi})}catch(eO){}var t,n=Tr(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=c(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(eO){}}}catch(s){n.e(s)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pi;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=ee(te.mark((function e(){var t;return te.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(hi(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),hi(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pi;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pi;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Tr(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=c(i.value,2),s=u[0],l=u[1],f=this.normalizeInstanceIdentifier(s);r===f&&l.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Tr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(VT){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===pi?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(VT){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pi;return this.component?this.component.multipleInstances?e:pi:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var mi,yi,gi=function(){function e(t){xr(this,e),this.name=t,this.providers=new Map}return Er(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new vi(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),ki=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(yi||(yi={}));var bi,wi,_i={debug:yi.DEBUG,verbose:yi.VERBOSE,info:yi.INFO,warn:yi.WARN,error:yi.ERROR,silent:yi.SILENT},xi=yi.INFO,Ii=(_r(mi={},yi.DEBUG,"log"),_r(mi,yi.VERBOSE,"log"),_r(mi,yi.INFO,"info"),_r(mi,yi.WARN,"warn"),_r(mi,yi.ERROR,"error"),mi),Ei=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Ii[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Ti=function(){function e(t){xr(this,e),this.name=t,this._logLevel=xi,this._logHandler=Ei,this._userLogHandler=null,ki.push(this)}return Er(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in yi))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?_i[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,yi.DEBUG].concat(t)),this._logHandler.apply(this,[this,yi.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,yi.VERBOSE].concat(t)),this._logHandler.apply(this,[this,yi.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,yi.INFO].concat(t)),this._logHandler.apply(this,[this,yi.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,yi.WARN].concat(t)),this._logHandler.apply(this,[this,yi.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,yi.ERROR].concat(t)),this._logHandler.apply(this,[this,yi.ERROR].concat(t))}}]),e}();var Si=function(){function e(t){xr(this,e),this.container=t}return Er(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Ci="@firebase/app",Ai="0.7.17",Ni=new Ti("@firebase/app"),Oi="[DEFAULT]",Ri=(_r(bi={},Ci,"fire-core"),_r(bi,"@firebase/app-compat","fire-core-compat"),_r(bi,"@firebase/analytics","fire-analytics"),_r(bi,"@firebase/analytics-compat","fire-analytics-compat"),_r(bi,"@firebase/app-check","fire-app-check"),_r(bi,"@firebase/app-check-compat","fire-app-check-compat"),_r(bi,"@firebase/auth","fire-auth"),_r(bi,"@firebase/auth-compat","fire-auth-compat"),_r(bi,"@firebase/database","fire-rtdb"),_r(bi,"@firebase/database-compat","fire-rtdb-compat"),_r(bi,"@firebase/functions","fire-fn"),_r(bi,"@firebase/functions-compat","fire-fn-compat"),_r(bi,"@firebase/installations","fire-iid"),_r(bi,"@firebase/installations-compat","fire-iid-compat"),_r(bi,"@firebase/messaging","fire-fcm"),_r(bi,"@firebase/messaging-compat","fire-fcm-compat"),_r(bi,"@firebase/performance","fire-perf"),_r(bi,"@firebase/performance-compat","fire-perf-compat"),_r(bi,"@firebase/remote-config","fire-rc"),_r(bi,"@firebase/remote-config-compat","fire-rc-compat"),_r(bi,"@firebase/storage","fire-gcs"),_r(bi,"@firebase/storage-compat","fire-gcs-compat"),_r(bi,"@firebase/firestore","fire-fst"),_r(bi,"@firebase/firestore-compat","fire-fst-compat"),_r(bi,"fire-js","fire-js"),_r(bi,"firebase","fire-js-all"),bi),Pi=new Map,Di=new Map;function Li(e,t){try{e.container.addComponent(t)}catch(eO){Ni.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),eO)}}function Mi(e,t){e.container.addOrOverwriteComponent(t)}function Ui(e){var t=e.name;if(Di.has(t))return Ni.debug("There were multiple attempts to register component ".concat(t,".")),!1;Di.set(t,e);var n,r=Tr(Pi.values());try{for(r.s();!(n=r.n()).done;){Li(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Fi(e,t){return e.container.getProvider(t)}function ji(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Oi;Fi(e,t).clearInstance(n)}function Vi(){Di.clear()}var zi,qi,Bi=(_r(wi={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),_r(wi,"bad-app-name","Illegal App name: '{$appName}"),_r(wi,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),_r(wi,"app-deleted","Firebase App named '{$appName}' already deleted"),_r(wi,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),_r(wi,"invalid-log-argument","First argument to `onLog` must be null or a function."),wi),Ki=new $r("app","Firebase",Bi),Wi=function(){function e(t,n,r){var i=this;xr(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new di("app",(function(){return i}),"PUBLIC"))}return Er(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Ki.create("app-deleted",{appName:this._name})}}]),e}(),Hi="9.6.7";function Gi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Oi,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Ki.create("bad-app-name",{appName:String(i)});var a=Pi.get(i);if(a){if(ni(e,a.options)&&ni(r,a.config))return a;throw Ki.create("duplicate-app",{appName:i})}var o,u=new gi(i),s=Tr(Di.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new Wi(e,r,u);return Pi.set(i,l),l}function Qi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oi,t=Pi.get(e);if(!t)throw Ki.create("no-app",{appName:e});return t}function Yi(){return Array.from(Pi.values())}function Xi(e){return Ji.apply(this,arguments)}function Ji(){return(Ji=ee(te.mark((function e(t){var n;return te.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Pi.has(n)){e.next=6;break}return Pi.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $i(e,t,n){var r,i=null!==(r=Ri[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Ni.warn(u.join(" "))}Ui(new di("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Zi(e,t){if(null!==e&&"function"!==typeof e)throw Ki.create("invalid-log-argument");!function(e,t){var n,r=Tr(ki);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=_i[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:yi[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function ea(e){var t;t=e,ki.forEach((function(e){e.setLogLevel(t)}))}zi="",Ui(new di("platform-logger",(function(e){return new Si(e)}),"PRIVATE")),$i(Ci,Ai,zi),$i(Ci,Ai,"esm2017"),$i("fire-js","");var ta=function(){function e(t,n){var r=this;xr(this,e),this._delegate=t,this.firebase=n,Li(t,new di("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Er(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Xi(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Oi;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Oi;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Li(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Mi(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),na=(_r(qi={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),_r(qi,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),qi),ra=new $r("app-compat","Firebase",na);var ia=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Gi(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(ti(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:$i,setLogLevel:ea,onLog:Zi,apps:null,SDK_VERSION:Hi,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Ui(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw ra.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&zr(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!ti(n,e=e||Oi))throw ra.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(ta);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){zr(n,e)},createSubscribe:ui,ErrorFactory:$r,deepExtend:zr}),n}(),aa=new Ti("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){aa.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var oa=self.firebase.SDK_VERSION;oa&&oa.indexOf("LITE")>=0&&aa.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var ua=ia;!function(e){$i("@firebase/app-compat","0.1.18",e)}();function sa(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Nr(e)););return e}function ca(){return ca="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=sa(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},ca.apply(this,arguments)}ua.registerVersion("firebase","9.6.7","app-compat");function la(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var fa;Object.create;var ha="facebook.com",da="github.com",pa="google.com",va="password",ma="twitter.com",ya="EMAIL_SIGNIN",ga="PASSWORD_RESET",ka="RECOVER_EMAIL",ba="REVERT_SECOND_FACTOR_ADDITION",wa="VERIFY_AND_CHANGE_EMAIL",_a="VERIFY_EMAIL";function xa(){return _r({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Ia=function(){var e;return _r(e={},"admin-restricted-operation","This operation is restricted to administrators only."),_r(e,"argument-error",""),_r(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),_r(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),_r(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),_r(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),_r(e,"cordova-not-ready","Cordova framework is not ready."),_r(e,"cors-unsupported","This browser is not supported."),_r(e,"credential-already-in-use","This credential is already associated with a different user account."),_r(e,"custom-token-mismatch","The custom token corresponds to a different audience."),_r(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),_r(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),_r(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),_r(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),_r(e,"email-already-in-use","The email address is already in use by another account."),_r(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),_r(e,"expired-action-code","The action code has expired."),_r(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),_r(e,"internal-error","An internal AuthError has occurred."),_r(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),_r(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),_r(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),_r(e,"invalid-auth-event","An internal AuthError has occurred."),_r(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),_r(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),_r(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),_r(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),_r(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),_r(e,"invalid-email","The email address is badly formatted."),_r(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),_r(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),_r(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),_r(e,"invalid-credential","The supplied auth credential is malformed or has expired."),_r(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),_r(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),_r(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),_r(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),_r(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),_r(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),_r(e,"wrong-password","The password is invalid or the user does not have a password."),_r(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),_r(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),_r(e,"invalid-provider-id","The specified provider ID is invalid."),_r(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),_r(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),_r(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),_r(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),_r(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),_r(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),_r(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),_r(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),_r(e,"missing-continue-uri","A continue URL must be provided in the request."),_r(e,"missing-iframe-start","An internal AuthError has occurred."),_r(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),_r(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),_r(e,"missing-multi-factor-info","No second factor identifier is provided."),_r(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),_r(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),_r(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),_r(e,"app-deleted","This instance of FirebaseApp has been deleted."),_r(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),_r(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),_r(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),_r(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),_r(e,"no-auth-event","An internal AuthError has occurred."),_r(e,"no-such-provider","User was not linked to an account with the given provider."),_r(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),_r(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),_r(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),_r(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),_r(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),_r(e,"provider-already-linked","User can only be linked to one identity for the given provider."),_r(e,"quota-exceeded","The project's quota for this operation has been exceeded."),_r(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),_r(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),_r(e,"rejected-credential","The request contains malformed or mismatching credentials."),_r(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),_r(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),_r(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),_r(e,"timeout","The operation has timed out."),_r(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),_r(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),_r(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),_r(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),_r(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),_r(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),_r(e,"unverified-email","The operation requires a verified email."),_r(e,"user-cancelled","The user did not grant your application the permissions it requested."),_r(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),_r(e,"user-disabled","The user account has been disabled by an administrator."),_r(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),_r(e,"user-signed-out",""),_r(e,"weak-password","The password must be 6 characters long or more."),_r(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),_r(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},Ea=xa,Ta=new $r("auth","Firebase",xa()),Sa=new Ti("@firebase/auth");function Ca(e){if(Sa.logLevel<=yi.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Sa.error.apply(Sa,["Auth (".concat(Hi,"): ").concat(e)].concat(n))}}function Aa(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Pa.apply(void 0,[e].concat(n))}function Na(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Pa.apply(void 0,[e].concat(n))}function Oa(e,t,n){var r=Object.assign(Object.assign({},Ea()),_r({},t,n));return new $r("auth","Firebase",r).create(t,{appName:e.name})}function Ra(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Aa(e,"argument-error"),Oa(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Pa(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=hi(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(hi(o)))}return Ta.create.apply(Ta,[e].concat(n))}function Da(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Pa.apply(void 0,[t].concat(r))}}function La(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Ca(t),new Error(t)}function Ma(e,t){e||La(t)}var Ua=new Map;function Fa(e){Ma(e instanceof Function,"Expected a class definition");var t=Ua.get(e);return t?(Ma(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Ua.set(e,t),t)}function ja(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Va(){return"http:"===za()||"https:"===za()}function za(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var qa=function(){function e(t,n){xr(this,e),this.shortDelay=t,this.longDelay=n,Ma(n>t,"Short delay should be less than long delay!"),this.isMobile=Wr()||Qr()}return Er(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Va()||Gr()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Ba(e,t){Ma(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Ka=function(){function e(){xr(this,e)}return Er(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void La("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void La("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void La("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Wa=(_r(fa={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),_r(fa,"MISSING_CUSTOM_TOKEN","internal-error"),_r(fa,"INVALID_IDENTIFIER","invalid-email"),_r(fa,"MISSING_CONTINUE_URI","internal-error"),_r(fa,"INVALID_PASSWORD","wrong-password"),_r(fa,"MISSING_PASSWORD","internal-error"),_r(fa,"EMAIL_EXISTS","email-already-in-use"),_r(fa,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),_r(fa,"INVALID_IDP_RESPONSE","invalid-credential"),_r(fa,"INVALID_PENDING_TOKEN","invalid-credential"),_r(fa,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),_r(fa,"MISSING_REQ_TYPE","internal-error"),_r(fa,"EMAIL_NOT_FOUND","user-not-found"),_r(fa,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),_r(fa,"EXPIRED_OOB_CODE","expired-action-code"),_r(fa,"INVALID_OOB_CODE","invalid-action-code"),_r(fa,"MISSING_OOB_CODE","internal-error"),_r(fa,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),_r(fa,"INVALID_ID_TOKEN","invalid-user-token"),_r(fa,"TOKEN_EXPIRED","user-token-expired"),_r(fa,"USER_NOT_FOUND","user-token-expired"),_r(fa,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),_r(fa,"INVALID_CODE","invalid-verification-code"),_r(fa,"INVALID_SESSION_INFO","invalid-verification-id"),_r(fa,"INVALID_TEMPORARY_PROOF","invalid-credential"),_r(fa,"MISSING_SESSION_INFO","missing-verification-id"),_r(fa,"SESSION_EXPIRED","code-expired"),_r(fa,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),_r(fa,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),_r(fa,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),_r(fa,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),_r(fa,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),_r(fa,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),_r(fa,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),_r(fa,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),_r(fa,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),_r(fa,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),_r(fa,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),fa),Ha=new qa(3e4,6e4);function Ga(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Qa(e,t,n,r){return Ya.apply(this,arguments)}function Ya(){return Ya=ee(ne().mark((function e(t,n,r,i){var a,o=arguments;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Xa(t,a,ee(ne().mark((function e(){var a,o,u,s;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=ii(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Ka.fetch()(eo(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Ya.apply(this,arguments)}function Xa(e,t,n){return Ja.apply(this,arguments)}function Ja(){return(Ja=ee(ne().mark((function e(t,n,r){var i,a,o,u,s,l,f,h,d,p;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Wa),n),e.prev=2,a=new to(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw no(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,l=s.split(" : "),f=c(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw no(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=25;break}throw no(t,"email-already-in-use",u);case 25:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=30;break}throw Oa(t,p,d);case 30:Aa(t,p);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof Jr)){e.next=37;break}throw e.t0;case 37:Aa(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])})))).apply(this,arguments)}function $a(e,t,n,r){return Za.apply(this,arguments)}function Za(){return Za=ee(ne().mark((function e(t,n,r,i){var a,o,u=arguments;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Qa(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Aa(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Za.apply(this,arguments)}function eo(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Ba(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var to=function(){function e(t){var n=this;xr(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Na(n.auth,"network-request-failed"))}),Ha.get())}))}return Er(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function no(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Na(e,t,r);return i.customData._tokenResponse=n,i}function ro(e,t){return io.apply(this,arguments)}function io(){return(io=ee(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qa(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ao(e,t){return oo.apply(this,arguments)}function oo(){return(oo=ee(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qa(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uo(e,t){return so.apply(this,arguments)}function so(){return(so=ee(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qa(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function co(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(eO){}}function lo(){return lo=ee(ne().mark((function e(t){var n,r,i,a,o,u,s=arguments;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=li(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Da((a=ho(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:co(fo(a.auth_time)),issuedAtTime:co(fo(a.iat)),expirationTime:co(fo(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),lo.apply(this,arguments)}function fo(e){return 1e3*Number(e)}function ho(e){var t=c(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return Ca("JWT malformed, contained fewer than 3 sections"),null;try{var a=Vr(r);return a?JSON.parse(a):(Ca("Failed to decode base64 JWT payload"),null)}catch(eO){return Ca("Caught error parsing JWT payload as JSON",eO),null}}function po(e,t){return vo.apply(this,arguments)}function vo(){return vo=ee(ne().mark((function e(t,n){var r=arguments;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Jr&&mo(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),vo.apply(this,arguments)}function mo(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var yo=function(){function e(t){xr(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Er(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(ee(ne().mark((function t(){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),go=function(){function e(t,n){xr(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Er(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=co(this.lastLoginAt),this.creationTime=co(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function ko(e){return bo.apply(this,arguments)}function bo(){return bo=ee(ne().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,po(t,uo(r,{idToken:i}));case 6:Da(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?xo(o.providerUserInfo):[],s=_o(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new go(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),bo.apply(this,arguments)}function wo(){return(wo=ee(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=li(t),e.next=3,ko(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _o(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(hi(n),hi(t))}function xo(e){return e.map((function(e){var t=e.providerId,n=la(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Io(e,t){return Eo.apply(this,arguments)}function Eo(){return(Eo=ee(ne().mark((function e(t,n){var r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xa(t,{},ee(ne().mark((function e(){var r,i,a,o,u,s;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ii({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=eo(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Ka.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var To=function(){function e(){xr(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Er(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Da(e.idToken,"internal-error"),Da("undefined"!==typeof e.idToken,"internal-error"),Da("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=ho(e);return Da(t,"internal-error"),Da("undefined"!==typeof t.exp,"internal-error"),Da("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=ee(ne().mark((function e(t){var n,r=arguments;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Da(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=ee(ne().mark((function e(t,n){var r,i,a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return La("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Da("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Da("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Da("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function So(e,t){Da("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Co=function(){function e(t){xr(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=la(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new yo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?hi(a.providerData):[],this.metadata=new go(a.createdAt||void 0,a.lastLoginAt||void 0)}return Er(e,[{key:"getIdToken",value:function(){var e=ee(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,po(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Da(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return lo.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return wo.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Da(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Da(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=ee(ne().mark((function e(t){var n,r,i=arguments;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,ko(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=ee(ne().mark((function e(){var t;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,po(this,ro(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,_=n.providerData,x=n.stsTokenManager;Da(k&&x,t,"internal-error");var I=To.fromJSON(this.name,x);Da("string"===typeof k,t,"internal-error"),So(f,t.name),So(h,t.name),Da("boolean"===typeof b,t,"internal-error"),Da("boolean"===typeof w,t,"internal-error"),So(d,t.name),So(p,t.name),So(v,t.name),So(m,t.name),So(y,t.name),So(g,t.name);var E=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:I,createdAt:y,lastLoginAt:g});return _&&Array.isArray(_)&&(E.providerData=_.map((function(e){return Object.assign({},e)}))),m&&(E._redirectEventId=m),E}},{key:"_fromIdTokenResponse",value:function(){var t=ee(ne().mark((function t(n,r){var i,a,o,u=arguments;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new To).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,ko(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Ao=function(){function e(){xr(this,e),this.type="NONE",this.storage={}}return Er(e,[{key:"_isAvailable",value:function(){var e=ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=ee(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ee(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Ao.type="NONE";var No=Ao;function Oo(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Ro=function(){function e(t,n,r){xr(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Oo(this.userKey,a.apiKey,o),this.fullPersistenceKey=Oo("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Er(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=ee(ne().mark((function e(){var t;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Co._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=ee(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=ee(ne().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Fa(No),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Fa(No),u=Oo(i,n.config.apiKey,n.name),s=null,c=Tr(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=Co._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Po(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Uo(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Do(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(jo(t))return"Blackberry";if(Vo(t))return"Webos";if(Lo(t))return"Safari";if((t.includes("chrome/")||Mo(t))&&!t.includes("edge/"))return"Chrome";if(Fo(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Do(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kr();return/firefox\//i.test(e)}function Lo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kr(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Mo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kr();return/crios\//i.test(e)}function Uo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kr();return/iemobile/i.test(e)}function Fo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kr();return/android/i.test(e)}function jo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kr();return/blackberry/i.test(e)}function Vo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kr();return/webos/i.test(e)}function zo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kr();return/iphone|ipad|ipod/i.test(e)}function qo(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kr();return zo(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Bo(){return Yr()&&10===document.documentMode}function Ko(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kr();return zo(e)||Fo(e)||Vo(e)||jo(e)||/windows phone/i.test(e)||Uo(e)}function Wo(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Po(Kr());break;case"Worker":t="".concat(Po(Kr()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Hi,"/").concat(r)}var Ho=function(){function e(t,n){xr(this,e),this.app=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Qo(this),this.idTokenSubscription=new Qo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ta,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}return Er(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Fa(t)),this._initializationPromise=this.queue(ee(ne().mark((function r(){var i,a;return ne().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Ro.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=ee(ne().mark((function e(){var t;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=ee(ne().mark((function e(t){var n,r,i,a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return Da(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=ee(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ko(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=ee(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?li(t):null)&&Da(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=ee(ne().mark((function e(t){var n=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&Da(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(ee(ne().mark((function n(){return ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Fa(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new $r("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=ee(ne().mark((function e(t,n){var r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=ee(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Da(n=t&&Fa(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Ro.create(this,[Fa(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=ee(ne().mark((function e(t){var n,r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=ee(ne().mark((function e(t){var n=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Da(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Da(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Wo(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=ee(ne().mark((function e(){var t;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=_r({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Go(e){return li(e)}var Qo=function(){function e(t){var n=this;xr(this,e),this.auth=t,this.observer=null,this.addObserver=ui((function(e){return n.observer=e}))}return Er(e,[{key:"next",get:function(){return Da(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Yo(e,t,n){var r=Go(e);Da(r._canInitEmulator,r,"emulator-config-failed"),Da(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Xo(t),o=function(e){var t=Xo(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Jo(r.substr(a.length+1))}}var o=c(r.split(":"),2);return{host:o[0],port:Jo(o[1])}}(t),u=o.host,s=o.port,l=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Xo(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Jo(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var $o=function(){function e(t,n){xr(this,e),this.providerId=t,this.signInMethod=n}return Er(e,[{key:"toJSON",value:function(){return La("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return La("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return La("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return La("not implemented")}}]),e}();function Zo(e,t){return eu.apply(this,arguments)}function eu(){return(eu=ee(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qa(t,"POST","/v1/accounts:resetPassword",Ga(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tu(e,t){return nu.apply(this,arguments)}function nu(){return(nu=ee(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qa(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ru(e,t){return iu.apply(this,arguments)}function iu(){return(iu=ee(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qa(t,"POST","/v1/accounts:update",Ga(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function au(e,t){return ou.apply(this,arguments)}function ou(){return(ou=ee(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$a(t,"POST","/v1/accounts:signInWithPassword",Ga(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uu(e,t){return su.apply(this,arguments)}function su(){return(su=ee(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qa(t,"POST","/v1/accounts:sendOobCode",Ga(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cu(e,t){return lu.apply(this,arguments)}function lu(){return(lu=ee(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",uu(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fu(e,t){return hu.apply(this,arguments)}function hu(){return(hu=ee(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",uu(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function du(e,t){return pu.apply(this,arguments)}function pu(){return(pu=ee(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",uu(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vu(e,t){return mu.apply(this,arguments)}function mu(){return(mu=ee(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",uu(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yu(e,t){return gu.apply(this,arguments)}function gu(){return(gu=ee(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$a(t,"POST","/v1/accounts:signInWithEmailLink",Ga(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ku(e,t){return bu.apply(this,arguments)}function bu(){return(bu=ee(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$a(t,"POST","/v1/accounts:signInWithEmailLink",Ga(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var wu=function(e){Ar(n,e);var t=Dr(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return xr(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Er(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",au(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",yu(t,{email:this._email,oobCode:this._password}));case 5:Aa(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=ee(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",tu(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",ku(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Aa(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}($o);function _u(e,t){return xu.apply(this,arguments)}function xu(){return(xu=ee(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$a(t,"POST","/v1/accounts:signInWithIdp",Ga(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Iu=function(e){Ar(n,e);var t=Dr(n);function n(){var e;return xr(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Er(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return _u(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,_u(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,_u(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ii(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Aa("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=la(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}($o);function Eu(e,t){return Tu.apply(this,arguments)}function Tu(){return(Tu=ee(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qa(t,"POST","/v1/accounts:sendVerificationCode",Ga(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Su(){return(Su=ee(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$a(t,"POST","/v1/accounts:signInWithPhoneNumber",Ga(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cu(){return(Cu=ee(ne().mark((function e(t,n){var r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$a(t,"POST","/v1/accounts:signInWithPhoneNumber",Ga(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw no(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Au=_r({},"USER_NOT_FOUND","user-not-found");function Nu(){return(Nu=ee(ne().mark((function e(t,n){var r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",$a(t,"POST","/v1/accounts:signInWithPhoneNumber",Ga(t,r),Au));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ou=function(e){Ar(n,e);var t=Dr(n);function n(e){var r;return xr(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Er(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Su.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Cu.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Nu.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}($o);var Ru=function(){function e(t){var n,r,i,a,o,u;xr(this,e);var s=ai(oi(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);Da(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return Er(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=ai(oi(e)).link,n=t?ai(oi(t)).deep_link_id:null,r=ai(oi(e)).deep_link_id;return(r?ai(oi(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(VT){return null}}}]),e}();var Pu=function(){function e(){xr(this,e),this.providerId=e.PROVIDER_ID}return Er(e,null,[{key:"credential",value:function(e,t){return wu._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Ru.parseLink(t);return Da(n,"argument-error"),wu._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Pu.PROVIDER_ID="password",Pu.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Pu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Du=function(){function e(t){xr(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Er(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Lu=function(e){Ar(n,e);var t=Dr(n);function n(){var e;return xr(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Er(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return hi(this.scopes)}}]),n}(Du),Mu=function(e){Ar(n,e);var t=Dr(n);function n(){return xr(this,n),t.apply(this,arguments)}return Er(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Da(e.idToken||e.accessToken,"argument-error"),Iu._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Da("providerId"in t&&"signInMethod"in t,"argument-error"),Iu._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(eO){return null}}}]),n}(Lu),Uu=function(e){Ar(n,e);var t=Dr(n);function n(){return xr(this,n),t.call(this,"facebook.com")}return Er(n,null,[{key:"credential",value:function(e){return Iu._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(VT){return null}}}]),n}(Lu);Uu.FACEBOOK_SIGN_IN_METHOD="facebook.com",Uu.PROVIDER_ID="facebook.com";var Fu=function(e){Ar(n,e);var t=Dr(n);function n(){var e;return xr(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Er(n,null,[{key:"credential",value:function(e,t){return Iu._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(VT){return null}}}]),n}(Lu);Fu.GOOGLE_SIGN_IN_METHOD="google.com",Fu.PROVIDER_ID="google.com";var ju=function(e){Ar(n,e);var t=Dr(n);function n(){return xr(this,n),t.call(this,"github.com")}return Er(n,null,[{key:"credential",value:function(e){return Iu._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(VT){return null}}}]),n}(Lu);ju.GITHUB_SIGN_IN_METHOD="github.com",ju.PROVIDER_ID="github.com";var Vu=function(e){Ar(n,e);var t=Dr(n);function n(e,r){var i;return xr(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return Er(n,[{key:"_getIdTokenResponse",value:function(e){return _u(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,_u(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,_u(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}($o),zu=function(e){Ar(n,e);var t=Dr(n);function n(e){return xr(this,n),Da(e.startsWith("saml."),"argument-error"),t.call(this,e)}return Er(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Vu.fromJSON(e);return Da(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Vu._create(r,n)}catch(eO){return null}}}]),n}(Du),qu=function(e){Ar(n,e);var t=Dr(n);function n(){return xr(this,n),t.call(this,"twitter.com")}return Er(n,null,[{key:"credential",value:function(e,t){return Iu._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(VT){return null}}}]),n}(Lu);function Bu(e,t){return Ku.apply(this,arguments)}function Ku(){return(Ku=ee(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$a(t,"POST","/v1/accounts:signUp",Ga(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}qu.TWITTER_SIGN_IN_METHOD="twitter.com",qu.PROVIDER_ID="twitter.com";var Wu=function(){function e(t){xr(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Er(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=ee(ne().mark((function t(n,r,i){var a,o,u,s,c=arguments;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Co._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=Hu(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=ee(ne().mark((function t(n,r,i){var a;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Hu(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Hu(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Gu(){return Gu=ee(ne().mark((function e(t){var n,r,i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Go(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Wu({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Bu(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Wu._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Gu.apply(this,arguments)}var Qu=function(e){Ar(n,e);var t=Dr(n);function n(e,r,i,a){var o,u;return xr(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(Sr(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Er(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Jr);function Yu(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Qu._fromErrorAndOperation(e,n,t,r);throw n}))}function Xu(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Ju(e,t){return $u.apply(this,arguments)}function $u(){return $u=ee(ne().mark((function e(t,n){var r,i,a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=li(t),e.next=3,ts(!0,r,n);case 3:return e.t0=ao,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Xu(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),$u.apply(this,arguments)}function Zu(e,t){return es.apply(this,arguments)}function es(){return es=ee(ne().mark((function e(t,n){var r,i,a=arguments;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=po,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Wu._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),es.apply(this,arguments)}function ts(e,t,n){return ns.apply(this,arguments)}function ns(){return(ns=ee(ne().mark((function e(t,n,r){var i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ko(n);case 2:i=Xu(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Da(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rs(e,t){return is.apply(this,arguments)}function is(){return is=ee(ne().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,po(t,Yu(i,a,n,t),r);case 6:return Da((o=e.sent).idToken,i,"internal-error"),Da(u=ho(o.idToken),i,"internal-error"),s=u.sub,Da(t.uid===s,i,"user-mismatch"),e.abrupt("return",Wu._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Aa(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),is.apply(this,arguments)}function as(e,t){return os.apply(this,arguments)}function os(){return os=ee(ne().mark((function e(t,n){var r,i,a,o,u=arguments;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,Yu(t,i,n);case 4:return a=e.sent,e.next=7,Wu._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),os.apply(this,arguments)}function us(e,t){return ss.apply(this,arguments)}function ss(){return(ss=ee(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",as(Go(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cs(e,t){return ls.apply(this,arguments)}function ls(){return(ls=ee(ne().mark((function e(t,n){var r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=li(t),e.next=3,ts(!1,r,n.providerId);case 3:return e.abrupt("return",Zu(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fs(e,t){return hs.apply(this,arguments)}function hs(){return(hs=ee(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rs(li(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ds(e,t){return ps.apply(this,arguments)}function ps(){return(ps=ee(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$a(t,"POST","/v1/accounts:signInWithCustomToken",Ga(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vs(){return(vs=ee(ne().mark((function e(t,n){var r,i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Go(t),e.next=3,ds(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Wu._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ms=function(){function e(t,n){xr(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return Er(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?ys._fromServerResponse(e,t):Aa(e,"internal-error")}}]),e}(),ys=function(e){Ar(n,e);var t=Dr(n);function n(e){var r;return xr(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return Er(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(ms);function gs(e,t,n){var r;Da((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Da("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Da(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Da(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function ks(){return(ks=ee(ne().mark((function e(t,n,r){var i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=li(t),a={requestType:"PASSWORD_RESET",email:n},r&&gs(i,a,r),e.next=5,fu(i,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bs(){return(bs=ee(ne().mark((function e(t,n,r){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zo(li(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ws(){return(ws=ee(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ru(li(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _s(e,t){return xs.apply(this,arguments)}function xs(){return(xs=ee(ne().mark((function e(t,n){var r,i,a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=li(t),e.next=3,Zo(r,{oobCode:n});case 3:i=e.sent,Da(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Da(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Da(i.mfaInfo,r,"internal-error");case 13:Da(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=ms._fromServerResponse(Go(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Is(){return(Is=ee(ne().mark((function e(t,n){var r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_s(li(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Es(e,t,n){return Ts.apply(this,arguments)}function Ts(){return(Ts=ee(ne().mark((function e(t,n,r){var i,a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Go(t),e.next=3,Bu(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Wu._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ss(){return(Ss=ee(ne().mark((function e(t,n,r){var i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=li(t),a={requestType:"EMAIL_SIGNIN",email:n},Da(r.handleCodeInApp,i,"argument-error"),r&&gs(i,a,r),e.next=6,du(i,a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cs(){return(Cs=ee(ne().mark((function e(t,n,r){var i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=li(t),Da((a=Pu.credentialWithLink(n,r||ja()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",us(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function As(e,t){return Ns.apply(this,arguments)}function Ns(){return(Ns=ee(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qa(t,"POST","/v1/accounts:createAuthUri",Ga(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Os(){return(Os=ee(ne().mark((function e(t,n){var r,i,a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Va()?ja():"http://localhost",i={identifier:n,continueUri:r},e.next=4,As(li(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rs(){return(Rs=ee(ne().mark((function e(t,n){var r,i,a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=li(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&gs(r.auth,a,n),e.next=8,cu(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ps(){return(Ps=ee(ne().mark((function e(t,n,r){var i,a,o,u;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=li(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&gs(i.auth,o,r),e.next=8,vu(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ds(e,t){return Ls.apply(this,arguments)}function Ls(){return(Ls=ee(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qa(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ms(){return(Ms=ee(ne().mark((function e(t,n){var r,i,a,o,u,s,c;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=li(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,po(a,Ds(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Us(e,t,n){return Fs.apply(this,arguments)}function Fs(){return(Fs=ee(ne().mark((function e(t,n,r){var i,a,o,u;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,po(t,tu(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var js=Er((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};xr(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Vs=function(e){Ar(n,e);var t=Dr(n);function n(e,r,i,a){var o;return xr(this,n),(o=t.call(this,e,r,i)).username=a,o}return Er(n)}(js),zs=function(e){Ar(n,e);var t=Dr(n);function n(e,r){return xr(this,n),t.call(this,e,"facebook.com",r)}return Er(n)}(js),qs=function(e){Ar(n,e);var t=Dr(n);function n(e,r){return xr(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return Er(n)}(Vs),Bs=function(e){Ar(n,e);var t=Dr(n);function n(e,r){return xr(this,n),t.call(this,e,"google.com",r)}return Er(n)}(js),Ks=function(e){Ar(n,e);var t=Dr(n);function n(e,r,i){return xr(this,n),t.call(this,e,"twitter.com",r,i)}return Er(n)}(Vs);function Ws(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=ho(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new js(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new zs(a,i);case"github.com":return new qs(a,i);case"google.com":return new Bs(a,i);case"twitter.com":return new Ks(a,i,e.screenName||null);case"custom":case"anonymous":return new js(a,null);default:return new js(a,r,i)}}(n)}var Hs=function(){function e(t,n){xr(this,e),this.type=t,this.credential=n}return Er(e,[{key:"toJSON",value:function(){return{multiFactorSession:_r({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Gs=function(){function e(t,n,r){xr(this,e),this.session=t,this.hints=n,this.signInResolver=r}return Er(e,[{key:"resolveSignIn",value:function(){var e=ee(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Go(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return ms._fromServerResponse(r,e)}));Da(i.mfaPendingCredential,r,"internal-error");var o=Hs._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=ee(ne().mark((function e(t){var a,u,s;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Wu._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return Da(n.user,r,"internal-error"),e.abrupt("return",Wu._forOperation(n.user,n.operationType,u));case 17:Aa(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Qs(e,t){return Qa(e,"POST","/v2/accounts/mfaEnrollment:start",Ga(e,t))}var Ys=function(){function e(t){var n=this;xr(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return ms._fromServerResponse(t.auth,e)})))}))}return Er(e,[{key:"getSession",value:function(){var e=ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Hs,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=ee(ne().mark((function e(t,n){var r,i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,po(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=ee(ne().mark((function e(t){var n,r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,po(this.user,Qa(a=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",Ga(a,{idToken:r,mfaEnrollmentId:n})));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}var a}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Xs=new WeakMap;var Js="__sak",$s=function(){function e(t,n){xr(this,e),this.storageRetriever=t,this.type=n}return Er(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Js,"1"),this.storage.removeItem(Js),Promise.resolve(!0)):Promise.resolve(!1)}catch(VT){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Zs=function(e){Ar(n,e);var t=Dr(n);function n(){var e;return xr(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Kr();return Lo(e)||zo(e)}()&&function(){try{return!(!window||window===window.top)}catch(eO){return!1}}(),e.fallbackToPolling=Ko(),e._shouldAllowMigration=!0,e}return Er(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Bo()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=ee(ne().mark((function e(t,r){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ca(Nr(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ee(ne().mark((function e(t){var r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ca(Nr(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ca(Nr(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}($s);Zs.type="LOCAL";var ec=Zs,tc=function(e){Ar(n,e);var t=Dr(n);function n(){return xr(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Er(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}($s);tc.type="SESSION";var nc=tc;function rc(e){return Promise.all(e.map(function(){var e=ee(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var ic=function(){function e(t){xr(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Er(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=ee(ne().mark((function e(t){var n,r,i,a,o,u,s,c;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,rc(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function ac(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}ic.receivers=[];var oc=function(){function e(t){xr(this,e),this.target=t,this.handlers=new Set}return Er(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=ee(ne().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=ac("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function uc(){return window}function sc(){return"undefined"!==typeof uc().WorkerGlobalScope&&"function"===typeof uc().importScripts}function cc(){return lc.apply(this,arguments)}function lc(){return(lc=ee(ne().mark((function e(){var t;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function fc(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var hc="firebaseLocalStorageDb",dc="firebaseLocalStorage",pc="fbase_key",vc=function(){function e(t){xr(this,e),this.request=t}return Er(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function mc(e,t){return e.transaction([dc],t?"readwrite":"readonly").objectStore(dc)}function yc(){var e=indexedDB.deleteDatabase(hc);return new vc(e).toPromise()}function gc(){var e=indexedDB.open(hc,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(dc,{keyPath:pc})}catch(eO){n(eO)}})),e.addEventListener("success",ee(ne().mark((function n(){var r;return ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(dc)){n.next=12;break}return r.close(),n.next=5,yc();case 5:return n.t0=t,n.next=8,gc();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function kc(e,t,n){return bc.apply(this,arguments)}function bc(){return bc=ee(ne().mark((function e(t,n,r){var i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=mc(t,!0).put((_r(i={},pc,n),_r(i,"value",r),i)),e.abrupt("return",new vc(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),bc.apply(this,arguments)}function wc(e,t){return _c.apply(this,arguments)}function _c(){return _c=ee(ne().mark((function e(t,n){var r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mc(t,!1).get(n),e.next=3,new vc(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),_c.apply(this,arguments)}function xc(e,t){var n=mc(e,!0).delete(t);return new vc(n).toPromise()}var Ic=function(){function e(){xr(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Er(e,[{key:"_openDb",value:function(){var e=ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,gc();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=ee(ne().mark((function e(t){var n,r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sc()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=ee(ne().mark((function e(){var t=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=ic._getInstance(sc()?self:null),this.receiver._subscribe("keyChanged",function(){var e=ee(ne().mark((function e(n,r){var i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=ee(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=ee(ne().mark((function e(){var t,n,r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cc();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new oc(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&fc()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=ee(ne().mark((function e(){var t;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,gc();case 5:return t=e.sent,e.next=8,kc(t,Js,"1");case 8:return e.next=10,xc(t,Js);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=ee(ne().mark((function e(t,n){var r=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return kc(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ee(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return wc(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ee(ne().mark((function e(t){var n=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return xc(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=ee(ne().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=mc(e,!1).getAll();return new vc(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Tr(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(ee(ne().mark((function t(){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Ic.type="LOCAL";var Ec=Ic;function Tc(e,t){return Qa(e,"POST","/v2/accounts/mfaSignIn:start",Ga(e,t))}function Sc(e){return Cc.apply(this,arguments)}function Cc(){return(Cc=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qa(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ac(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Na("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Nc(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Oc=1e12,Rc=function(){function e(t){xr(this,e),this.auth=t,this.counter=Oc,this._widgets=new Map}return Er(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Pc(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||Oc;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||Oc;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=ee(ne().mark((function e(t){var n,r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||Oc,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Pc=function(){function e(t,n,r){var i=this;xr(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Da(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return Er(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(eO){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(eO){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Dc=Nc("rcb"),Lc=new qa(3e4,6e4),Mc="https://www.google.com/recaptcha/api.js?",Uc=function(){function e(){xr(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!uc().grecaptcha}return Er(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Da(Fc(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(uc().grecaptcha):new Promise((function(r,i){var a=uc().setTimeout((function(){i(Na(e,"network-request-failed"))}),Lc.get());uc()[Dc]=function(){uc().clearTimeout(a),delete uc()[Dc];var o=uc().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(Na(e,"internal-error"))},Ac("".concat(Mc,"?").concat(ii({onload:Dc,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Na(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!uc().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function Fc(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var jc=function(){function e(){xr(this,e)}return Er(e,[{key:"load",value:function(){var e=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Rc(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Vc="recaptcha",zc={theme:"light",type:"image"},qc=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},zc),r=arguments.length>2?arguments[2]:void 0;xr(this,e),this.parameters=n,this.type=Vc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Go(r),this.isInvisible="invisible"===this.parameters.size,Da("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Da(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new jc:new Uc,this.validateStartingState()}return Er(e,[{key:"verify",value:function(){var e=ee(ne().mark((function e(){var t,n,r,i=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(eO){return Promise.reject(eO)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Da(!this.parameters.sitekey,this.auth,"argument-error"),Da(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Da("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=uc()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Da(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=ee(ne().mark((function e(){var t,n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=ee(ne().mark((function e(){var t;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Da(Va()&&!sc(),this.auth,"internal-error"),e.next=3,Bc();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Sc(this.auth);case 8:Da(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Da(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Bc(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Kc=function(){function e(t,n){xr(this,e),this.verificationId=t,this.onConfirmation=n}return Er(e,[{key:"confirm",value:function(e){var t=Ou._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Wc(){return(Wc=ee(ne().mark((function e(t,n,r){var i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Go(t),e.next=3,Yc(i,n,li(r));case 3:return a=e.sent,e.abrupt("return",new Kc(a,(function(e){return us(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hc(e,t,n){return Gc.apply(this,arguments)}function Gc(){return(Gc=ee(ne().mark((function e(t,n,r){var i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=li(t),e.next=3,ts(!1,i,"phone");case 3:return e.next=5,Yc(i.auth,n,li(r));case 5:return a=e.sent,e.abrupt("return",new Kc(a,(function(e){return cs(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qc(){return(Qc=ee(ne().mark((function e(t,n,r){var i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=li(t),e.next=3,Yc(i.auth,n,li(r));case 3:return a=e.sent,e.abrupt("return",new Kc(a,(function(e){return fs(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yc(e,t,n){return Xc.apply(this,arguments)}function Xc(){return Xc=ee(ne().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Da("string"===typeof a,t,"argument-error"),Da(r.type===Vc,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return Da("enroll"===u.type,t,"internal-error"),e.next=13,Qs(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return Da("signin"===u.type,t,"internal-error"),Da(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Tc(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Eu(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Xc.apply(this,arguments)}function Jc(){return(Jc=ee(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zu(li(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $c=function(){function e(t){xr(this,e),this.providerId=e.PROVIDER_ID,this.auth=Go(t)}return Er(e,[{key:"verifyPhoneNumber",value:function(e,t){return Yc(this.auth,e,li(t))}}],[{key:"credential",value:function(e,t){return Ou._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Ou._fromTokenResponse(n,r):null}}]),e}();function Zc(e,t){return t?Fa(t):(Da(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}$c.PROVIDER_ID="phone",$c.PHONE_SIGN_IN_METHOD="phone";var el=function(e){Ar(n,e);var t=Dr(n);function n(e){var r;return xr(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Er(n,[{key:"_getIdTokenResponse",value:function(e){return _u(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return _u(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return _u(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}($o);function tl(e){return as(e.auth,new el(e),e.bypassAuthState)}function nl(e){var t=e.auth,n=e.user;return Da(n,t,"internal-error"),rs(n,new el(e),e.bypassAuthState)}function rl(e){return il.apply(this,arguments)}function il(){return(il=ee(ne().mark((function e(t){var n,r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Da(r=t.user,n,"internal-error"),e.abrupt("return",Zu(r,new el(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var al=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];xr(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Er(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=ee(ne().mark((function t(n,r){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=ee(ne().mark((function e(t){var n,r,i,a,o,u,s;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tl;case"linkViaPopup":case"linkViaRedirect":return rl;case"reauthViaPopup":case"reauthViaRedirect":return nl;default:Aa(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Ma(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Ma(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),ol=new qa(2e3,1e4);function ul(e,t,n){return sl.apply(this,arguments)}function sl(){return(sl=ee(ne().mark((function e(t,n,r){var i,a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Go(t),Ra(t,n,Du),a=Zc(i,r),o=new hl(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cl(){return(cl=ee(ne().mark((function e(t,n,r){var i,a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ra((i=li(t)).auth,n,Du),a=Zc(i.auth,r),o=new hl(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ll(e,t,n){return fl.apply(this,arguments)}function fl(){return(fl=ee(ne().mark((function e(t,n,r){var i,a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ra((i=li(t)).auth,n,Du),a=Zc(i.auth,r),o=new hl(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var hl=function(e){Ar(n,e);var t=Dr(n);function n(e,r,i,a,o){var u;return xr(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=Sr(u),u}return Er(n,[{key:"executeNotNull",value:function(){var e=ee(ne().mark((function e(){var t;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Da(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=ee(ne().mark((function e(){var t,n=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ma(1===this.filter.length,"Popup operations only handle one event"),t=ac(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Na(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Na(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Na(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,ol.get())}()}}]),n}(al);hl.currentPopupAction=null;var dl=new Map,pl=function(e){Ar(n,e);var t=Dr(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return xr(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Er(n,[{key:"execute",value:function(){var e=ee(ne().mark((function e(){var t,r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=dl.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,vl(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,ca(Nr(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:dl.set(this.auth._key(),t);case 21:return this.bypassAuthState||dl.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=ee(ne().mark((function e(t){var r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",ca(Nr(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",ca(Nr(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(al);function vl(e,t){return ml.apply(this,arguments)}function ml(){return(ml=ee(ne().mark((function e(t,n){var r,i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=bl(n),i=kl(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yl(e,t){return gl.apply(this,arguments)}function gl(){return(gl=ee(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kl(t)._set(bl(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kl(e){return Fa(e._redirectPersistence)}function bl(e){return Oo("pendingRedirect",e.config.apiKey,e.name)}function wl(e,t,n){return function(e,t,n){return _l.apply(this,arguments)}(e,t,n)}function _l(){return(_l=ee(ne().mark((function e(t,n,r){var i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Go(t),Ra(t,n,Du),a=Zc(i,r),e.next=5,yl(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xl(e,t,n){return function(e,t,n){return Il.apply(this,arguments)}(e,t,n)}function Il(){return(Il=ee(ne().mark((function e(t,n,r){var i,a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ra((i=li(t)).auth,n,Du),a=Zc(i.auth,r),e.next=5,yl(a,i.auth);case 5:return e.next=7,Ol(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function El(e,t,n){return function(e,t,n){return Tl.apply(this,arguments)}(e,t,n)}function Tl(){return(Tl=ee(ne().mark((function e(t,n,r){var i,a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ra((i=li(t)).auth,n,Du),a=Zc(i.auth,r),e.next=5,ts(!1,i,n.providerId);case 5:return e.next=7,yl(a,i.auth);case 7:return e.next=9,Ol(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sl(e,t){return Cl.apply(this,arguments)}function Cl(){return(Cl=ee(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Go(t)._initializationPromise;case 2:return e.abrupt("return",Al(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Al(e,t){return Nl.apply(this,arguments)}function Nl(){return Nl=ee(ne().mark((function e(t,n){var r,i,a,o,u,s=arguments;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=Go(t),a=Zc(i,n),o=new pl(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),Nl.apply(this,arguments)}function Ol(e){return Rl.apply(this,arguments)}function Rl(){return(Rl=ee(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ac("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Pl=function(){function e(t){xr(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Er(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ll(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Ll(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Na(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Dl(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Dl(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Dl(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Ll(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Ml(e){return Ul.apply(this,arguments)}function Ul(){return Ul=ee(ne().mark((function e(t){var n,r=arguments;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Qa(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Ul.apply(this,arguments)}var Fl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jl=/^https?/;function Vl(){return(Vl=ee(ne().mark((function e(t){var n,r,i,a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Ml(t);case 4:n=e.sent,r=n.authorizedDomains,i=Tr(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!zl(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Aa(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function zl(e){var t=ja(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!jl.test(r))return!1;if(Fl.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var ql=new qa(3e4,6e4);function Bl(){var e=uc().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=hi(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Kl=null;function Wl(e){return Kl=Kl||function(e){return new Promise((function(t,n){var r,i,a;function o(){Bl(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Bl(),n(Na(e,"network-request-failed"))},timeout:ql.get()})}if(null===(i=null===(r=uc().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=uc().gapi)||void 0===a?void 0:a.load)){var u=Nc("iframefcb");return uc()[u]=function(){gapi.load?o():n(Na(e,"network-request-failed"))},Ac("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Kl=null,e}))}(e),Kl}var Hl=new qa(5e3,15e3),Gl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ql=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Yl(e){var t=e.config;Da(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Ba(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Hi},i=Ql.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(ii(r).slice(1))}function Xl(e){return Jl.apply(this,arguments)}function Jl(){return Jl=ee(ne().mark((function e(t){var n,r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wl(t);case 2:return n=e.sent,Da(r=uc().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Yl(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Gl,dontclear:!0},(function(e){return new Promise(function(){var n=ee(ne().mark((function n(r,i){var a,o,u;return ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){uc().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Na(t,"network-request-failed"),o=uc().setTimeout((function(){i(a)}),Hl.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Jl.apply(this,arguments)}var $l={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Zl="_blank",ef="http://localhost",tf=function(){function e(t){xr(this,e),this.window=t,this.associatedEvent=null}return Er(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(eO){}}}]),e}();function nf(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},$l),{width:r.toString(),height:i.toString(),top:a,left:o}),l=Kr().toLowerCase();n&&(u=Mo(l)?Zl:n),Do(l)&&(t=t||ef,s.scrollbars="yes");var f=Object.entries(s).reduce((function(e,t){var n=c(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(qo(l)&&"_self"!==u)return rf(t||"",u),new tf(null);var h=window.open(t||"",u,f);Da(h,e,"popup-blocked");try{h.focus()}catch(eO){}return new tf(h)}function rf(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var af="__/auth/handler",of="emulator/auth/handler";function uf(e,t,n,r,i,a){Da(e.config.authDomain,e,"auth-domain-config-required"),Da(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Hi,eventId:i};if(t instanceof Du){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var l=c(s[u],2),f=l[0],h=l[1];o[f]=h}}if(t instanceof Lu){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(af);return Ba(t,of)}(e),"?").concat(ii(p).slice(1))}var sf="webStorageSupport",cf=function(){function e(){xr(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nc,this._completeRedirectFn=Al}return Er(e,[{key:"_openPopup",value:function(){var e=ee(ne().mark((function e(t,n,r,i){var a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ma(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=uf(t,n,r,ja(),i),e.abrupt("return",nf(t,o,ac()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=ee(ne().mark((function e(t,n,r,i){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=uf(t,n,r,ja(),i),uc().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Ma(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=ee(ne().mark((function e(t){var n,r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl(t);case 2:return n=e.sent,r=new Pl(t),n.register("authEvent",(function(e){return Da(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(sf,{type:sf},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Aa(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Vl.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Ko()||Lo()||zo()}}]),e}(),lf=cf,ff=function(e){Ar(n,e);var t=Dr(n);function n(e){var r;return xr(this,n),(r=t.call(this,"phone")).credential=e,r}return Er(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Qa(e,"POST","/v2/accounts/mfaEnrollment:finalize",Ga(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Qa(e,"POST","/v2/accounts/mfaSignIn:finalize",Ga(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){xr(this,e),this.factorId=t}return Er(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return La("unexpected MultiFactorSessionType")}}}]),e}()),hf=function(){function e(){xr(this,e)}return Er(e,null,[{key:"assertion",value:function(e){return ff._fromCredential(e)}}]),e}();hf.FACTOR_ID="phone";var df,pf="@firebase/auth",vf="0.19.9",mf=function(){function e(t){xr(this,e),this.auth=t,this.internalListeners=new Map}return Er(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=ee(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Da(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function yf(){return window}df="Browser",Ui(new di("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=r.options,a=i.apiKey,o=i.authDomain;return function(e){Da(a&&!a.includes(":"),"invalid-api-key",{appName:e.name}),Da(!(null===o||void 0===o?void 0:o.includes(":")),"argument-error",{appName:e.name});var t={apiKey:a,authDomain:o,clientPlatform:df,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Wo(df)},r=new Ho(e,t);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Fa);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(r,n),r}(r)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Ui(new di("auth-internal",(function(e){return function(e){return new mf(e)}(Go(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),$i(pf,vf,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(df)),$i(pf,vf,"esm2017");function gf(e,t,n){return kf.apply(this,arguments)}function kf(){return kf=ee(ne().mark((function e(t,n,r){var i,a,o,u,s;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=yf(),o=a.BuildInfo,Ma(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,Ef(n.sessionId);case 4:return u=e.sent,s={},zo()?s.ibi=o.packageName:Fo()?s.apn=o.packageName:Aa(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",uf(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),kf.apply(this,arguments)}function bf(){return(bf=ee(ne().mark((function e(t){var n,r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=yf(),r=n.BuildInfo,i={},zo()?i.iosBundleId=r.packageName:Fo()?i.androidPackageName=r.packageName:Aa(t,"operation-not-supported-in-this-environment"),e.next=5,Ml(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wf(e){var t=yf().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kr();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function _f(e,t,n){return xf.apply(this,arguments)}function xf(){return xf=ee(ne().mark((function e(t,n,r){var i,a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=yf(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(Na(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),Fo()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),xf.apply(this,arguments)}function If(e){var t,n,r,i,a,o,u,s,c,l,f=yf();Da("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Da("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Da("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Da("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Da("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Ef(e){return Tf.apply(this,arguments)}function Tf(){return(Tf=ee(ne().mark((function e(t){var n,r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Sf(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sf(e){if(Ma(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Cf=function(e){Ar(n,e);var t=Dr(n);function n(){var e;return xr(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return Er(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),ca(Nr(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Pl);function Af(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:Df(),postBody:null,tenantId:e.tenantId,error:Na(e,"no-auth-event")}}function Nf(e,t){return Lf()._set(Mf(e),t)}function Of(e){return Rf.apply(this,arguments)}function Rf(){return(Rf=ee(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lf()._get(Mf(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,Lf()._remove(Mf(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pf(e,t){var n,r,i=function(e){var t=Uf(e),n=t.link?decodeURIComponent(t.link):void 0,r=Uf(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Uf(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=Uf(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(eO){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?Na(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Df(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function Lf(){return Fa(ec)}function Mf(e){return Oo("authEvent",e.config.apiKey,e.name)}function Uf(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=a(t=n)||fi(t)||u(t)||s();r[0];return ai(r.slice(1).join("?"))}var Ff=function(){function e(){xr(this,e),this._redirectPersistence=nc,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Al}return Er(e,[{key:"_initialize",value:function(){var e=ee(ne().mark((function e(t){var n,r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new Cf(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Aa(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=ee(ne().mark((function e(t,n,r,i){var a,o,u,s;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return If(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),dl.clear(),e.next=10,this._originValidation(t);case 10:return o=Af(t,r,i),e.next=13,Nf(t,o);case 13:return e.next=15,gf(t,o,n);case 15:return u=e.sent,e.next=18,wf(u);case 18:return s=e.sent,e.abrupt("return",_f(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return bf.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=yf(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(ee(ne().mark((function n(){return ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Of(e);case 2:t.onEvent(Vf());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=ee(ne().mark((function n(r){var i,a;return ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,Of(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=Pf(i,r.url)),t.onEvent(a||Vf());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");yf().handleOpenURL=function(){var e=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(eO){console.error(eO)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),jf=Ff;function Vf(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Na("no-auth-event")}}function zf(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function qf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kr();return!("file:"!==zf()&&"ionic:"!==zf()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Bf(){return Yr()&&11===(null===document||void 0===document?void 0:document.documentMode)}function Kf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kr();return/Edge\/\d+/.test(e)}function Wf(){try{var e=self.localStorage,t=ac();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kr();return Bf()||Kf(e)}()||Xr()}catch(eO){return Hf()&&Xr()}return!1}function Hf(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Gf(){return("http:"===zf()||"https:"===zf()||Gr()||qf())&&!(Qr()||Hr())&&Wf()&&!Hf()}function Qf(){return qf()&&"undefined"!==typeof document}function Yf(){return Xf.apply(this,arguments)}function Xf(){return(Xf=ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Qf()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Jf={LOCAL:"local",NONE:"none",SESSION:"session"},$f=Da,Zf="persistence";function eh(e,t){$f(Object.values(Jf).includes(t),e,"invalid-persistence-type"),Qr()?$f(t!==Jf.SESSION,e,"unsupported-persistence-type"):Hr()?$f(t===Jf.NONE,e,"unsupported-persistence-type"):Hf()?$f(t===Jf.NONE||t===Jf.LOCAL&&Xr(),e,"unsupported-persistence-type"):$f(t===Jf.NONE||Wf(),e,"unsupported-persistence-type")}function th(e){return nh.apply(this,arguments)}function nh(){return(nh=ee(ne().mark((function e(t){var n,r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=rh(),r=Oo(Zf,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rh(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(eO){return null}}var ih=Da,ah=function(){function e(){xr(this,e),this.browserResolver=Fa(lf),this.cordovaResolver=Fa(jf),this.underlyingResolver=null,this._redirectPersistence=nc,this._completeRedirectFn=Al}return Er(e,[{key:"_initialize",value:function(){var e=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=ee(ne().mark((function e(t,n,r,i){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=ee(ne().mark((function e(t,n,r,i){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Qf()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return ih(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=ee(ne().mark((function e(){var t;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Yf();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function oh(e){return e.unwrap()}function uh(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new hh(e,function(e,t){var n,r=li(e),i=t;return Da(t.customData.operationType,r,"argument-error"),Da(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Gs._fromError(r,i)}(e,t));else if(r){var i=sh(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function sh(e){var t=(e instanceof Jr?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Jr)&&"temporaryProof"in t&&"phoneNumber"in t)return $c.credentialFromResult(e);var n,r=t.providerId;if(!r||r===va)return null;switch(r){case pa:n=Fu;break;case ha:n=Uu;break;case da:n=ju;break;case ma:n=qu;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?Vu._create(r,u):Iu._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new Mu(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof Jr?n.credentialFromError(e):n.credentialFromResult(e)}function ch(e,t){return t.catch((function(t){throw t instanceof Jr&&uh(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,sh(t)),additionalUserInfo:Ws(e),user:dh.getOrCreate(r)}}))}function lh(e,t){return fh.apply(this,arguments)}function fh(){return(fh=ee(ne().mark((function e(t,n){var r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return ch(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var hh=function(){function e(t,n){xr(this,e),this.resolver=n,this.auth=t.wrapped()}return Er(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return ch(oh(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),dh=function(){function e(t){xr(this,e),this._delegate=t,this.multiFactor=function(e){var t=li(e);return Xs.has(t)||Xs.set(t,Ys._fromUser(t)),Xs.get(t)}(t)}return Er(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ch(this.auth,cs(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=ee(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lh(this.auth,Hc(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ch(this.auth,ll(this._delegate,t,ah)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,th(Go(this.auth));case 2:return e.abrupt("return",El(this._delegate,t,ah));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ch(this.auth,fs(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return lh(this.auth,function(e,t,n){return Qc.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return ch(this.auth,function(e,t,n){return cl.apply(this,arguments)}(this._delegate,e,ah))}},{key:"reauthenticateWithRedirect",value:function(){var e=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,th(Go(this.auth));case 2:return e.abrupt("return",xl(this._delegate,t,ah));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Rs.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ju(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Us(li(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Us(li(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Jc.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Ms.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return Ps.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();dh.USER_MAP=new WeakMap;var ph=Da,vh=function(){function e(t,n){if(xr(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;ph(r,"invalid-api-key",{appName:t.name}),ph(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?ah:void 0;this._delegate=n.initialize({options:{persistence:yh(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Ia),this.linkUnderlyingAuth()}return Er(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?dh.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Yo(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return ws.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return _s(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return bs.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=ee(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ch(this._delegate,Es(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return Os.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Ru.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=ee(ne().mark((function e(){var t;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ph(Gf(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Sl(this._delegate,ah);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",ch(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Go(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=mh(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=mh(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return Ss.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return ks.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=ee(ne().mark((function e(t){var n,r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:eh(this._delegate,t),e.t0=t,e.next=e.t0===Jf.SESSION?4:e.t0===Jf.LOCAL?6:e.t0===Jf.NONE?11:13;break;case 4:return n=nc,e.abrupt("break",14);case 6:return e.next=8,Fa(Ec)._isAvailable();case 8:return r=e.sent,n=r?Ec:ec,e.abrupt("break",14);case 11:return n=No,e.abrupt("break",14);case 13:return e.abrupt("return",Aa("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return ch(this._delegate,function(e){return Gu.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return ch(this._delegate,us(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return ch(this._delegate,function(e,t){return vs.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return ch(this._delegate,function(e,t,n){return us(li(e),Pu.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return ch(this._delegate,function(e,t,n){return Cs.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return lh(this._delegate,function(e,t,n){return Wc.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ph(Gf(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",ch(this._delegate,ul(this._delegate,t,ah)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ph(Gf(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,th(this._delegate);case 3:return e.abrupt("return",wl(this._delegate,t,ah));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Is.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function mh(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&dh.getOrCreate(e))},error:t,complete:n}}function yh(e,t){var n=function(e,t){var n=rh();if(!n)return[];var r=Oo(Zf,e,t);switch(n.getItem(r)){case Jf.NONE:return[No];case Jf.LOCAL:return[Ec,nc];case Jf.SESSION:return[nc];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Ec)||n.push(Ec),"undefined"!==typeof window)for(var r=0,i=[ec,nc];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(No)||n.push(No),n}vh.Persistence=Jf;var gh=function(){function e(){xr(this,e),this.providerId="phone",this._delegate=new $c(oh(ua.auth()))}return Er(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return $c.credential(e,t)}}]),e}();gh.PHONE_SIGN_IN_METHOD=$c.PHONE_SIGN_IN_METHOD,gh.PROVIDER_ID=$c.PROVIDER_ID;var kh,bh=Da,wh=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ua.app();xr(this,e),bh(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new qc(t,n,i.auth()),this.type=this._delegate.type}return Er(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(kh=ua).INTERNAL.registerComponent(new di("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new vh(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ya,PASSWORD_RESET:ga,RECOVER_EMAIL:ka,REVERT_SECOND_FACTOR_ADDITION:ba,VERIFY_AND_CHANGE_EMAIL:wa,VERIFY_EMAIL:_a}},EmailAuthProvider:Pu,FacebookAuthProvider:Uu,GithubAuthProvider:ju,GoogleAuthProvider:Fu,OAuthProvider:Mu,SAMLAuthProvider:zu,PhoneAuthProvider:gh,PhoneMultiFactorGenerator:hf,RecaptchaVerifier:wh,TwitterAuthProvider:qu,Auth:vh,AuthCredential:$o,Error:Jr}).setInstantiationMode("LAZY").setMultipleInstances(!1)),kh.registerVersion("@firebase/auth-compat","0.2.9");var _h,xh="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Ih={},Eh=Eh||{},Th=xh||self;function Sh(){}function Ch(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Ah(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Nh="closure_uid_"+(1e9*Math.random()>>>0),Oh=0;function Rh(e,t,n){return e.call.apply(e.bind,arguments)}function Ph(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Dh(e,t,n){return(Dh=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Rh:Ph).apply(null,arguments)}function Lh(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Mh(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Uh(){this.s=this.s,this.o=this.o}var Fh={};Uh.prototype.s=!1,Uh.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Nh)&&e[Nh]||(e[Nh]=++Oh)}(this);delete Fh[e]}},Uh.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var jh=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Vh=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function zh(e){return Array.prototype.concat.apply([],arguments)}function qh(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Bh(e){return/^[\s\xa0]*$/.test(e)}var Kh,Wh=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Hh(e,t){return-1!=e.indexOf(t)}function Gh(e,t){return e<t?-1:e>t?1:0}e:{var Qh=Th.navigator;if(Qh){var Yh=Qh.userAgent;if(Yh){Kh=Yh;break e}}Kh=""}function Xh(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Jh(e){var t={};for(var n in e)t[n]=e[n];return t}var $h="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Zh(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<$h.length;a++)n=$h[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ed(e){return ed[" "](e),e}ed[" "]=Sh;var td,nd=Hh(Kh,"Opera"),rd=Hh(Kh,"Trident")||Hh(Kh,"MSIE"),id=Hh(Kh,"Edge"),ad=id||rd,od=Hh(Kh,"Gecko")&&!(Hh(Kh.toLowerCase(),"webkit")&&!Hh(Kh,"Edge"))&&!(Hh(Kh,"Trident")||Hh(Kh,"MSIE"))&&!Hh(Kh,"Edge"),ud=Hh(Kh.toLowerCase(),"webkit")&&!Hh(Kh,"Edge");function sd(){var e=Th.document;return e?e.documentMode:void 0}e:{var cd="",ld=function(){var e=Kh;return od?/rv:([^\);]+)(\)|;)/.exec(e):id?/Edge\/([\d\.]+)/.exec(e):rd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):ud?/WebKit\/(\S+)/.exec(e):nd?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(ld&&(cd=ld?ld[1]:""),rd){var fd=sd();if(null!=fd&&fd>parseFloat(cd)){td=String(fd);break e}}td=cd}var hd,dd={};function pd(){return function(e){var t=dd;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Wh(String(td)).split("."),n=Wh("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Gh(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Gh(0==a[2].length,0==o[2].length)||Gh(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Th.document&&rd){var vd=sd();hd=vd||(parseInt(td,10)||void 0)}else hd=void 0;var md=hd,yd=function(){if(!Th.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Th.addEventListener("test",Sh,t),Th.removeEventListener("test",Sh,t)}catch(n){}return e}();function gd(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function kd(e,t){if(gd.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(od){e:{try{ed(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:bd[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&kd.Z.h.call(this)}}gd.prototype.h=function(){this.defaultPrevented=!0},Mh(kd,gd);var bd={2:"touch",3:"pen",4:"mouse"};kd.prototype.h=function(){kd.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var wd="closure_listenable_"+(1e6*Math.random()|0),_d=0;function xd(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++_d,this.ca=this.fa=!1}function Id(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Ed(e){this.src=e,this.g={},this.h=0}function Td(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=jh(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Id(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Sd(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}Ed.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Sd(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new xd(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var Cd="closure_lm_"+(1e6*Math.random()|0),Ad={};function Nd(e,t,n,r,i){if(r&&r.once)return Rd(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Nd(e,t[a],n,r,i);return null}return n=jd(n),e&&e[wd]?e.N(t,n,Ah(r)?!!r.capture:!!r,i):Od(e,t,n,!1,r,i)}function Od(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Ah(i)?!!i.capture:!!i,u=Ud(e);if(u||(e[Cd]=u=new Ed(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Md;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)yd||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Ld(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Rd(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Rd(e,t[a],n,r,i);return null}return n=jd(n),e&&e[wd]?e.O(t,n,Ah(r)?!!r.capture:!!r,i):Od(e,t,n,!0,r,i)}function Pd(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Pd(e,t[a],n,r,i);else r=Ah(r)?!!r.capture:!!r,n=jd(n),e&&e[wd]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Sd(a=e.g[t],n,r,i))&&(Id(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Ud(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Sd(t,n,r,i)),(n=-1<e?t[e]:null)&&Dd(n))}function Dd(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[wd])Td(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Ld(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ud(t))?(Td(n,e),0==n.h&&(n.src=null,t[Cd]=null)):Id(e)}}}function Ld(e){return e in Ad?Ad[e]:Ad[e]="on"+e}function Md(e,t){if(e.ca)e=!0;else{t=new kd(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Dd(e),e=n.call(r,t)}return e}function Ud(e){return(e=e[Cd])instanceof Ed?e:null}var Fd="__closure_events_fn_"+(1e9*Math.random()>>>0);function jd(e){return"function"===typeof e?e:(e[Fd]||(e[Fd]=function(t){return e.handleEvent(t)}),e[Fd])}function Vd(){Uh.call(this),this.i=new Ed(this),this.P=this,this.I=null}function zd(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new gd(t,e);else if(t instanceof gd)t.target=t.target||e;else{var i=t;Zh(t=new gd(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=qd(o,r,!0,t)&&i}if(i=qd(o=t.g=e,r,!0,t)&&i,i=qd(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=qd(o=t.g=n[a],r,!1,t)&&i}function qd(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&Td(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Mh(Vd,Uh),Vd.prototype[wd]=!0,Vd.prototype.removeEventListener=function(e,t,n,r){Pd(this,e,t,n,r)},Vd.prototype.M=function(){if(Vd.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Id(n[r]);delete t.g[e],t.h--}}this.I=null},Vd.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Vd.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Bd=Th.JSON.stringify;function Kd(){var e=$d,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Wd,Hd=function(){function e(){xr(this,e),this.h=this.g=null}return Er(e,[{key:"add",value:function(e,t){var n=Gd.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Gd=new(function(){function e(t,n){xr(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Er(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Qd}),(function(e){return e.reset()})),Qd=function(){function e(){xr(this,e),this.next=this.g=this.h=null}return Er(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Yd(e){Th.setTimeout((function(){throw e}),0)}function Xd(e,t){Wd||function(){var e=Th.Promise.resolve(void 0);Wd=function(){e.then(Zd)}}(),Jd||(Wd(),Jd=!0),$d.add(e,t)}var Jd=!1,$d=new Hd;function Zd(){for(var e;e=Kd();){try{e.h.call(e.g)}catch(n){Yd(n)}var t=Gd;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Jd=!1}function ep(e,t){Vd.call(this),this.h=e||1,this.g=t||Th,this.j=Dh(this.kb,this),this.l=Date.now()}function tp(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function np(e,t,n){if("function"===typeof e)n&&(e=Dh(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Dh(e.handleEvent,e)}return 2147483647<Number(t)?-1:Th.setTimeout(e,t||0)}function rp(e){e.g=np((function(){e.g=null,e.i&&(e.i=!1,rp(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Mh(ep,Vd),(_h=ep.prototype).da=!1,_h.S=null,_h.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),zd(this,"tick"),this.da&&(tp(this),this.start()))}},_h.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},_h.M=function(){ep.Z.M.call(this),tp(this),delete this.g};var ip=function(e){Ar(n,e);var t=Dr(n);function n(e,r){var i;return xr(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Er(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:rp(this)}},{key:"M",value:function(){ca(Nr(n.prototype),"M",this).call(this),this.g&&(Th.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Uh);function ap(e){Uh.call(this),this.h=e,this.g={}}Mh(ap,Uh);var op=[];function up(e,t,n,r){Array.isArray(n)||(n&&(op[0]=n.toString()),n=op);for(var i=0;i<n.length;i++){var a=Nd(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function sp(e){Xh(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Dd(e)}),e),e.g={}}function cp(){this.g=!0}function lp(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Bd(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}ap.prototype.M=function(){ap.Z.M.call(this),sp(this)},ap.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},cp.prototype.Aa=function(){this.g=!1},cp.prototype.info=function(){};var fp={},hp=null;function dp(){return hp=hp||new Vd}function pp(e){gd.call(this,fp.Ma,e)}function vp(e){var t=dp();zd(t,new pp(t,e))}function mp(e,t){gd.call(this,fp.STAT_EVENT,e),this.stat=t}function yp(e){var t=dp();zd(t,new mp(t,e))}function gp(e,t){gd.call(this,fp.Na,e),this.size=t}function kp(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Th.setTimeout((function(){e()}),t)}fp.Ma="serverreachability",Mh(pp,gd),fp.STAT_EVENT="statevent",Mh(mp,gd),fp.Na="timingevent",Mh(gp,gd);var bp={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},wp={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function _p(){}function xp(e){return e.h||(e.h=e.i())}function Ip(){}_p.prototype.h=null;var Ep,Tp={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Sp(){gd.call(this,"d")}function Cp(){gd.call(this,"c")}function Ap(){}function Np(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new ap(this),this.P=Rp,e=ad?125:void 0,this.W=new ep(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Op}function Op(){this.i=null,this.g="",this.h=!1}Mh(Sp,gd),Mh(Cp,gd),Mh(Ap,_p),Ap.prototype.g=function(){return new XMLHttpRequest},Ap.prototype.i=function(){return{}},Ep=new Ap;var Rp=45e3,Pp={},Dp={};function Lp(e,t,n){e.K=1,e.v=iv($p(t)),e.s=n,e.U=!0,Mp(e,null)}function Mp(e,t){e.F=Date.now(),Vp(e),e.A=$p(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),yv(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Op,e.g=km(e.l,n?t:null,!e.s),0<e.O&&(e.L=new ip(Dh(e.Ia,e,e.g),e.O)),up(e.V,e.g,"readystatechange",e.gb),t=e.H?Jh(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),vp(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Up(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Fp(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=jp(e,n))==Dp){4==t&&(e.o=4,yp(14),i=!1),lp(e.j,e.m,null,"[Incomplete Response]");break}if(r==Pp){e.o=4,yp(15),lp(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}lp(e.j,e.m,r,null),Wp(e,r)}Up(e)&&r!=Dp&&r!=Pp&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,yp(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),fm(t),t.L=!0,yp(11))):(lp(e.j,e.m,n,"[Invalid Chunked Response]"),Kp(e),Bp(e))}function jp(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Dp:(n=Number(t.substring(n,r)),isNaN(n)?Pp:(r+=1)+n>t.length?Dp:(t=t.substr(r,n),e.C=r+n,t))}function Vp(e){e.Y=Date.now()+e.P,zp(e,e.P)}function zp(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=kp(Dh(e.eb,e),t)}function qp(e){e.B&&(Th.clearTimeout(e.B),e.B=null)}function Bp(e){0==e.l.G||e.I||pm(e.l,e)}function Kp(e){qp(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,tp(e.W),sp(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Wp(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Ev(n.i,e)))if(n.I=e.N,!e.J&&Ev(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;dm(n),nm(n)}lm(n),yp(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=kp(Dh(n.ab,n),6e3));if(1>=Iv(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else mm(n,11)}else if((e.J||n.g==e)&&dm(n),!Bh(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Hh(l,"spdy")||Hh(l,"quic")||Hh(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Tv(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,rv(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=gm(r,r.H?r.la:null,r.W),d.J){Sv(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(qp(p),Vp(p)),r.g=d}else cm(r);0<n.l.length&&am(n)}else"stop"!=a[0]&&"close"!=a[0]||mm(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?mm(n,7):tm(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}vp(4)}catch(a){}}function Hp(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Ch(e)||"string"===typeof e)Vh(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Ch(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Ch(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Gp(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Gp)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Qp(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Yp(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Yp(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Yp(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(_h=Np.prototype).setTimeout=function(e){this.P=e},_h.gb=function(e){e=e.target;var t=this.L;t&&3==Xv(e)?t.l():this.Ia(e)},_h.Ia=function(e){try{if(e==this.g)e:{var t=Xv(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||ad||this.g&&(this.h.h||this.g.ga()||Jv(this.g)))){this.I||4!=t||7==n||vp(8==n||0>=r?3:2),qp(this);var i=this.g.ba();this.N=i;t:if(Up(this)){var a=Jv(this.g);e="";var o=a.length,u=4==Xv(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Kp(this),Bp(this);var s="";break t}this.h.i=new Th.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Bh(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,yp(12),Kp(this),Bp(this);break e}lp(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Wp(this,i)}this.U?(Fp(this,t,s),ad&&this.i&&3==t&&(up(this.V,this.W,"tick",this.fb),this.W.start())):(lp(this.j,this.m,s,null),Wp(this,s)),4==t&&Kp(this),this.i&&!this.I&&(4==t?pm(this.l,this):(this.i=!1,Vp(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,yp(12)):(this.o=0,yp(13)),Kp(this),Bp(this)}}}catch(t){}},_h.fb=function(){if(this.g){var e=Xv(this.g),t=this.g.ga();this.C<t.length&&(qp(this),Fp(this,e,t),this.i&&4!=e&&Vp(this))}},_h.cancel=function(){this.I=!0,Kp(this)},_h.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(vp(3),yp(17)),Kp(this),this.o=2,Bp(this)):zp(this,this.Y-e)},(_h=Gp.prototype).R=function(){Qp(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},_h.T=function(){return Qp(this),this.g.concat()},_h.get=function(e,t){return Yp(this.h,e)?this.h[e]:t},_h.set=function(e,t){Yp(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},_h.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Xp=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Jp(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Jp){this.g=void 0!==t?t:e.g,Zp(this,e.j),this.s=e.s,ev(this,e.i),tv(this,e.m),this.l=e.l,t=e.h;var n=new dv;n.i=t.i,t.g&&(n.g=new Gp(t.g),n.h=t.h),nv(this,n),this.o=e.o}else e&&(n=String(e).match(Xp))?(this.g=!!t,Zp(this,n[1]||"",!0),this.s=av(n[2]||""),ev(this,n[3]||"",!0),tv(this,n[4]),this.l=av(n[5]||"",!0),nv(this,n[6]||"",!0),this.o=av(n[7]||"")):(this.g=!!t,this.h=new dv(null,this.g))}function $p(e){return new Jp(e)}function Zp(e,t,n){e.j=n?av(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ev(e,t,n){e.i=n?av(t,!0):t}function tv(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function nv(e,t,n){t instanceof dv?(e.h=t,function(e,t){t&&!e.j&&(pv(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(vv(this,t),yv(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=ov(t,fv)),e.h=new dv(t,e.g))}function rv(e,t,n){e.h.set(t,n)}function iv(e){return rv(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function av(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ov(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,uv),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function uv(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Jp.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ov(t,sv,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(ov(t,sv,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(ov(n,"/"==n.charAt(0)?lv:cv,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ov(n,hv)),e.join("")};var sv=/[#\/\?@]/g,cv=/[#\?:]/g,lv=/[#\?]/g,fv=/[#\?@]/g,hv=/#/g;function dv(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function pv(e){e.g||(e.g=new Gp,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function vv(e,t){pv(e),t=gv(e,t),Yp(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Yp((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Qp(e)))}function mv(e,t){return pv(e),t=gv(e,t),Yp(e.g.h,t)}function yv(e,t,n){vv(e,t),0<n.length&&(e.i=null,e.g.set(gv(e,t),qh(n)),e.h+=n.length)}function gv(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(_h=dv.prototype).add=function(e,t){pv(this),this.i=null,e=gv(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},_h.forEach=function(e,t){pv(this),this.g.forEach((function(n,r){Vh(n,(function(n){e.call(t,n,r,this)}),this)}),this)},_h.T=function(){pv(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},_h.R=function(e){pv(this);var t=[];if("string"===typeof e)mv(this,e)&&(t=zh(t,this.g.get(gv(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=zh(t,e[n])}return t},_h.set=function(e,t){return pv(this),this.i=null,mv(this,e=gv(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},_h.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},_h.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var kv=Er((function e(t,n){xr(this,e),this.h=t,this.g=n}));function bv(e){this.l=e||_v,Th.PerformanceNavigationTiming?e=0<(e=Th.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Th.g&&Th.g.Ea&&Th.g.Ea()&&Th.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var wv,_v=10;function xv(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Iv(e){return e.h?1:e.g?e.g.size:0}function Ev(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Tv(e,t){e.g?e.g.add(t):e.h=t}function Sv(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Cv(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Tr(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return qh(e.i)}function Av(){}function Nv(){this.g=new Av}function Ov(e,t,n){var r=n||"";try{Hp(e,(function(e,n){var i=e;Ah(e)&&(i=Bd(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(eO){throw t.push(r+"type="+encodeURIComponent("_badmap")),eO}}function Rv(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Pv(e){this.l=e.$b||null,this.j=e.ib||!1}function Dv(e,t){Vd.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Lv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}bv.prototype.cancel=function(){if(this.i=Cv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Tr(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Av.prototype.stringify=function(e){return Th.JSON.stringify(e,void 0)},Av.prototype.parse=function(e){return Th.JSON.parse(e,void 0)},Mh(Pv,_p),Pv.prototype.g=function(){return new Dv(this.l,this.j)},Pv.prototype.i=(wv={},function(){return wv}),Mh(Dv,Vd);var Lv=0;function Mv(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Uv(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Fv(e)}function Fv(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(_h=Dv.prototype).open=function(e,t){if(this.readyState!=Lv)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Fv(this)},_h.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Th).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},_h.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Uv(this)),this.readyState=Lv},_h.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Fv(this)),this.g&&(this.readyState=3,Fv(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Th.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Mv(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},_h.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Uv(this):Fv(this),3==this.readyState&&Mv(this)}},_h.Ua=function(e){this.g&&(this.response=this.responseText=e,Uv(this))},_h.Ta=function(e){this.g&&(this.response=e,Uv(this))},_h.ha=function(){this.g&&Uv(this)},_h.setRequestHeader=function(e,t){this.v.append(e,t)},_h.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},_h.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Dv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var jv=Th.JSON.parse;function Vv(e){Vd.call(this),this.headers=new Gp,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=zv,this.K=this.L=!1}Mh(Vv,Vd);var zv="",qv=/^https?$/i,Bv=["POST","PUT"];function Kv(e){return"content-type"==e.toLowerCase()}function Wv(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Hv(e),Qv(e)}function Hv(e){e.D||(e.D=!0,zd(e,"complete"),zd(e,"error"))}function Gv(e){if(e.h&&"undefined"!=typeof Eh&&(!e.C[1]||4!=Xv(e)||2!=e.ba()))if(e.v&&4==Xv(e))np(e.Fa,0,e);else if(zd(e,"readystatechange"),4==Xv(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Xp)[1]||null;if(!a&&Th.self&&Th.self.location){var o=Th.self.location.protocol;a=o.substr(0,o.length-1)}i=!qv.test(a?a.toLowerCase():"")}t=i}if(t)zd(e,"complete"),zd(e,"success");else{e.m=6;try{var u=2<Xv(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",Hv(e)}}finally{Qv(e)}}}function Qv(e,t){if(e.g){Yv(e);var n=e.g,r=e.C[0]?Sh:null;e.g=null,e.C=null,t||zd(e,"ready");try{n.onreadystatechange=r}catch(eO){}}}function Yv(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Th.clearTimeout(e.A),e.A=null)}function Xv(e){return e.g?e.g.readyState:0}function Jv(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case zv:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function $v(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Xh(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):rv(e,t,n))}function Zv(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function em(e){this.za=0,this.l=[],this.h=new cp,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Zv("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Zv("baseRetryDelayMs",5e3,e),this.$a=Zv("retryDelaySeedMs",1e4,e),this.Ya=Zv("forwardChannelMaxRetries",2,e),this.ra=Zv("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new bv(e&&e.concurrentRequestLimit),this.Ca=new Nv,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function tm(e){if(rm(e),3==e.G){var t=e.V++,n=$p(e.F);rv(n,"SID",e.J),rv(n,"RID",t),rv(n,"TYPE","terminate"),um(e,n),(t=new Np(e,e.h,t,void 0)).K=2,t.v=iv($p(n)),n=!1,Th.navigator&&Th.navigator.sendBeacon&&(n=Th.navigator.sendBeacon(t.v.toString(),"")),!n&&Th.Image&&((new Image).src=t.v,n=!0),n||(t.g=km(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Vp(t)}ym(e)}function nm(e){e.g&&(fm(e),e.g.cancel(),e.g=null)}function rm(e){nm(e),e.u&&(Th.clearTimeout(e.u),e.u=null),dm(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Th.clearTimeout(e.m),e.m=null)}function im(e,t){e.l.push(new kv(e.Za++,t)),3==e.G&&am(e)}function am(e){xv(e.i)||e.m||(e.m=!0,Xd(e.Ha,e),e.C=0)}function om(e,t){var n;n=t?t.m:e.V++;var r=$p(e.F);rv(r,"SID",e.J),rv(r,"RID",n),rv(r,"AID",e.U),um(e,r),e.o&&e.s&&$v(r,e.o,e.s),n=new Np(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=sm(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Tv(e.i,n),Lp(n,r,t)}function um(e,t){e.j&&Hp({},(function(e,n){rv(t,n,e)}))}function sm(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Dh(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{Ov(l,o,"req"+c+"_")}catch(Gm){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function cm(e){e.g||e.u||(e.Y=1,Xd(e.Ga,e),e.A=0)}function lm(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=kp(Dh(e.Ga,e),vm(e,e.A)),e.A++,!0)}function fm(e){null!=e.B&&(Th.clearTimeout(e.B),e.B=null)}function hm(e){e.g=new Np(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=$p(e.oa);rv(t,"RID","rpc"),rv(t,"SID",e.J),rv(t,"CI",e.N?"0":"1"),rv(t,"AID",e.U),um(e,t),rv(t,"TYPE","xmlhttp"),e.o&&e.s&&$v(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=iv($p(t)),n.s=null,n.U=!0,Mp(n,e)}function dm(e){null!=e.v&&(Th.clearTimeout(e.v),e.v=null)}function pm(e,t){var n=null;if(e.g==t){dm(e),fm(e),e.g=null;var r=2}else{if(!Ev(e.i,t))return;n=t.D,Sv(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;zd(r=dp(),new gp(r,n,t,i)),am(e)}else cm(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Iv(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=kp(Dh(e.Ha,e,t),vm(e,e.C)),e.C++,!0))}(e,t)||2==r&&lm(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:mm(e,5);break;case 4:mm(e,10);break;case 3:mm(e,6);break;default:mm(e,2)}}function vm(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function mm(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Dh(e.jb,e);n||(n=new Jp("//www.google.com/images/cleardot.gif"),Th.location&&"http"==Th.location.protocol||Zp(n,"https"),iv(n)),function(e,t){var n=new cp;if(Th.Image){var r=new Image;r.onload=Lh(Rv,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Lh(Rv,n,r,"TestLoadImage: error",!1,t),r.onabort=Lh(Rv,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Lh(Rv,n,r,"TestLoadImage: timeout",!1,t),Th.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else yp(2);e.G=0,e.j&&e.j.va(t),ym(e),rm(e)}function ym(e){e.G=0,e.I=-1,e.j&&(0==Cv(e.i).length&&0==e.l.length||(e.i.i.length=0,qh(e.l),e.l.length=0),e.j.ua())}function gm(e,t,n){var r=function(e){return e instanceof Jp?$p(e):new Jp(e,void 0)}(n);if(""!=r.i)t&&ev(r,t+"."+r.i),tv(r,r.m);else{var i=Th.location;r=function(e,t,n,r){var i=new Jp(null,void 0);return e&&Zp(i,e),t&&ev(i,t),n&&tv(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Xh(e.aa,(function(e,t){rv(r,t,e)})),t=e.D,n=e.sa,t&&n&&rv(r,t,n),rv(r,"VER",e.ma),um(e,r),r}function km(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Vv(new Pv({ib:!0})):new Vv(e.qa)).L=e.H,t}function bm(){}function wm(){if(rd&&!(10<=Number(md)))throw Error("Environmental error: no available transport.")}function _m(e,t){Vd.call(this),this.g=new em(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Bh(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Bh(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Em(this)}function xm(e){Sp.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Im(){Cp.call(this),this.status=1}function Em(e){this.g=e}(_h=Vv.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ep.g(),this.C=this.u?xp(this.u):xp(Ep),this.g.onreadystatechange=Dh(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void Wv(this,a)}e=n||"";var i=new Gp(this.headers);r&&Hp(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Kv,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Th.FormData&&e instanceof Th.FormData,!(0<=jh(Bv,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Yv(this),0<this.B&&((this.K=function(e){return rd&&pd()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Dh(this.pa,this)):this.A=np(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Wv(this,a)}},_h.pa=function(){"undefined"!=typeof Eh&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,zd(this,"timeout"),this.abort(8))},_h.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,zd(this,"complete"),zd(this,"abort"),Qv(this))},_h.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Qv(this,!0)),Vv.Z.M.call(this)},_h.Fa=function(){this.s||(this.F||this.v||this.l?Gv(this):this.cb())},_h.cb=function(){Gv(this)},_h.ba=function(){try{return 2<Xv(this)?this.g.status:-1}catch(wv){return-1}},_h.ga=function(){try{return this.g?this.g.responseText:""}catch(wv){return""}},_h.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),jv(t)}},_h.Da=function(){return this.m},_h.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(_h=em.prototype).ma=8,_h.G=1,_h.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},_h.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Np(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Zh(n=Jh(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=sm(this,t,r),rv(i=$p(this.F),"RID",e),rv(i,"CVER",22),this.D&&rv(i,"X-HTTP-Session-Id",this.D),um(this,i),this.o&&n&&$v(i,this.o,n),Tv(this.i,t),this.Ra&&rv(i,"TYPE","init"),this.ja?(rv(i,"$req",r),rv(i,"SID","null"),t.$=!0,Lp(t,i,null)):Lp(t,i,r),this.G=2}}else 3==this.G&&(e?om(this,e):0==this.l.length||xv(this.i)||om(this))},_h.Ga=function(){if(this.u=null,hm(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=kp(Dh(this.bb,this),e)}},_h.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,yp(10),nm(this),hm(this))},_h.ab=function(){null!=this.v&&(this.v=null,nm(this),lm(this),yp(19))},_h.jb=function(e){e?(this.h.info("Successfully pinged google.com"),yp(2)):(this.h.info("Failed to ping google.com"),yp(1))},(_h=bm.prototype).xa=function(){},_h.wa=function(){},_h.va=function(){},_h.ua=function(){},_h.Oa=function(){},wm.prototype.g=function(e,t){return new _m(e,t)},Mh(_m,Vd),_m.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Xd(Dh(e.hb,e,t))),yp(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=gm(e,null,e.W),am(e)},_m.prototype.close=function(){tm(this.g)},_m.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,im(this.g,t)}else this.v?((t={}).__data__=Bd(e),im(this.g,t)):im(this.g,e)},_m.prototype.M=function(){this.g.j=null,delete this.j,tm(this.g),delete this.g,_m.Z.M.call(this)},Mh(xm,Sp),Mh(Im,Cp),Mh(Em,bm),Em.prototype.xa=function(){zd(this.g,"a")},Em.prototype.wa=function(e){zd(this.g,new xm(e))},Em.prototype.va=function(e){zd(this.g,new Im(e))},Em.prototype.ua=function(){zd(this.g,"b")},wm.prototype.createWebChannel=wm.prototype.g,_m.prototype.send=_m.prototype.u,_m.prototype.open=_m.prototype.m,_m.prototype.close=_m.prototype.close,bp.NO_ERROR=0,bp.TIMEOUT=8,bp.HTTP_ERROR=6,wp.COMPLETE="complete",Ip.EventType=Tp,Tp.OPEN="a",Tp.CLOSE="b",Tp.ERROR="c",Tp.MESSAGE="d",Vd.prototype.listen=Vd.prototype.N,Vv.prototype.listenOnce=Vv.prototype.O,Vv.prototype.getLastError=Vv.prototype.La,Vv.prototype.getLastErrorCode=Vv.prototype.Da,Vv.prototype.getStatus=Vv.prototype.ba,Vv.prototype.getResponseJson=Vv.prototype.Qa,Vv.prototype.getResponseText=Vv.prototype.ga,Vv.prototype.send=Vv.prototype.ea;var Tm=Ih.createWebChannelTransport=function(){return new wm},Sm=Ih.getStatEventTarget=function(){return dp()},Cm=Ih.ErrorCode=bp,Am=Ih.EventType=wp,Nm=Ih.Event=fp,Om=Ih.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Rm=Ih.FetchXmlHttpFactory=Pv,Pm=Ih.WebChannel=Ip,Dm=Ih.XhrIo=Vv,Lm="@firebase/firestore",Mm=function(){function e(t){xr(this,e),this.uid=t}return Er(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Mm.UNAUTHENTICATED=new Mm(null),Mm.GOOGLE_CREDENTIALS=new Mm("google-credentials-uid"),Mm.FIRST_PARTY=new Mm("first-party-uid"),Mm.MOCK_USER=new Mm("mock-user");var Um="9.6.7",Fm=new Ti("@firebase/firestore");function jm(){return Fm.logLevel}function Vm(e){if(Fm.logLevel<=yi.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Bm);Fm.debug.apply(Fm,["Firestore (".concat(Um,"): ").concat(e)].concat(hi(i)))}}function zm(e){if(Fm.logLevel<=yi.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Bm);Fm.error.apply(Fm,["Firestore (".concat(Um,"): ").concat(e)].concat(hi(i)))}}function qm(e){if(Fm.logLevel<=yi.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Bm);Fm.warn.apply(Fm,["Firestore (".concat(Um,"): ").concat(e)].concat(hi(i)))}}function Bm(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Km(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Um,") INTERNAL ASSERTION FAILED: ")+e;throw zm(t),new Error(t)}function Wm(e,t){e||Km()}function Hm(e,t){return e}var Gm={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Qm=function(e){Ar(n,e);var t=Dr(n);function n(e,r){var i;return xr(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Er(n)}(Jr),Ym=Er((function e(){var t=this;xr(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Xm=Er((function e(t,n){xr(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Jm=function(){function e(){xr(this,e)}return Er(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Mm.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),$m=function(){function e(t){xr(this,e),this.token=t,this.changeListener=null}return Er(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Zm=function(){function e(t){xr(this,e),this.t=t,this.currentUser=Mm.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Er(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Ym;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Ym,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Vm("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Vm("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ym)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Vm("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Wm("string"==typeof n.accessToken),new Xm(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Wm(null===e||"string"==typeof e),new Mm(e)}}]),e}(),ey=Er((function e(t,n,r){xr(this,e),this.type="FirstParty",this.user=Mm.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),ty=function(){function e(t,n,r){xr(this,e),this.h=t,this.l=n,this.m=r}return Er(e,[{key:"getToken",value:function(){return Promise.resolve(new ey(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Mm.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),ny=Er((function e(t){xr(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),ry=function(){function e(t){xr(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return Er(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Vm("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,Vm("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Vm("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):Vm("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Wm("string"==typeof t.token),e.p=t.token,new ny(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),iy=function(){function e(t,n){var r=this;xr(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return Er(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function ay(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}iy.A=-1;var oy=function(){function e(){xr(this,e)}return Er(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=ay(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function uy(e,t){return e<t?-1:e>t?1:0}function sy(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function cy(e){return e+"\0"}var ly=function(){function e(t,n){if(xr(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Qm(Gm.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Qm(Gm.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Qm(Gm.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Qm(Gm.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Er(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?uy(this.nanoseconds,e.nanoseconds):uy(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),fy=function(){function e(t){xr(this,e),this.timestamp=t}return Er(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new ly(0,0))}}]),e}();function hy(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function dy(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function py(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var vy=function(){function e(t,n,r){xr(this,e),void 0===n?n=0:n>t.length&&Km(),void 0===r?r=t.length-n:r>t.length-n&&Km(),this.segments=t,this.offset=n,this.len=r}return Er(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),my=function(e){Ar(n,e);var t=Dr(n);function n(){return xr(this,n),t.apply(this,arguments)}return Er(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Qm(Gm.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,hi(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(vy),yy=/^[_a-zA-Z][_a-zA-Z0-9]*$/,gy=function(e){Ar(n,e);var t=Dr(n);function n(){return xr(this,n),t.apply(this,arguments)}return Er(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return yy.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Qm(Gm.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Qm(Gm.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Qm(Gm.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Qm(Gm.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(vy),ky=function(){function e(t){xr(this,e),this.fields=t,t.sort(gy.comparator)}return Er(e,[{key:"covers",value:function(e){var t,n=Tr(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return sy(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var by=function(e){function t(e){xr(this,t),this.binaryString=e}return Er(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return uy(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();by.EMPTY_BYTE_STRING=new by("");var wy=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _y(e){if(Wm(!!e),"string"==typeof e){var t=0,n=wy.exec(e);if(Wm(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:xy(e.seconds),nanos:xy(e.nanos)}}function xy(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Iy(e){return"string"==typeof e?by.fromBase64String(e):by.fromUint8Array(e)}function Ey(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ty(e){var t=e.mapValue.fields.__previous_value__;return Ey(t)?Ty(t):t}function Sy(e){var t=_y(e.mapValue.fields.__local_write_time__.timestampValue);return new ly(t.seconds,t.nanos)}var Cy=Er((function e(t,n,r,i,a,o,u,s){xr(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),Ay=function(){function e(t,n){xr(this,e),this.projectId=t,this.database=n||"(default)"}return Er(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Ny(e){return null==e}function Oy(e){return 0===e&&1/e==-1/0}function Ry(e){return"number"==typeof e&&Number.isInteger(e)&&!Oy(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Py=function(){function e(t){xr(this,e),this.path=t}return Er(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===my.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(my.fromString(t))}},{key:"fromName",value:function(t){return new e(my.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(my.emptyPath())}},{key:"comparator",value:function(e,t){return my.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new my(t.slice()))}}]),e}(),Dy={mapValue:{fields:{__type__:{stringValue:"__max___"}}}};function Ly(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ey(e)?4:10:Km()}function My(e,t){if(e===t)return!0;var n=Ly(e);if(n!==Ly(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Sy(e).isEqual(Sy(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=_y(e.timestampValue),r=_y(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Iy(e.bytesValue).isEqual(Iy(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return xy(e.geoPointValue.latitude)===xy(t.geoPointValue.latitude)&&xy(e.geoPointValue.longitude)===xy(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return xy(e.integerValue)===xy(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=xy(e.doubleValue),r=xy(t.doubleValue);return n===r?Oy(n)===Oy(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return sy(e.arrayValue.values||[],t.arrayValue.values||[],My);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(hy(n)!==hy(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!My(n[i],r[i])))return!1;return!0}(e,t);default:return Km()}}function Uy(e,t){return void 0!==(e.values||[]).find((function(e){return My(e,t)}))}function Fy(e,t){if(e===t)return 0;var n=Ly(e),r=Ly(t);if(n!==r)return uy(n,r);switch(n){case 0:return 0;case 1:return uy(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=xy(e.integerValue||e.doubleValue),r=xy(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return jy(e.timestampValue,t.timestampValue);case 4:return jy(Sy(e),Sy(t));case 5:return uy(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Iy(e),r=Iy(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=uy(n[i],r[i]);if(0!==a)return a}return uy(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=uy(xy(e.latitude),xy(t.latitude));return 0!==n?n:uy(xy(e.longitude),xy(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Fy(n[i],r[i]);if(a)return a}return uy(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=uy(r[o],a[o]);if(0!==u)return u;var s=Fy(n[r[o]],i[a[o]]);if(0!==s)return s}return uy(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Km()}}function jy(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return uy(e,t);var n=_y(e),r=_y(t),i=uy(n.seconds,r.seconds);return 0!==i?i:uy(n.nanos,r.nanos)}function Vy(e){return zy(e)}function zy(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=_y(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Iy(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Py.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Tr(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=zy(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Tr(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(zy(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Km();var t,n}function qy(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function By(e){return!!e&&"integerValue"in e}function Ky(e){return!!e&&"arrayValue"in e}function Wy(e){return!!e&&"nullValue"in e}function Hy(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Gy(e){return!!e&&"mapValue"in e}function Qy(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return dy(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Qy(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Qy(e.arrayValue.values[r]);return n}return Object.assign({},e)}var Yy=function(){function e(t){xr(this,e),this.value=t}return Er(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Gy(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qy(t)}},{key:"setAll",value:function(e){var t=this,n=gy.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Qy(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Gy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return My(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Gy(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){dy(t,(function(t,n){return e[t]=n}));var r,i=Tr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Qy(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Xy(e){var t=[];return dy(e.fields,(function(e,n){var r=new gy([e]);if(Gy(n)){var i=Xy(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Tr(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new ky(t)}var Jy=function(){function e(t,n,r,i,a,o){xr(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return Er(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Yy.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Yy.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,fy.min(),fy.min(),Yy.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,fy.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,fy.min(),Yy.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,fy.min(),Yy.empty(),2)}}]),e}(),$y=Er((function e(t,n,r,i){xr(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));$y.UNKNOWN_ID=-1;var Zy=Er((function e(t,n){xr(this,e),this.fieldPath=t,this.kind=n})),eg=function(){function e(t,n){xr(this,e),this.sequenceNumber=t,this.offset=n}return Er(e,null,[{key:"empty",value:function(){return new e(0,tg.min())}}]),e}(),tg=function(){function e(t,n,r){xr(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return Er(e,null,[{key:"min",value:function(){return new e(fy.min(),Py.empty(),-1)}}]),e}(),ng=Er((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;xr(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.P=null}));function rg(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new ng(e,t,n,r,i,a,o)}function ig(e){var t=Hm(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Vy(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Ny(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Vy(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Vy(e)})).join(",")),t.P=n}return t.P}function ag(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!gg(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!My(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!bg(e.startAt,t.startAt)&&bg(e.endAt,t.endAt)}function og(e){return Py.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var ug=function(e){Ar(n,e);var t=Dr(n);function n(e,r,i){var a;return xr(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Er(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.V(Fy(t,this.value)):null!==t&&Ly(this.value)===Ly(t)&&this.V(Fy(t,this.value))}},{key:"V",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Km()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.v(e,t,r):new sg(e,t,r):"array-contains"===t?new hg(e,r):"in"===t?new dg(e,r):"not-in"===t?new pg(e,r):"array-contains-any"===t?new vg(e,r):new n(e,t,r)}},{key:"v",value:function(e,t,n){return"in"===t?new cg(e,n):new lg(e,n)}}]),n}(function(){return Er((function e(){xr(this,e)}))}()),sg=function(e){Ar(n,e);var t=Dr(n);function n(e,r,i){var a;return xr(this,n),(a=t.call(this,e,r,i)).key=Py.fromName(i.referenceValue),a}return Er(n,[{key:"matches",value:function(e){var t=Py.comparator(e.key,this.key);return this.V(t)}}]),n}(ug),cg=function(e){Ar(n,e);var t=Dr(n);function n(e,r){var i;return xr(this,n),(i=t.call(this,e,"in",r)).keys=fg("in",r),i}return Er(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(ug),lg=function(e){Ar(n,e);var t=Dr(n);function n(e,r){var i;return xr(this,n),(i=t.call(this,e,"not-in",r)).keys=fg("not-in",r),i}return Er(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(ug);function fg(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Py.fromName(e.referenceValue)}))}var hg=function(e){Ar(n,e);var t=Dr(n);function n(e,r){return xr(this,n),t.call(this,e,"array-contains",r)}return Er(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Ky(t)&&Uy(t.arrayValue,this.value)}}]),n}(ug),dg=function(e){Ar(n,e);var t=Dr(n);function n(e,r){return xr(this,n),t.call(this,e,"in",r)}return Er(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Uy(this.value.arrayValue,t)}}]),n}(ug),pg=function(e){Ar(n,e);var t=Dr(n);function n(e,r){return xr(this,n),t.call(this,e,"not-in",r)}return Er(n,[{key:"matches",value:function(e){if(Uy(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Uy(this.value.arrayValue,t)}}]),n}(ug),vg=function(e){Ar(n,e);var t=Dr(n);function n(e,r){return xr(this,n),t.call(this,e,"array-contains-any",r)}return Er(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Ky(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Uy(t.value.arrayValue,e)}))}}]),n}(ug),mg=Er((function e(t,n){xr(this,e),this.position=t,this.inclusive=n})),yg=Er((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";xr(this,e),this.field=t,this.dir=n}));function gg(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function kg(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Py.comparator(Py.fromName(o.referenceValue),n.key):Fy(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function bg(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!My(e.position[n],t.position[n]))return!1;return!0}var wg=Er((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;xr(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.D=null,this.C=null,this.startAt,this.endAt}));function _g(e,t,n,r,i,a,o,u){return new wg(e,t,n,r,i,a,o,u)}function xg(e){return new wg(e)}function Ig(e){return!Ny(e.limit)&&"F"===e.limitType}function Eg(e){return!Ny(e.limit)&&"L"===e.limitType}function Tg(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Sg(e){var t,n=Tr(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Cg(e){return null!==e.collectionGroup}function Ag(e){var t=Hm(e);if(null===t.D){t.D=[];var n=Sg(t),r=Tg(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new yg(n)),t.D.push(new yg(gy.keyField(),"asc"));else{var i,a=!1,o=Tr(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.D.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new yg(gy.keyField(),s))}}}return t.D}function Ng(e){var t=Hm(e);if(!t.C)if("F"===t.limitType)t.C=rg(t.path,t.collectionGroup,Ag(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Tr(Ag(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new yg(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new mg(t.endAt.position,!t.endAt.inclusive):null,s=t.startAt?new mg(t.startAt.position,!t.startAt.inclusive):null;t.C=rg(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.C}function Og(e,t,n){return new wg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Rg(e,t){return ag(Ng(e),Ng(t))&&e.limitType===t.limitType}function Pg(e){return"".concat(ig(Ng(e)),"|lt:").concat(e.limitType)}function Dg(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Vy(t.value));var t})).join(", "),"]")),Ny(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Vy(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Vy(e)})).join(",")),"Target(".concat(t,")")}(Ng(e)),"; limitType=").concat(e.limitType,")")}function Lg(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Py.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Tr(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Tr(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=kg(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Ag(e),t))&&!(e.endAt&&!function(e,t,n){var r=kg(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Ag(e),t))}(e,t)}function Mg(e){return function(t,n){var r,i=!1,a=Tr(Ag(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Ug(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Ug(e,t,n){var r=e.field.isKeyField()?Py.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Fy(r,i):Km()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Km()}}function Fg(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Oy(t)?"-0":t}}function jg(e){return{integerValue:""+e}}function Vg(e,t){return Ry(t)?jg(t):Fg(e,t)}var zg=Er((function e(){xr(this,e),this._=void 0}));function qg(e,t,n){return e instanceof Wg?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Hg?Gg(e,t):e instanceof Qg?Yg(e,t):function(e,t){var n=Kg(e,t),r=Jg(n)+Jg(e.k);return By(n)&&By(e.k)?jg(r):Fg(e.O,r)}(e,t)}function Bg(e,t,n){return e instanceof Hg?Gg(e,t):e instanceof Qg?Yg(e,t):n}function Kg(e,t){return e instanceof Xg?By(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Wg=function(e){Ar(n,e);var t=Dr(n);function n(){return xr(this,n),t.apply(this,arguments)}return Er(n)}(zg),Hg=function(e){Ar(n,e);var t=Dr(n);function n(e){var r;return xr(this,n),(r=t.call(this)).elements=e,r}return Er(n)}(zg);function Gg(e,t){var n,r=$g(t),i=Tr(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return My(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Qg=function(e){Ar(n,e);var t=Dr(n);function n(e){var r;return xr(this,n),(r=t.call(this)).elements=e,r}return Er(n)}(zg);function Yg(e,t){var n,r=$g(t),i=Tr(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!My(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Xg=function(e){Ar(n,e);var t=Dr(n);function n(e,r){var i;return xr(this,n),(i=t.call(this)).O=e,i.k=r,i}return Er(n)}(zg);function Jg(e){return xy(e.integerValue||e.doubleValue)}function $g(e){return Ky(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Zg=Er((function e(t,n){xr(this,e),this.field=t,this.transform=n}));var ek=Er((function e(t,n){xr(this,e),this.version=t,this.transformResults=n})),tk=function(){function e(t,n){xr(this,e),this.updateTime=t,this.exists=n}return Er(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function nk(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var rk=Er((function e(){xr(this,e)}));function ik(e,t,n){e instanceof ck?function(e,t,n){var r=e.value.clone(),i=hk(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof lk?function(e,t,n){if(nk(e.precondition,t)){var r=hk(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(fk(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function ak(e,t,n){e instanceof ck?function(e,t,n){if(nk(e.precondition,t)){var r=e.value.clone(),i=dk(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(sk(t),r).setHasLocalMutations()}}(e,t,n):e instanceof lk?function(e,t,n){if(nk(e.precondition,t)){var r=dk(e.fieldTransforms,n,t),i=t.data;i.setAll(fk(e)),i.setAll(r),t.convertToFoundDocument(sk(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){nk(e.precondition,t)&&t.convertToNoDocument(fy.min())}(e,t)}function ok(e,t){var n,r=null,i=Tr(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=Kg(a.transform,o||null);null!=u&&(null==r&&(r=Yy.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function uk(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&sy(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Hg&&t instanceof Hg||e instanceof Qg&&t instanceof Qg?sy(e.elements,t.elements,My):e instanceof Xg&&t instanceof Xg?My(e.k,t.k):e instanceof Wg&&t instanceof Wg}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function sk(e){return e.isFoundDocument()?e.version:fy.min()}var ck=function(e){Ar(n,e);var t=Dr(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return xr(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Er(n)}(rk),lk=function(e){Ar(n,e);var t=Dr(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return xr(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return Er(n)}(rk);function fk(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function hk(e,t,n){var r=new Map;Wm(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Bg(o,u,n[i]))}return r}function dk(e,t,n){var r,i=new Map,a=Tr(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,qg(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var pk,vk,mk=function(e){Ar(n,e);var t=Dr(n);function n(e,r){var i;return xr(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Er(n)}(rk),yk=function(e){Ar(n,e);var t=Dr(n);function n(e,r){var i;return xr(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Er(n)}(rk),gk=Er((function e(t){xr(this,e),this.count=t}));function kk(e){switch(e){default:return Km();case Gm.CANCELLED:case Gm.UNKNOWN:case Gm.DEADLINE_EXCEEDED:case Gm.RESOURCE_EXHAUSTED:case Gm.INTERNAL:case Gm.UNAVAILABLE:case Gm.UNAUTHENTICATED:return!1;case Gm.INVALID_ARGUMENT:case Gm.NOT_FOUND:case Gm.ALREADY_EXISTS:case Gm.PERMISSION_DENIED:case Gm.FAILED_PRECONDITION:case Gm.ABORTED:case Gm.OUT_OF_RANGE:case Gm.UNIMPLEMENTED:case Gm.DATA_LOSS:return!0}}function bk(e){if(void 0===e)return zm("GRPC error has no .code"),Gm.UNKNOWN;switch(e){case pk.OK:return Gm.OK;case pk.CANCELLED:return Gm.CANCELLED;case pk.UNKNOWN:return Gm.UNKNOWN;case pk.DEADLINE_EXCEEDED:return Gm.DEADLINE_EXCEEDED;case pk.RESOURCE_EXHAUSTED:return Gm.RESOURCE_EXHAUSTED;case pk.INTERNAL:return Gm.INTERNAL;case pk.UNAVAILABLE:return Gm.UNAVAILABLE;case pk.UNAUTHENTICATED:return Gm.UNAUTHENTICATED;case pk.INVALID_ARGUMENT:return Gm.INVALID_ARGUMENT;case pk.NOT_FOUND:return Gm.NOT_FOUND;case pk.ALREADY_EXISTS:return Gm.ALREADY_EXISTS;case pk.PERMISSION_DENIED:return Gm.PERMISSION_DENIED;case pk.FAILED_PRECONDITION:return Gm.FAILED_PRECONDITION;case pk.ABORTED:return Gm.ABORTED;case pk.OUT_OF_RANGE:return Gm.OUT_OF_RANGE;case pk.UNIMPLEMENTED:return Gm.UNIMPLEMENTED;case pk.DATA_LOSS:return Gm.DATA_LOSS;default:return Km()}}(vk=pk||(pk={}))[vk.OK=0]="OK",vk[vk.CANCELLED=1]="CANCELLED",vk[vk.UNKNOWN=2]="UNKNOWN",vk[vk.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vk[vk.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vk[vk.NOT_FOUND=5]="NOT_FOUND",vk[vk.ALREADY_EXISTS=6]="ALREADY_EXISTS",vk[vk.PERMISSION_DENIED=7]="PERMISSION_DENIED",vk[vk.UNAUTHENTICATED=16]="UNAUTHENTICATED",vk[vk.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vk[vk.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vk[vk.ABORTED=10]="ABORTED",vk[vk.OUT_OF_RANGE=11]="OUT_OF_RANGE",vk[vk.UNIMPLEMENTED=12]="UNIMPLEMENTED",vk[vk.INTERNAL=13]="INTERNAL",vk[vk.UNAVAILABLE=14]="UNAVAILABLE",vk[vk.DATA_LOSS=15]="DATA_LOSS";var wk=function(){function e(t,n){xr(this,e),this.comparator=t,this.root=n||xk.EMPTY}return Er(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,xk.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,xk.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new _k(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new _k(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new _k(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new _k(this.root,e,this.comparator,!0)}}]),e}(),_k=function(){function e(t,n,r,i){xr(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Er(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),xk=function(){function e(t,n,r,i,a){xr(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Er(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Km();if(this.right.isRed())throw Km();var e=this.left.check();if(e!==this.right.check())throw Km();return e+(this.isRed()?0:1)}}]),e}();xk.EMPTY=null,xk.RED=!0,xk.BLACK=!1,xk.EMPTY=new(function(){function e(){xr(this,e),this.size=0}return Er(e,[{key:"key",get:function(){throw Km()}},{key:"value",get:function(){throw Km()}},{key:"color",get:function(){throw Km()}},{key:"left",get:function(){throw Km()}},{key:"right",get:function(){throw Km()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new xk(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Ik=function(){function e(t){xr(this,e),this.comparator=t,this.data=new wk(this.comparator)}return Er(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Ek(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Ek(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Ek=function(){function e(t){xr(this,e),this.iter=t}return Er(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Tk(e){return e.hasNext()?e.getNext():void 0}var Sk=new wk(Py.comparator);function Ck(){return Sk}var Ak=new wk(Py.comparator);function Nk(){return Ak}var Ok=new wk(Py.comparator),Rk=new Ik(Py.comparator);function Pk(){for(var e=Rk,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Dk=new Ik(uy);function Lk(){return Dk}var Mk=function(){function e(t,n,r,i,a){xr(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Er(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,Uk.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(fy.min(),r,Lk(),Ck(),Pk())}}]),e}(),Uk=function(){function e(t,n,r,i,a){xr(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Er(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(by.EMPTY_BYTE_STRING,n,Pk(),Pk(),Pk())}}]),e}(),Fk=Er((function e(t,n,r,i){xr(this,e),this.M=t,this.removedTargetIds=n,this.key=r,this.$=i})),jk=Er((function e(t,n){xr(this,e),this.targetId=t,this.F=n})),Vk=Er((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:by.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;xr(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),zk=function(){function e(){xr(this,e),this.B=0,this.L=Kk(),this.U=by.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}return Er(e,[{key:"current",get:function(){return this.q}},{key:"resumeToken",get:function(){return this.U}},{key:"G",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.K}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}},{key:"H",value:function(){var e=Pk(),t=Pk(),n=Pk();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Km()}})),new Uk(this.U,this.q,e,t,n)}},{key:"J",value:function(){this.K=!1,this.L=Kk()}},{key:"Y",value:function(e,t){this.K=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.K=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.K=!0,this.q=!0}}]),e}(),qk=function(){function e(t){xr(this,e),this.nt=t,this.st=new Map,this.it=Ck(),this.rt=Bk(),this.ot=new Ik(uy)}return Er(e,[{key:"ct",value:function(e){var t,n=Tr(e.M);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.$&&e.$.isFoundDocument()?this.ut(r,e.$):this.at(r,e.key,e.$)}}catch(u){n.e(u)}finally{n.f()}var i,a=Tr(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.at(o,e.key,e.$)}}catch(u){a.e(u)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:Km()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.F.count,r=this.wt(t);if(r){var i=r.target;if(og(i))if(0===n){var a=new Py(i.path);this.at(t,a,Jy.newNoDocument(a,fy.min()))}else Wm(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&og(a.target)){var o=new Py(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.at(i,o,Jy.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=Pk();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new Mk(e,n,this.ot,this.it,r);return this.it=Ck(),this.rt=Bk(),this.ot=new Ik(uy),i}},{key:"ut",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Et(t.key).add(e))}}},{key:"at",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Et(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new zk,this.st.set(e,t)),t}},{key:"Et",value:function(e){var t=this.rt.get(e);return t||(t=new Ik(uy),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||Vm("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.G?null:this.nt.Tt(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new zk),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.at(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Bk(){return new wk(Py.comparator)}function Kk(){return new wk(Py.comparator)}var Wk={asc:"ASCENDING",desc:"DESCENDING"},Hk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Gk=Er((function e(t,n){xr(this,e),this.databaseId=t,this.N=n}));function Qk(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Yk(e,t){return e.N?t.toBase64():t.toUint8Array()}function Xk(e,t){return Qk(e,t.toTimestamp())}function Jk(e){return Wm(!!e),fy.fromTimestamp(function(e){var t=_y(e);return new ly(t.seconds,t.nanos)}(e))}function $k(e,t){return function(e){return new my(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Zk(e){var t=my.fromString(e);return Wm(_b(t)),t}function eb(e,t){return $k(e.databaseId,t.path)}function tb(e,t){var n=Zk(t);if(n.get(1)!==e.databaseId.projectId)throw new Qm(Gm.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Qm(Gm.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Py(ab(n))}function nb(e,t){return $k(e.databaseId,t)}function rb(e){var t=Zk(e);return 4===t.length?my.emptyPath():ab(t)}function ib(e){return new my(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ab(e){return Wm(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function ob(e,t,n){return{name:eb(e,t),fields:n.value.mapValue.fields}}function ub(e,t,n){var r=tb(e,t.name),i=Jk(t.updateTime),a=new Yy({mapValue:{fields:t.fields}}),o=Jy.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function sb(e,t){return"found"in t?function(e,t){Wm(!!t.found),t.found.name,t.found.updateTime;var n=tb(e,t.found.name),r=Jk(t.found.updateTime),i=new Yy({mapValue:{fields:t.found.fields}});return Jy.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Wm(!!t.missing),Wm(!!t.readTime);var n=tb(e,t.missing),r=Jk(t.readTime);return Jy.newNoDocument(n,r)}(e,t):Km()}function cb(e,t){var n;if(t instanceof ck)n={update:ob(e,t.key,t.value)};else if(t instanceof mk)n={delete:eb(e,t.key)};else if(t instanceof lk)n={update:ob(e,t.key,t.data),updateMask:wb(t.fieldMask)};else{if(!(t instanceof yk))return Km();n={verify:eb(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Wg)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Hg)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Qg)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Xg)return{fieldPath:t.field.canonicalString(),increment:n.k};throw Km()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Xk(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Km()}(e,t.precondition)),n}function lb(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?tk.updateTime(Jk(e.updateTime)):void 0!==e.exists?tk.exists(e.exists):tk.none()}(t.currentDocument):tk.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Wm("REQUEST_TIME"===t.setToServerValue),n=new Wg;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Hg(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Qg(i)}else"increment"in t?n=new Xg(e,t.increment):Km();var a=gy.fromServerFormat(t.fieldPath);return new Zg(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=tb(e,t.update.name),a=new Yy({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new ky(t.map((function(e){return gy.fromServerFormat(e)})))}(t.updateMask);return new lk(i,a,o,n,r)}return new ck(i,a,n,r)}if(t.delete){var u=tb(e,t.delete);return new mk(u,n)}if(t.verify){var s=tb(e,t.verify);return new yk(s,n)}return Km()}function fb(e,t){return{documents:[nb(e,t.path)]}}function hb(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=nb(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=nb(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Hy(e.value))return{unaryFilter:{field:yb(e.field),op:"IS_NAN"}};if(Wy(e.value))return{unaryFilter:{field:yb(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Hy(e.value))return{unaryFilter:{field:yb(e.field),op:"IS_NOT_NAN"}};if(Wy(e.value))return{unaryFilter:{field:yb(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yb(e.field),op:mb(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:yb(e.field),direction:vb(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.N||Ny(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function db(e){var t=rb(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Wm(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=pb(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new yg(gb(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Ny(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new mg(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new mg(n,t)}(n.endAt)),_g(t,i,u,o,s,"F",c,l)}function pb(e){return e?void 0!==e.unaryFilter?[bb(e)]:void 0!==e.fieldFilter?[kb(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return pb(e)})).reduce((function(e,t){return e.concat(t)})):Km():[]}function vb(e){return Wk[e]}function mb(e){return Hk[e]}function yb(e){return{fieldPath:e.canonicalString()}}function gb(e){return gy.fromServerFormat(e.fieldPath)}function kb(e){return ug.create(gb(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Km()}}(e.fieldFilter.op),e.fieldFilter.value)}function bb(e){switch(e.unaryFilter.op){case"IS_NAN":var t=gb(e.unaryFilter.field);return ug.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=gb(e.unaryFilter.field);return ug.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=gb(e.unaryFilter.field);return ug.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=gb(e.unaryFilter.field);return ug.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Km()}}function wb(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function _b(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function xb(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Eb(t)),t=Ib(e.get(n),t);return Eb(t)}function Ib(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Eb(e){return e+"\x01\x01"}function Tb(e){var t=e.length;if(Wm(t>=2),2===t)return Wm("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),my.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Km(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Km()}a=o+2}return new my(r)}var Sb=Er((function e(t,n){xr(this,e),this.seconds=t,this.nanoseconds=n})),Cb=Er((function e(t,n,r){xr(this,e),this.ownerId=t,this.allowTabSynchronization=n,this.leaseTimestampMs=r}));Cb.store="owner",Cb.key="owner";var Ab=Er((function e(t,n,r){xr(this,e),this.userId=t,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r}));Ab.store="mutationQueues",Ab.keyPath="userId";var Nb=Er((function e(t,n,r,i,a){xr(this,e),this.userId=t,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=a}));Nb.store="mutations",Nb.keyPath="batchId",Nb.userMutationsIndex="userMutationsIndex",Nb.userMutationsKeyPath=["userId","batchId"];var Ob=function(){function e(){xr(this,e)}return Er(e,null,[{key:"prefixForUser",value:function(e){return[e]}},{key:"prefixForPath",value:function(e,t){return[e,xb(t)]}},{key:"key",value:function(e,t,n){return[e,xb(t),n]}}]),e}();Ob.store="documentMutations",Ob.PLACEHOLDER=new Ob;var Rb=Er((function e(t,n){xr(this,e),this.path=t,this.readTime=n})),Pb=Er((function e(t,n){xr(this,e),this.path=t,this.version=n})),Db=Er((function e(t,n,r,i,a,o){xr(this,e),this.unknownDocument=t,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=a,this.parentPath=o}));Db.store="remoteDocuments",Db.readTimeIndex="readTimeIndex",Db.readTimeIndexPath="readTime",Db.collectionReadTimeIndex="collectionReadTimeIndex",Db.collectionReadTimeIndexPath=["parentPath","readTime"];var Lb=Er((function e(t){xr(this,e),this.byteSize=t}));Lb.store="remoteDocumentGlobal",Lb.key="remoteDocumentGlobalKey";var Mb=Er((function e(t,n,r,i,a,o,u){xr(this,e),this.targetId=t,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=a,this.lastLimboFreeSnapshotVersion=o,this.query=u}));Mb.store="targets",Mb.keyPath="targetId",Mb.queryTargetsIndexName="queryTargetsIndex",Mb.queryTargetsKeyPath=["canonicalId","targetId"];var Ub=Er((function e(t,n,r){xr(this,e),this.targetId=t,this.path=n,this.sequenceNumber=r}));Ub.store="targetDocuments",Ub.keyPath=["targetId","path"],Ub.documentTargetsIndex="documentTargetsIndex",Ub.documentTargetsKeyPath=["path","targetId"];var Fb=Er((function e(t,n,r,i){xr(this,e),this.highestTargetId=t,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i}));Fb.key="targetGlobalKey",Fb.store="targetGlobal";var jb=Er((function e(t,n){xr(this,e),this.collectionId=t,this.parent=n}));jb.store="collectionParents",jb.keyPath=["collectionId","parent"];var Vb=Er((function e(t,n,r,i){xr(this,e),this.clientId=t,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i}));Vb.store="clientMetadata",Vb.keyPath="clientId";var zb=Er((function e(t,n,r){xr(this,e),this.bundleId=t,this.createTime=n,this.version=r}));zb.store="bundles",zb.keyPath="bundleId";var qb=Er((function e(t,n,r){xr(this,e),this.name=t,this.readTime=n,this.bundledQuery=r}));qb.store="namedQueries",qb.keyPath="name";var Bb=Er((function e(t,n,r){xr(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r}));Bb.store="indexConfiguration",Bb.keyPath="indexId",Bb.collectionGroupIndex="collectionGroupIndex",Bb.collectionGroupIndexPath="collectionGroup";var Kb=Er((function e(t,n,r,i,a,o){xr(this,e),this.indexId=t,this.uid=n,this.sequenceNumber=r,this.readTime=i,this.documentKey=a,this.largestBatchId=o}));Kb.store="indexState",Kb.keyPath=["indexId","uid"],Kb.sequenceNumberIndex="sequenceNumberIndex",Kb.sequenceNumberIndexPath=["uid","sequenceNumber"];var Wb=Er((function e(t,n,r,i,a){xr(this,e),this.indexId=t,this.uid=n,this.arrayValue=r,this.directionalValue=i,this.documentKey=a}));Wb.store="indexEntries",Wb.keyPath=["indexId","uid","arrayValue","directionalValue","documentKey"],Wb.documentKeyIndex="documentKeyIndex",Wb.documentKeyIndexPath=["indexId","uid","documentKey"];var Hb=Er((function e(t,n,r,i,a,o){xr(this,e),this.userId=t,this.collectionPath=n,this.documentId=r,this.collectionGroup=i,this.largestBatchId=a,this.overlayMutation=o}));Hb.store="documentOverlays",Hb.keyPath=["userId","collectionPath","documentId"],Hb.collectionPathOverlayIndex="collectionPathOverlayIndex",Hb.collectionPathOverlayIndexPath=["userId","collectionPath","largestBatchId"],Hb.collectionGroupOverlayIndex="collectionGroupOverlayIndex",Hb.collectionGroupOverlayIndexPath=["userId","collectionGroup","largestBatchId"];var Gb=[Ab.store,Nb.store,Ob.store,Db.store,Mb.store,Cb.store,Fb.store,Ub.store].concat([Vb.store]).concat([Lb.store]).concat([jb.store]).concat([zb.store,qb.store]),Qb=[].concat(hi(Gb),[Hb.store]),Yb=[].concat(hi(Qb),[Bb.store,Kb.store,Wb.store]),Xb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Jb=function(){function e(){xr(this,e),this.onCommittedListeners=[]}return Er(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),$b=function(){function e(t){var n=this;xr(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Er(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Km(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Tr(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),Zb=function(){function e(t,n){var r=this;xr(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.At=new Ym,this.transaction.oncomplete=function(){r.At.resolve()},this.transaction.onabort=function(){n.error?r.At.reject(new nw(t,n.error)):r.At.resolve()},this.transaction.onerror=function(e){var n=uw(e.target.error);r.At.reject(new nw(t,n))}}return Er(e,[{key:"Rt",get:function(){return this.At.promise}},{key:"abort",value:function(e){e&&this.At.reject(e),this.aborted||(Vm("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"Pt",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new iw(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new nw(n,t)}}}]),e}(),ew=function(){function e(t,n,r){xr(this,e),this.name=t,this.version=n,this.bt=r,12.2===e.vt(Kr())&&zm("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Er(e,[{key:"xt",value:function(){var e=ee(ne().mark((function e(t){var n=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Vm("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new nw(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Qm(Gm.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Qm(Gm.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new nw(t,n))},i.onupgradeneeded=function(e){Vm("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.bt.kt(t,i.transaction,e.oldVersion,n.version).next((function(){Vm("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.Ot&&(this.db.onversionchange=function(e){return n.Ot(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Mt",value:function(e){this.Ot=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=ee(ne().mark((function e(t,n,r,i){var a,o,u,s,c=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(ne().mark((function e(){var n,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.xt(t);case 2:return c.db=e.sent,n=Zb.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.Pt(),e})).catch((function(e){return n.abort(e),$b.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.Rt;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,Vm("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Vm("SimpleDb","Removing database:",e),aw(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"Vt",value:function(){if(!Xr())return!1;if(e.St())return!0;var t=Kr(),n=e.vt(t),r=0<n&&n<10,i=e.Dt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"St",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/nwitter",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyBDmqNGbc8ChfVcpslcS0PcHzoVJqLcI2k",REACT_APP_AUTH_DOMAIN:"nwitter-dd9dc.firebaseapp.com",REACT_APP_PROJECT_ID:"nwitter-dd9dc",REACT_APP_STORAGE_BUCKET:"nwitter-dd9dc.appspot.com",REACT_APP_MESSAGING_ID:"91973143559",REACT_APP_ID:"91973143559:web:30069e15a1652a34f76ea2",REACT_APP_MEASUREMENT_ID:"G-RXT5908NJ9"})||void 0===e?void 0:e.Ct)}},{key:"Nt",value:function(e,t){return e.store(t)}},{key:"vt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Dt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),tw=function(){function e(t){xr(this,e),this.$t=t,this.Ft=!1,this.Bt=null}return Er(e,[{key:"isDone",get:function(){return this.Ft}},{key:"Lt",get:function(){return this.Bt}},{key:"cursor",set:function(e){this.$t=e}},{key:"done",value:function(){this.Ft=!0}},{key:"Ut",value:function(e){this.Bt=e}},{key:"delete",value:function(){return aw(this.$t.delete())}}]),e}(),nw=function(e){Ar(n,e);var t=Dr(n);function n(e,r){var i;return xr(this,n),(i=t.call(this,Gm.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return Er(n)}(Qm);function rw(e){return"IndexedDbTransactionError"===e.name}var iw=function(){function e(t){xr(this,e),this.store=t}return Er(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Vm("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Vm("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),aw(n)}},{key:"add",value:function(e){return Vm("SimpleDb","ADD",this.store.name,e,e),aw(this.store.add(e))}},{key:"get",value:function(e){var t=this;return aw(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Vm("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Vm("SimpleDb","DELETE",this.store.name,e),aw(this.store.delete(e))}},{key:"count",value:function(){return Vm("SimpleDb","COUNT",this.store.name),aw(this.store.count())}},{key:"qt",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.Kt(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new $b((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"Gt",value:function(e,t){Vm("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.jt=!1;var r=this.cursor(n);return this.Kt(r,(function(e,t,n){return n.delete()}))}},{key:"Qt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Kt(r,t)}},{key:"Wt",value:function(e){var t=this.cursor({});return new $b((function(n,r){t.onerror=function(e){var t=uw(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Kt",value:function(e,t){var n=[];return new $b((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new tw(i),o=t(i.primaryKey,i.value,a);if(o instanceof $b){var u=o.catch((function(e){return a.done(),$b.reject(e)}));n.push(u)}a.isDone?r():null===a.Lt?i.continue():i.continue(a.Lt)}else r()}})).next((function(){return $b.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function aw(e){return new $b((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=uw(e.target.error);n(t)}}))}var ow=!1;function uw(e){var t=ew.vt(Kr());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Qm("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return ow||(ow=!0,setTimeout((function(){throw r}),0)),r}}return e}var sw=function(e){Ar(n,e);var t=Dr(n);function n(e,r){var i;return xr(this,n),(i=t.call(this)).zt=e,i.currentSequenceNumber=r,i}return Er(n)}(Jb);function cw(e,t){var n=Hm(e);return ew.Nt(n.zt,t)}var lw=function(){function e(t,n,r,i){xr(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Er(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&ik(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=Tr(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&ak(r,e,this.localWriteTime)}}catch(u){n.e(u)}finally{n.f()}var i,a=Tr(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&ak(o,e,this.localWriteTime)}}catch(u){a.e(u)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(fy.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Pk())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&sy(this.mutations,e.mutations,(function(e,t){return uk(e,t)}))&&sy(this.baseMutations,e.baseMutations,(function(e,t){return uk(e,t)}))}}]),e}(),fw=function(){function e(t,n,r,i){xr(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Er(e,null,[{key:"from",value:function(t,n,r){Wm(t.mutations.length===r.length);for(var i=Ok,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),hw=function(){function e(t,n){xr(this,e),this.largestBatchId=t,this.mutation=n}return Er(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),dw=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:fy.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:fy.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:by.EMPTY_BYTE_STRING;xr(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return Er(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),pw=Er((function e(t){xr(this,e),this.Ht=t}));function vw(e,t){var n;if(t.document)n=ub(e.Ht,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Py.fromSegments(t.noDocument.path),i=bw(t.noDocument.readTime);n=Jy.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Km();var a=Py.fromSegments(t.unknownDocument.path),o=bw(t.unknownDocument.version);n=Jy.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(gw(t.readTime)),n}function mw(e,t){var n=yw(t.readTime),r=t.key.path.popLast().toArray();if(t.isFoundDocument()){var i=function(e,t){return{name:eb(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Qk(e,t.version.toTimestamp())}}(e.Ht,t),a=t.hasCommittedMutations;return new Db(null,null,i,a,n,r)}if(t.isNoDocument()){var o=t.key.path.toArray(),u=kw(t.version),s=t.hasCommittedMutations;return new Db(null,new Rb(o,u),null,s,n,r)}if(t.isUnknownDocument()){var c=t.key.path.toArray(),l=kw(t.version);return new Db(new Pb(c,l),null,null,!0,n,r)}return Km()}function yw(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function gw(e){var t=new ly(e[0],e[1]);return fy.fromTimestamp(t)}function kw(e){var t=e.toTimestamp();return new Sb(t.seconds,t.nanoseconds)}function bw(e){var t=new ly(e.seconds,e.nanoseconds);return fy.fromTimestamp(t)}function ww(e,t){for(var n=(t.baseMutations||[]).map((function(t){return lb(e.Ht,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return lb(e.Ht,t)})),u=ly.fromMillis(t.localWriteTimeMs);return new lw(t.batchId,u,n,o)}function _w(e){var t,n,r=bw(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?bw(e.lastLimboFreeSnapshotVersion):fy.min();return void 0!==e.query.documents?(Wm(1===(n=e.query).documents.length),t=Ng(xg(rb(n.documents[0])))):t=function(e){return Ng(db(e))}(e.query),new dw(t,e.targetId,0,e.lastListenSequenceNumber,r,i,by.fromBase64String(e.resumeToken))}function xw(e,t){var n,r=kw(t.snapshotVersion),i=kw(t.lastLimboFreeSnapshotVersion);n=og(t.target)?fb(e.Ht,t.target):hb(e.Ht,t.target);var a=t.resumeToken.toBase64();return new Mb(t.targetId,ig(t.target),r,a,t.sequenceNumber,i,n)}function Iw(e){var t=db({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Og(t,t.limit,"L"):t}function Ew(e,t){return new hw(t.largestBatchId,lb(e.Ht,t.overlayMutation))}function Tw(e,t){var n=t.path.lastSegment();return[e,xb(t.path.popLast()),n]}var Sw=function(){function e(){xr(this,e)}return Er(e,[{key:"getBundleMetadata",value:function(e,t){return Cw(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:bw(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Cw(e).put({bundleId:(n=t).id,createTime:kw(Jk(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Aw(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Iw(t.bundledQuery),readTime:bw(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Aw(e).put(function(e){return{name:e.name,readTime:kw(Jk(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Cw(e){return cw(e,zb.store)}function Aw(e){return cw(e,qb.store)}var Nw=function(){function e(t,n){xr(this,e),this.O=t,this.userId=n}return Er(e,[{key:"getOverlay",value:function(e,t){var n=this;return Ow(e).get(Tw(this.userId,t)).next((function(e){return e?Ew(n.O,e):null}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n){var a=new hw(t,n);i.push(r.Yt(e,a))})),$b.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(xb(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Ow(e).Gt(Hb.collectionPathOverlayIndex,i))})),$b.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=new Map,a=xb(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Ow(e).qt(Hb.collectionPathOverlayIndex,o).next((function(e){var t,n=Tr(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Ew(r.O,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=new Map,u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Ow(e).Qt({index:Hb.collectionGroupOverlayIndex,range:u},(function(e,t,n){var u=Ew(a.O,t);o.size<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"Yt",value:function(e,t){return Ow(e).put(function(e,t,n){var r=c(Tw(t,n.mutation.key),3),i=(r[0],r[1]),a=r[2];return new Hb(t,i,a,n.mutation.key.getCollectionGroup(),n.largestBatchId,cb(e.Ht,n.mutation))}(this.O,this.userId,t))}}],[{key:"Jt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Ow(e){return cw(e,Hb.store)}var Rw=function(){function e(){xr(this,e)}return Er(e,[{key:"Xt",value:function(e,t){this.Zt(e,t),t.te()}},{key:"Zt",value:function(e,t){if("nullValue"in e)this.ee(t,5);else if("booleanValue"in e)this.ee(t,10),t.ne(e.booleanValue?1:0);else if("integerValue"in e)this.ee(t,15),t.ne(xy(e.integerValue));else if("doubleValue"in e){var n=xy(e.doubleValue);isNaN(n)?this.ee(t,13):(this.ee(t,15),Oy(n)?t.ne(0):t.ne(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ee(t,20),"string"==typeof r?t.se(r):(t.se("".concat(r.seconds||"")),t.ne(r.nanos||0))}else if("stringValue"in e)this.ie(e.stringValue,t),this.re(t);else if("bytesValue"in e)this.ee(t,30),t.oe(Iy(e.bytesValue)),this.re(t);else if("referenceValue"in e)this.ce(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ee(t,45),t.ne(i.latitude||0),t.ne(i.longitude||0)}else"mapValue"in e?My(e,Dy)?this.ee(t,Number.MAX_SAFE_INTEGER):(this.ue(e.mapValue,t),this.re(t)):"arrayValue"in e?(this.ae(e.arrayValue,t),this.re(t)):Km()}},{key:"ie",value:function(e,t){this.ee(t,25),this.he(e,t)}},{key:"he",value:function(e,t){t.se(e)}},{key:"ue",value:function(e,t){var n=e.fields||{};this.ee(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.ie(a,t),this.Zt(n[a],t)}}},{key:"ae",value:function(e,t){var n=e.values||[];this.ee(t,50);var r,i=Tr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.Zt(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ce",value:function(e,t){var n=this;this.ee(t,37),Py.fromName(e).path.forEach((function(e){n.ee(t,60),n.he(e,t)}))}},{key:"ee",value:function(e,t){e.ne(t)}},{key:"re",value:function(e){e.ne(2)}}]),e}();function Pw(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Dw(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Pw(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Rw.le=new Rw;var Lw=function(){function e(){xr(this,e),this.buffer=new Uint8Array(1024),this.position=0}return Er(e,[{key:"fe",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.de(n.value),n=t.next();this._e()}},{key:"we",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.me(n.value),n=t.next();this.ge()}},{key:"ye",value:function(e){var t,n=Tr(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.de(i);else if(i<2048)this.de(960|i>>>6),this.de(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.de(480|i>>>12),this.de(128|63&i>>>6),this.de(128|63&i);else{var a=r.codePointAt(0);this.de(240|a>>>18),this.de(128|63&a>>>12),this.de(128|63&a>>>6),this.de(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this._e()}},{key:"pe",value:function(e){var t,n=Tr(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.me(i);else if(i<2048)this.me(960|i>>>6),this.me(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.me(480|i>>>12),this.me(128|63&i>>>6),this.me(128|63&i);else{var a=r.codePointAt(0);this.me(240|a>>>18),this.me(128|63&a>>>12),this.me(128|63&a>>>6),this.me(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ge()}},{key:"Ie",value:function(e){var t=this.Ee(e),n=Dw(t);this.Te(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Ae",value:function(e){var t=this.Ee(e),n=Dw(t);this.Te(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Re",value:function(){this.Pe(255),this.Pe(255)}},{key:"be",value:function(){this.ve(255),this.ve(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Te(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Ve",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ee",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"de",value:function(e){var t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}},{key:"me",value:function(e){var t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}},{key:"_e",value:function(){this.Pe(0),this.Pe(1)}},{key:"ge",value:function(){this.ve(0),this.ve(1)}},{key:"Pe",value:function(e){this.Te(1),this.buffer[this.position++]=e}},{key:"ve",value:function(e){this.Te(1),this.buffer[this.position++]=~e}},{key:"Te",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Mw=function(){function e(t){xr(this,e),this.Se=t}return Er(e,[{key:"oe",value:function(e){this.Se.fe(e)}},{key:"se",value:function(e){this.Se.ye(e)}},{key:"ne",value:function(e){this.Se.Ie(e)}},{key:"te",value:function(){this.Se.Re()}}]),e}(),Uw=function(){function e(t){xr(this,e),this.Se=t}return Er(e,[{key:"oe",value:function(e){this.Se.we(e)}},{key:"se",value:function(e){this.Se.pe(e)}},{key:"ne",value:function(e){this.Se.Ae(e)}},{key:"te",value:function(){this.Se.be()}}]),e}(),Fw=function(){function e(){xr(this,e),this.Se=new Lw,this.De=new Mw(this.Se),this.Ce=new Uw(this.Se)}return Er(e,[{key:"seed",value:function(e){this.Se.seed(e)}},{key:"Ne",value:function(e){return 0===e?this.De:this.Ce}},{key:"Ve",value:function(){return this.Se.Ve()}},{key:"reset",value:function(){this.Se.reset()}}]),e}(),jw=Er((function e(t,n,r,i){xr(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}));function Vw(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Py.comparator(e.documentKey,t.documentKey))?n:0!==(n=zw(e.arrayValue,t.arrayValue))?n:zw(e.directionalValue,t.directionalValue)}function zw(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var qw=function(){function e(){xr(this,e),this.xe=new Bw}return Er(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.xe.add(t),$b.resolve()}},{key:"getCollectionParents",value:function(e,t){return $b.resolve(this.xe.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return $b.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return $b.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t,n){return $b.resolve(Pk())}},{key:"getFieldIndex",value:function(e,t){return $b.resolve(null)}},{key:"getFieldIndexes",value:function(e,t){return $b.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return $b.resolve(null)}},{key:"updateCollectionGroup",value:function(e,t,n){return $b.resolve()}},{key:"updateIndexEntries",value:function(e,t){return $b.resolve()}}]),e}(),Bw=function(){function e(){xr(this,e),this.index={}}return Er(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ik(my.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Ik(my.comparator)).toArray()}}]),e}(),Kw=function(){function e(t){xr(this,e),this.user=t,this.ke=new Bw,this.uid=t.uid||""}return Er(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.ke.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.ke.add(t)}));var a={collectionId:r,parent:xb(i)};return Ww(e).put(a)}return $b.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[cy(t),""],!1,!0);return Ww(e).qt(r).next((function(e){var r,i=Tr(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Tb(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=Gw(e),r=function(e){return new Bb(e.indexId,e.collectionGroup,e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]})))}(t);return delete r.indexId,n.add(r).next()}},{key:"deleteFieldIndex",value:function(e,t){var n=Gw(e),r=Qw(e),i=Hw(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t,n){return $b.resolve(Pk())}},{key:"getFieldIndex",value:function(e,t){return $b.resolve(null)}},{key:"Oe",value:function(e,t){var n,r=new Fw,i=Tr(function(e){return e.fields.filter((function(e){return 2!==e.kind}))}(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Ne(a.kind);Rw.le.Xt(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Ve()}},{key:"Me",value:function(e){var t=new Fw;return Rw.le.Xt(e,t.Ne(0)),t.Ve()}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=Gw(e),i=Qw(e);return(t?r.qt(Bb.collectionGroupIndex,IDBKeyRange.bound(t,t)):r.qt()).next((function(e){var t=[];return $b.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new eg(t.sequenceNumber,new tg(bw(t.readTime),new Py(Tb(t.documentKey)),t.largestBatchId)):eg.empty(),r=e.fields.map((function(e){var t=c(e,2),n=t[0],r=t[1];return new Zy(gy.fromServerFormat(n),r)}));return new $y(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){return e.indexState.sequenceNumber-t.indexState.sequenceNumber})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=Gw(e),a=Qw(e);return this.$e(e).next((function(e){return i.qt(Bb.collectionGroupIndex,IDBKeyRange.bound(t,t)).next((function(t){return $b.forEach(t,(function(t){return a.put(function(e,t,n,r){return new Kb(e,t.uid||"",n,kw(r.readTime),xb(r.documentKey.path),r.largestBatchId)}(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return $b.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?$b.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),$b.forEach(a,(function(r){return n.Fe(e,t,r).next((function(t){var a=n.Be(i,r);return t.isEqual(a)?$b.resolve():n.Le(e,i,t,a)}))}))}))}))}},{key:"Ue",value:function(e,t,n){return Hw(e).put(new Wb(n.indexId,this.uid,n.arrayValue,n.directionalValue,xb(t.key.path)))}},{key:"qe",value:function(e,t,n){return Hw(e).delete([n.indexId,this.uid,n.arrayValue,n.directionalValue,xb(t.key.path)])}},{key:"Fe",value:function(e,t,n){var r=Hw(e),i=new Ik(Vw);return r.Qt({index:Wb.documentKeyIndex,range:IDBKeyRange.only([n.indexId,this.uid,xb(t.path)])},(function(e,r){i=i.add(new jw(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"Be",value:function(e,t){var n=new Ik(Vw),r=this.Oe(t,e);if(null==r)return n;var i=function(e){return e.fields.find((function(e){return 2===e.kind}))}(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Ky(a)){var o,u=Tr(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new jw(t.indexId,e.key,this.Me(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new jw(t.indexId,e.key,new Uint8Array,r));return n}},{key:"Le",value:function(e,t,n,r){var i=this;Vm("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var a=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=Tk(a),s=Tk(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=Tk(o)):l?(i(u),u=Tk(a)):(u=Tk(a),s=Tk(o))}}(n,r,Vw,(function(n){a.push(i.Ue(e,t,n))}),(function(n){a.push(i.qe(e,t,n))})),$b.waitFor(a)}},{key:"$e",value:function(e){var t=1;return Qw(e).Qt({index:Kb.sequenceNumberIndex,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}}]),e}();function Ww(e){return cw(e,jb.store)}function Hw(e){return cw(e,Wb.store)}function Gw(e){return cw(e,Bb.store)}function Qw(e){return cw(e,Kb.store)}var Yw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Xw=function(){function e(t,n,r){xr(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Er(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Jw(e,t,n){var r=e.store(Nb.store),i=e.store(Ob.store),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Qt({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){Wm(1===u)})));var c,l=[],f=Tr(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Ob.key(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return $b.waitFor(a).next((function(){return l}))}function $w(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Km();t=e.noDocument}return JSON.stringify(t).length}Xw.DEFAULT_COLLECTION_PERCENTILE=10,Xw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xw.DEFAULT=new Xw(41943040,Xw.DEFAULT_COLLECTION_PERCENTILE,Xw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xw.DISABLED=new Xw(-1,0,0);var Zw=function(){function e(t,n,r,i){xr(this,e),this.userId=t,this.O=n,this.indexManager=r,this.referenceDelegate=i,this.Ke={}}return Er(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return t_(e).Qt({index:Nb.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=n_(e),o=t_(e);return o.add({}).next((function(u){Wm("number"==typeof u);var s,c=new lw(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return cb(e.Ht,t)})),i=n.mutations.map((function(t){return cb(e.Ht,t)}));return new Nb(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.O,i.userId,c),f=[],h=new Ik((function(e,t){return uy(e.canonicalString(),t.canonicalString())})),d=Tr(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=Ob.key(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Ob.PLACEHOLDER))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Ke[u]=c.keys()})),$b.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return t_(e).get(t).next((function(e){return e?(Wm(e.userId===n.userId),ww(n.O,e)):null}))}},{key:"Ge",value:function(e,t){var n=this;return this.Ke[t]?$b.resolve(this.Ke[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Ke[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return t_(e).Qt({index:Nb.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(Wm(t.batchId>=r),a=ww(n.O,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return t_(e).Qt({index:Nb.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return t_(e).qt(Nb.userMutationsIndex,n).next((function(e){return e.map((function(e){return ww(t.O,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Ob.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return n_(e).Qt({range:i},(function(r,i,o){var u=c(r,3),s=u[0],l=u[1],f=u[2],h=Tb(l);if(s===n.userId&&t.path.isEqual(h))return t_(e).get(f).next((function(e){if(!e)throw Km();Wm(e.userId===n.userId),a.push(ww(n.O,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Ik(uy),i=[];return t.forEach((function(t){var a=Ob.prefixForPath(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=n_(e).Qt({range:o},(function(e,i,a){var o=c(e,3),u=o[0],s=o[1],l=o[2],f=Tb(s);u===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(u)})),$b.waitFor(i).next((function(){return n.je(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Ob.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new Ik(uy);return n_(e).Qt({range:o},(function(e,t,a){var o=c(e,3),s=o[0],l=o[1],f=o[2],h=Tb(l);s===n.userId&&r.isPrefixOf(h)?h.length===i&&(u=u.add(f)):a.done()})).next((function(){return n.je(e,u)}))}},{key:"je",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(t_(e).get(t).next((function(e){if(null===e)throw Km();Wm(e.userId===n.userId),r.push(ww(n.O,e))})))})),$b.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Jw(e.zt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Qe(t.batchId)})),$b.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"Qe",value:function(e){delete this.Ke[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return $b.resolve();var r=IDBKeyRange.lowerBound(Ob.prefixForUser(t.userId)),i=[];return n_(e).Qt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Tb(e[1]);i.push(a)}else r.done()})).next((function(){Wm(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return e_(e,this.userId,t)}},{key:"We",value:function(e){var t=this;return r_(e).get(this.userId).next((function(e){return e||new Ab(t.userId,-1,"")}))}}],[{key:"Jt",value:function(t,n,r,i){return Wm(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function e_(e,t,n){var r=Ob.prefixForPath(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return n_(e).Qt({range:a,jt:!0},(function(e,n,r){var a=c(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function t_(e){return cw(e,Nb.store)}function n_(e){return cw(e,Ob.store)}function r_(e){return cw(e,Ab.store)}var i_=function(){function e(t){xr(this,e),this.ze=t}return Er(e,[{key:"next",value:function(){return this.ze+=2,this.ze}}],[{key:"He",value:function(){return new e(0)}},{key:"Je",value:function(){return new e(-1)}}]),e}(),a_=function(){function e(t,n){xr(this,e),this.referenceDelegate=t,this.O=n}return Er(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Ye(e).next((function(n){var r=new i_(n.highestTargetId);return n.highestTargetId=r.next(),t.Xe(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Ye(e).next((function(e){return fy.fromTimestamp(new ly(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Ye(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Ye(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Xe(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Ze(e,t).next((function(){return n.Ye(e).next((function(r){return r.targetCount+=1,n.tn(t,r),n.Xe(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Ze(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return o_(e).delete(t.targetId)})).next((function(){return n.Ye(e)})).next((function(t){return Wm(t.targetCount>0),t.targetCount-=1,n.Xe(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return o_(e).Qt((function(o,u){var s=_w(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return $b.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return o_(e).Qt((function(e,n){var r=_w(n);t(r)}))}},{key:"Ye",value:function(e){return u_(e).get(Fb.key).next((function(e){return Wm(null!==e),e}))}},{key:"Xe",value:function(e,t){return u_(e).put(Fb.key,t)}},{key:"Ze",value:function(e,t){return o_(e).put(xw(this.O,t))}},{key:"tn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Ye(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=ig(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return o_(e).Qt({range:r,index:Mb.queryTargetsIndexName},(function(e,n,r){var a=_w(n);ag(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=s_(e);return t.forEach((function(t){var o=xb(t.path);i.push(a.put(new Ub(n,o))),i.push(r.referenceDelegate.addReference(e,n,t))})),$b.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=s_(e);return $b.forEach(t,(function(t){var a=xb(t.path);return $b.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=s_(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=s_(e),i=Pk();return r.Qt({range:n,jt:!0},(function(e,t,n){var r=Tb(e[1]),a=new Py(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=xb(t.path),r=IDBKeyRange.bound([n],[cy(n)],!1,!0),i=0;return s_(e).Qt({index:Ub.documentTargetsIndex,jt:!0,range:r},(function(e,t,n){var r=c(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Tt",value:function(e,t){return o_(e).get(t).next((function(e){return e?_w(e):null}))}}]),e}();function o_(e){return cw(e,Mb.store)}function u_(e){return cw(e,Fb.store)}function s_(e){return cw(e,Ub.store)}function c_(e){return l_.apply(this,arguments)}function l_(){return l_=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Gm.FAILED_PRECONDITION&&t.message===Xb){e.next=2;break}throw t;case 2:Vm("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),l_.apply(this,arguments)}function f_(e,t){var n=c(e,2),r=n[0],i=n[1],a=c(t,2),o=a[0],u=a[1],s=uy(r,o);return 0===s?uy(i,u):s}var h_=function(){function e(t){xr(this,e),this.en=t,this.buffer=new Ik(f_),this.nn=0}return Er(e,[{key:"sn",value:function(){return++this.nn}},{key:"rn",value:function(e){var t=[e,this.sn()];if(this.buffer.size<this.en)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();f_(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),d_=function(){function e(t,n){xr(this,e),this.garbageCollector=t,this.asyncQueue=n,this.on=!1,this.cn=null}return Er(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.un(e)}},{key:"stop",value:function(){this.cn&&(this.cn.cancel(),this.cn=null)}},{key:"started",get:function(){return null!==this.cn}},{key:"un",value:function(e){var t=this,n=this.on?3e5:6e4;Vm("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.cn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,ee(ne().mark((function n(){return ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.cn=null,t.on=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!rw(n.t0)){n.next=12;break}Vm("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,c_(n.t0);case 14:return n.next=16,t.un(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),p_=function(){function e(t,n){xr(this,e),this.an=t,this.params=n}return Er(e,[{key:"calculateTargetCount",value:function(e,t){return this.an.hn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return $b.resolve(iy.A);var r=new h_(t);return this.an.forEachTarget(e,(function(e){return r.rn(e.sequenceNumber)})).next((function(){return n.an.ln(e,(function(e){return r.rn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.an.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.an.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Vm("LruGarbageCollector","Garbage collection skipped; disabled"),$b.resolve(Yw)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Vm("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Yw):n.fn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.an.getCacheSize(e)}},{key:"fn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Vm("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),jm()<=yi.DEBUG&&Vm("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),$b.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),v_=function(){function e(t,n){xr(this,e),this.db=t,this.garbageCollector=function(e,t){return new p_(e,t)}(this,n)}return Er(e,[{key:"hn",value:function(e){var t=this.dn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"dn",value:function(e){var t=0;return this.ln(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"ln",value:function(e,t){return this._n(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return m_(e,n)}},{key:"removeReference",value:function(e,t,n){return m_(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return m_(e,t)}},{key:"wn",value:function(e,t){return function(e,t){var n=!1;return r_(e).Wt((function(r){return e_(e,r,t).next((function(e){return e&&(n=!0),$b.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this._n(e,(function(o,u){if(u<=t){var s=n.wn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,fy.min()),s_(e).delete([0,xb(o.path)])}))}));i.push(s)}})).next((function(){return $b.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return m_(e,t)}},{key:"_n",value:function(e,t){var n,r=s_(e),i=iy.A;return r.Qt({index:Ub.documentTargetsIndex},(function(e,r){var a=c(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==iy.A&&t(new Py(Tb(n)),i),i=s,n=u):i=iy.A})).next((function(){i!==iy.A&&t(new Py(Tb(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function m_(e,t){return s_(e).put(function(e,t){return new Ub(0,xb(e.path),t)}(t,e.currentSequenceNumber))}var y_=function(){function e(t,n){xr(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return Er(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Tr(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}},{key:"forEach",value:function(e){dy(this.inner,(function(t,n){var r,i=Tr(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return py(this.inner)}}]),e}(),g_=function(){function e(){xr(this,e),this.changes=new y_((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Er(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Jy.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?$b.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),k_=function(){function e(t){xr(this,e),this.O=t}return Er(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return __(e).put(x_(t),n)}},{key:"removeEntry",value:function(e,t){var n=__(e),r=x_(t);return n.delete(r)}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.mn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this;return __(e).get(x_(t)).next((function(e){return n.gn(t,e)}))}},{key:"yn",value:function(e,t){var n=this;return __(e).get(x_(t)).next((function(e){return{document:n.gn(t,e),size:$w(e)}}))}},{key:"getEntries",value:function(e,t){var n=this,r=Ck();return this.pn(e,t,(function(e,t){var i=n.gn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"In",value:function(e,t){var n=this,r=Ck(),i=new wk(Py.comparator);return this.pn(e,t,(function(e,t){var a=n.gn(e,t);r=r.insert(e,a),i=i.insert(e,$w(t))})).next((function(){return{documents:r,En:i}}))}},{key:"pn",value:function(e,t,n){if(t.isEmpty())return $b.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),a=i.getNext();return __(e).Qt({range:r},(function(e,t,r){for(var o=Py.fromSegments(e);a&&Py.comparator(a,o)<0;)n(a,null),a=i.getNext();a&&a.isEqual(o)&&(n(a,t),a=i.hasNext()?i.getNext():null),a?r.Ut(a.path.toArray()):r.done()})).next((function(){for(;a;)n(a,null),a=i.hasNext()?i.getNext():null}))}},{key:"getAll",value:function(e,t,n){var r=this,i=Ck(),a=t.length+1,o={};if(n.isEqual(fy.min())){var u=t.toArray();o.range=IDBKeyRange.lowerBound(u)}else{var s=t.toArray(),c=yw(n);o.range=IDBKeyRange.lowerBound([s,c],!0),o.index=Db.collectionReadTimeIndex}return __(e).Qt(o,(function(e,n,o){if(e.length===a){var u=r.gn(Py.fromSegments(e),n);t.isPrefixOf(u.key.path)?i=i.insert(u.key,u):o.done()}})).next((function(){return i}))}},{key:"newChangeBuffer",value:function(e){return new b_(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return w_(e).get(Lb.key).next((function(e){return Wm(!!e),e}))}},{key:"mn",value:function(e,t){return w_(e).put(Lb.key,t)}},{key:"gn",value:function(e,t){if(t){var n=vw(this.O,t);if(!n.isNoDocument()||!n.version.isEqual(fy.min()))return n}return Jy.newInvalidDocument(e)}}]),e}(),b_=function(e){Ar(n,e);var t=Dr(n);function n(e,r){var i;return xr(this,n),(i=t.call(this)).Tn=e,i.trackRemovals=r,i.An=new y_((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return Er(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Ik((function(e,t){return uy(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.An.get(a);if(o.isValidDocument()){var s=mw(t.Tn.O,o);i=i.add(a.path.popLast());var c=$w(s);r+=c-u,n.push(t.Tn.addEntry(e,a,s))}else if(r-=u,t.trackRemovals){var l=mw(t.Tn.O,o.convertToNoDocument(fy.min()));n.push(t.Tn.addEntry(e,a,l))}else n.push(t.Tn.removeEntry(e,a))})),i.forEach((function(r){n.push(t.Tn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Tn.updateMetadata(e,r)),$b.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Tn.yn(e,t).next((function(e){return n.An.set(t,e.size),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Tn.In(e,t).next((function(e){var t=e.documents;return e.En.forEach((function(e,t){n.An.set(e,t)})),t}))}}]),n}(g_);function w_(e){return cw(e,Lb.store)}function __(e){return cw(e,Db.store)}function x_(e){return e.path.toArray()}var I_=function(){function e(t){xr(this,e),this.O=t}return Er(e,[{key:"kt",value:function(e,t,n,r){var i=this,a=new Zb("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(Cb.store)}(e),function(e){e.createObjectStore(Ab.store,{keyPath:Ab.keyPath}),e.createObjectStore(Nb.store,{keyPath:Nb.keyPath,autoIncrement:!0}).createIndex(Nb.userMutationsIndex,Nb.userMutationsKeyPath,{unique:!0}),e.createObjectStore(Ob.store)}(e),E_(e),function(e){e.createObjectStore(Db.store)}(e));var o=$b.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Ub.store),e.deleteObjectStore(Mb.store),e.deleteObjectStore(Fb.store)}(e),E_(e)),o=o.next((function(){return function(e){var t=e.store(Fb.store),n=new Fb(0,0,fy.min().toTimestamp(),0);return t.put(Fb.key,n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store(Nb.store).qt().next((function(n){e.deleteObjectStore(Nb.store),e.createObjectStore(Nb.store,{keyPath:Nb.keyPath,autoIncrement:!0}).createIndex(Nb.userMutationsIndex,Nb.userMutationsKeyPath,{unique:!0});var r=t.store(Nb.store),i=n.map((function(e){return r.put(e)}));return $b.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore(Vb.store,{keyPath:Vb.keyPath})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Rn(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore(Lb.store)}(e),i.Pn(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.bn(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.vn(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(Db.store);t.createIndex(Db.readTimeIndex,Db.readTimeIndexPath,{unique:!1}),t.createIndex(Db.collectionReadTimeIndex,Db.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(o=o.next((function(){return i.Vn(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore(zb.store,{keyPath:zb.keyPath})}(e),function(e){e.createObjectStore(qb.store,{keyPath:qb.keyPath})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore(Hb.store,{keyPath:Hb.keyPath});t.createIndex(Hb.collectionPathOverlayIndex,Hb.collectionPathOverlayIndexPath,{unique:!1}),t.createIndex(Hb.collectionGroupOverlayIndex,Hb.collectionGroupOverlayIndexPath,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){!function(e){e.createObjectStore(Bb.store,{keyPath:Bb.keyPath,autoIncrement:!0}).createIndex(Bb.collectionGroupIndex,Bb.collectionGroupIndexPath,{unique:!1}),e.createObjectStore(Kb.store,{keyPath:Kb.keyPath}).createIndex(Kb.sequenceNumberIndex,Kb.sequenceNumberIndexPath,{unique:!1}),e.createObjectStore(Wb.store,{keyPath:Wb.keyPath}).createIndex(Wb.documentKeyIndex,Wb.documentKeyIndexPath,{unique:!1})}(e)}))),o}},{key:"Pn",value:function(e){var t=0;return e.store(Db.store).Qt((function(e,n){t+=$w(n)})).next((function(){var n=new Lb(t);return e.store(Lb.store).put(Lb.key,n)}))}},{key:"Rn",value:function(e){var t=this,n=e.store(Ab.store),r=e.store(Nb.store);return n.qt().next((function(n){return $b.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.qt(Nb.userMutationsIndex,i).next((function(r){return $b.forEach(r,(function(r){Wm(r.userId===n.userId);var i=ww(t.O,r);return Jw(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"bn",value:function(e){var t=e.store(Ub.store),n=e.store(Db.store);return e.store(Fb.store).get(Fb.key).next((function(e){var r=[];return n.Qt((function(n,i){var a=new my(n),o=function(e){return[0,xb(e)]}(a);r.push(t.get(o).next((function(n){return n?$b.resolve():function(n){return t.put(new Ub(0,xb(n),e.highestListenSequenceNumber))}(a)})))})).next((function(){return $b.waitFor(r)}))}))}},{key:"vn",value:function(e,t){e.createObjectStore(jb.store,{keyPath:jb.keyPath});var n=t.store(jb.store),r=new Bw,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:xb(i)})}};return t.store(Db.store).Qt({jt:!0},(function(e,t){var n=new my(e);return i(n.popLast())})).next((function(){return t.store(Ob.store).Qt({jt:!0},(function(e,t){var n=c(e,3),r=(n[0],n[1]),a=(n[2],Tb(r));return i(a.popLast())}))}))}},{key:"Vn",value:function(e){var t=this,n=e.store(Mb.store);return n.Qt((function(e,r){var i=_w(r),a=xw(t.O,i);return n.put(a)}))}}]),e}();function E_(e){e.createObjectStore(Ub.store,{keyPath:Ub.keyPath}).createIndex(Ub.documentTargetsIndex,Ub.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Mb.store,{keyPath:Mb.keyPath}).createIndex(Mb.queryTargetsIndexName,Mb.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Fb.store)}var T_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",S_=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:12;if(xr(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Sn=a,this.window=o,this.document=u,this.Dn=c,this.Cn=l,this.schemaVersion=f,this.Nn=null,this.xn=!1,this.isPrimary=!1,this.networkEnabled=!0,this.kn=null,this.inForeground=!1,this.On=null,this.Mn=null,this.$n=Number.NEGATIVE_INFINITY,this.Fn=function(e){return Promise.resolve()},!e.Vt())throw new Qm(Gm.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new v_(this,i),this.Bn=n+"main",this.O=new pw(s),this.Ln=new ew(this.Bn,this.schemaVersion,new I_(this.O)),this.Un=new a_(this.referenceDelegate,this.O),this.qn=function(e){return new k_(e)}(this.O),this.Kn=new Sw,this.window&&this.window.localStorage?this.Gn=this.window.localStorage:(this.Gn=null,!1===l&&zm("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Er(e,[{key:"start",value:function(){var e=this;return this.jn().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Qm(Gm.FAILED_PRECONDITION,T_);return e.Qn(),e.Wn(),e.zn(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Un.getHighestSequenceNumber(t)}))})).then((function(t){e.Nn=new iy(t,e.Dn)})).then((function(){e.xn=!0})).catch((function(t){return e.Ln&&e.Ln.close(),Promise.reject(t)}))}},{key:"Hn",value:function(e){var t=this;return this.Fn=function(){var n=ee(ne().mark((function n(r){return ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.Ln.Mt(function(){var t=ee(ne().mark((function t(n){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Sn.enqueueAndForget(ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.jn();case 4:case"end":return e.stop()}}),e)})))))}},{key:"jn",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return A_(t).put(new Vb(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Jn(t).next((function(t){t||(e.isPrimary=!1,e.Sn.enqueueRetryable((function(){return e.Fn(!1)})))}))})).next((function(){return e.Yn(t)})).next((function(n){return e.isPrimary&&!n?e.Xn(t).next((function(){return!1})):!!n&&e.Zn(t).next((function(){return!0}))}))})).catch((function(t){if(rw(t))return Vm("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Vm("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Sn.enqueueRetryable((function(){return e.Fn(t)})),e.isPrimary=t}))}},{key:"Jn",value:function(e){var t=this;return C_(e).get(Cb.key).next((function(e){return $b.resolve(t.ts(e))}))}},{key:"es",value:function(e){return A_(e).delete(this.clientId)}},{key:"ns",value:function(){var e=ee(ne().mark((function e(){var t,n,r,i,a=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.ss(this.$n,18e5)){e.next=6;break}return this.$n=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=cw(e,Vb.store);return t.qt().next((function(e){var n=a.rs(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return $b.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.Gn){n=Tr(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.Gn.removeItem(this.os(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"zn",value:function(){var e=this;this.Mn=this.Sn.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.jn().then((function(){return e.ns()})).then((function(){return e.zn()}))}))}},{key:"ts",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"Yn",value:function(e){var t=this;return this.Cn?$b.resolve(!0):C_(e).get(Cb.key).next((function(n){if(null!==n&&t.ss(n.leaseTimestampMs,5e3)&&!t.cs(n.ownerId)){if(t.ts(n)&&t.networkEnabled)return!0;if(!t.ts(n)){if(!n.allowTabSynchronization)throw new Qm(Gm.FAILED_PRECONDITION,T_);return!1}}return!(!t.networkEnabled||!t.inForeground)||A_(e).qt().next((function(e){return void 0===t.rs(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Vm("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=ee(ne().mark((function e(){var t=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.xn=!1,this.us(),this.Mn&&(this.Mn.cancel(),this.Mn=null),this.hs(),this.ls(),e.next=7,this.Ln.runTransaction("shutdown","readwrite",[Cb.store,Vb.store],(function(e){var n=new sw(e,iy.A);return t.Xn(n).next((function(){return t.es(n)}))}));case 7:this.Ln.close(),this.fs();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"rs",value:function(e,t){var n=this;return e.filter((function(e){return n.ss(e.updateTimeMs,t)&&!n.cs(e.clientId)}))}},{key:"ds",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return A_(t).qt().next((function(t){return e.rs(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.xn}},{key:"getMutationQueue",value:function(e,t){return Zw.Jt(e,this.O,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Un}},{key:"getRemoteDocumentCache",value:function(){return this.qn}},{key:"getIndexManager",value:function(e){return new Kw(e)}},{key:"getDocumentOverlayCache",value:function(e){return Nw.Jt(this.O,e)}},{key:"getBundleCache",value:function(){return this.Kn}},{key:"runTransaction",value:function(e,t,n){var r=this;Vm("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=13===(i=this.schemaVersion)?Yb:12===i?Qb:11===i?Gb:void Km();return this.Ln.runTransaction(e,o,u,(function(i){return a=new sw(i,r.Nn?r.Nn.next():iy.A),"readwrite-primary"===t?r.Jn(a).next((function(e){return!!e||r.Yn(a)})).next((function(t){if(!t)throw zm("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Sn.enqueueRetryable((function(){return r.Fn(!1)})),new Qm(Gm.FAILED_PRECONDITION,Xb);return n(a)})).next((function(e){return r.Zn(a).next((function(){return e}))})):r._s(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"_s",value:function(e){var t=this;return C_(e).get(Cb.key).next((function(e){if(null!==e&&t.ss(e.leaseTimestampMs,5e3)&&!t.cs(e.ownerId)&&!t.ts(e)&&!(t.Cn||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Qm(Gm.FAILED_PRECONDITION,T_)}))}},{key:"Zn",value:function(e){var t=new Cb(this.clientId,this.allowTabSynchronization,Date.now());return C_(e).put(Cb.key,t)}},{key:"Xn",value:function(e){var t=this,n=C_(e);return n.get(Cb.key).next((function(e){return t.ts(e)?(Vm("IndexedDbPersistence","Releasing primary lease."),n.delete(Cb.key)):$b.resolve()}))}},{key:"ss",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(zm("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"Qn",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.On=function(){e.Sn.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.jn()}))},this.document.addEventListener("visibilitychange",this.On),this.inForeground="visible"===this.document.visibilityState)}},{key:"hs",value:function(){this.On&&(this.document.removeEventListener("visibilitychange",this.On),this.On=null)}},{key:"Wn",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.kn=function(){t.us(),!Hr()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Sn.enterRestrictedMode(!0),t.Sn.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.kn))}},{key:"ls",value:function(){this.kn&&(this.window.removeEventListener("pagehide",this.kn),this.kn=null)}},{key:"cs",value:function(e){var t;try{var n=null!==(null===(t=this.Gn)||void 0===t?void 0:t.getItem(this.os(e)));return Vm("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return zm("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"us",value:function(){if(this.Gn)try{this.Gn.setItem(this.os(this.clientId),String(Date.now()))}catch(Mh){zm("Failed to set zombie client id.",Mh)}}},{key:"fs",value:function(){if(this.Gn)try{this.Gn.removeItem(this.os(this.clientId))}catch(Mh){}}},{key:"os",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"Vt",value:function(){return ew.Vt()}}]),e}();function C_(e){return cw(e,Cb.store)}function A_(e){return cw(e,Vb.store)}function N_(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var O_=Er((function e(t,n){xr(this,e),this.progress=t,this.ws=n})),R_=function(){function e(t,n,r){xr(this,e),this.qn=t,this.gs=n,this.indexManager=r}return Er(e,[{key:"ys",value:function(e,t){var n=this;return this.gs.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.ps(e,t,r)}))}},{key:"ps",value:function(e,t,n){return this.qn.getEntry(e,t).next((function(e){var t,r=Tr(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"Is",value:function(e,t){e.forEach((function(e,n){var r,i=Tr(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"Es",value:function(e,t){var n=this;return this.qn.getEntries(e,t).next((function(t){return n.Ts(e,t).next((function(){return t}))}))}},{key:"Ts",value:function(e,t){var n=this;return this.gs.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.Is(t,e)}))}},{key:"As",value:function(e,t,n){return function(e){return Py.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Rs(e,t.path):Cg(t)?this.Ps(e,t,n):this.bs(e,t,n)}},{key:"Rs",value:function(e,t){return this.ys(e,new Py(t)).next((function(e){var t=Nk();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Ps",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Nk();return this.indexManager.getCollectionParents(e,i).next((function(o){return $b.forEach(o,(function(o){var u=function(e,t){return new wg(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.bs(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"bs",value:function(e,t,n){var r,i=this;return this.qn.getAll(e,t.path,n).next((function(n){return r=n,i.gs.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=Tr(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=Tr(a.mutations);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=u.key,c=r.get(s);null==c&&(c=Jy.newInvalidDocument(s),r=r.insert(s,c)),ak(u,c,a.localWriteTime),c.isFoundDocument()||(r=r.remove(s))}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){Lg(t,n)||(r=r.remove(e))})),r}))}}]),e}(),P_=function(){function e(t,n,r,i){xr(this,e),this.targetId=t,this.fromCache=n,this.vs=r,this.Vs=i}return Er(e,null,[{key:"Ss",value:function(t,n){var r,i=Pk(),a=Pk(),o=Tr(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),D_=function(){function e(){xr(this,e)}return Er(e,[{key:"Ds",value:function(e){this.Cs=e}},{key:"As",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(fy.min())?this.Ns(e,t):this.Cs.Es(e,r).next((function(a){var o=i.xs(t,a);return(Ig(t)||Eg(t))&&i.ks(t.limitType,o,r,n)?i.Ns(e,t):(jm()<=yi.DEBUG&&Vm("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Dg(t)),i.Cs.As(e,t,n).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"xs",value:function(e,t){var n=new Ik(Mg(e));return t.forEach((function(t,r){Lg(e,r)&&(n=n.add(r))})),n}},{key:"ks",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Ns",value:function(e,t){return jm()<=yi.DEBUG&&Vm("QueryEngine","Using full collection scan to execute query:",Dg(t)),this.Cs.As(e,t,fy.min())}}]),e}(),L_=function(){function e(t,n,r,i){xr(this,e),this.persistence=t,this.Os=n,this.O=i,this.Ms=new wk(uy),this.$s=new y_((function(e){return ig(e)}),ag),this.Fs=fy.min(),this.Bs=t.getRemoteDocumentCache(),this.Un=t.getTargetCache(),this.Kn=t.getBundleCache(),this.Ls(r)}return Er(e,[{key:"Ls",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.gs=this.persistence.getMutationQueue(e,this.indexManager),this.Us=new R_(this.Bs,this.gs,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Os.Ds(this.Us)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ms)}))}}]),e}();function M_(e,t,n,r){return new L_(e,t,n,r)}function U_(e,t){return F_.apply(this,arguments)}function F_(){return F_=ee(ne().mark((function e(t,n){var r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Hm(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.gs.getAllMutationBatches(e).next((function(i){return t=i,r.Ls(n),r.gs.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=Pk(),s=Tr(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=Tr(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=Tr(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=Tr(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.Us.Es(e,u).next((function(e){return{qs:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),F_.apply(this,arguments)}function j_(e,t){var n=Hm(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Bs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=$b.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Wm(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.gs.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.gs.performConsistencyCheck(e)})).next((function(){return n.Us.Es(e,r)}))}))}function V_(e){var t=Hm(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Un.getLastRemoteSnapshotVersion(e)}))}function z_(e,t){var n=Hm(e),r=t.snapshotVersion,i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.Ms;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Un.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Un.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(by.EMPTY_BYTE_STRING,fy.min()).withLastLimboFreeSnapshotVersion(fy.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Un.updateTargetData(e,c))}}));var u=Ck();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(q_(e,a,t.documentUpdates).next((function(e){u=e}))),!r.isEqual(fy.min())){var s=n.Un.getLastRemoteSnapshotVersion(e).next((function(t){return n.Un.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return $b.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.Us.Ts(e,u)})).next((function(){return u}))})).then((function(e){return n.Ms=i,e}))}function q_(e,t,n){var r=Pk();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Ck();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual(fy.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):Vm("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function B_(e,t){var n=Hm(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.gs.getNextMutationBatchAfterBatchId(e,t)}))}function K_(e,t){var n=Hm(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Un.getTargetData(e,t).next((function(i){return i?(r=i,$b.resolve(r)):n.Un.allocateTargetId(e).next((function(i){return r=new dw(t,i,0,e.currentSequenceNumber),n.Un.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.$s.set(t,e.targetId)),e}))}function W_(e,t,n){return H_.apply(this,arguments)}function H_(){return H_=ee(ne().mark((function e(t,n,r){var i,a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Hm(t),a=i.Ms.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),rw(e.t1)){e.next=12;break}throw e.t1;case 12:Vm("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ms=i.Ms.remove(n),i.$s.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),H_.apply(this,arguments)}function G_(e,t,n){var r=Hm(e),i=fy.min(),a=Pk();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Hm(e),i=r.$s.get(n);return void 0!==i?$b.resolve(r.Ms.get(i)):r.Un.getTargetData(t,n)}(r,e,Ng(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Un.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Os.As(e,t,n?i:fy.min(),n?a:Pk())})).next((function(e){return{documents:e,Ks:a}}))}))}function Q_(e,t){var n=Hm(e),r=Hm(n.Un),i=n.Ms.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Tt(e,t).next((function(e){return e?e.target:null}))}))}function Y_(e){var t=Hm(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=Hm(e),i=Ck(),a=yw(n),o=__(t),u=IDBKeyRange.lowerBound(a,!0);return o.Qt({index:Db.readTimeIndex,range:u},(function(e,t){var n=vw(r.O,t);i=i.insert(n.key,n),a=t.readTime})).next((function(){return{ws:i,readTime:gw(a)}}))}(t.Bs,e,t.Fs)})).then((function(e){var n=e.ws,r=e.readTime;return t.Fs=r,n}))}function X_(e){return J_.apply(this,arguments)}function J_(){return J_=ee(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Hm(t),e.abrupt("return",n.persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=__(e),n=fy.min();return t.Qt({index:Db.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=gw(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){n.Fs=e})));case 2:case"end":return e.stop()}}),e)}))),J_.apply(this,arguments)}function $_(e,t,n,r){return Z_.apply(this,arguments)}function Z_(){return Z_=ee(ne().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Hm(t),o=Pk(),u=Ck(),s=Tr(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Gs(l.metadata.name),l.document&&(o=o.add(f)),(h=n.js(l)).setReadTime(n.Qs(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.Bs.newChangeBuffer({trackRemovals:!0}),e.next=7,K_(a,function(e){return Ng(xg(my.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return q_(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Un.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Un.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.Us.Ts(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),Z_.apply(this,arguments)}function ex(e,t){return tx.apply(this,arguments)}function tx(){return tx=ee(ne().mark((function e(t,n){var r,i,a,o=arguments;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Pk(),e.next=3,K_(t,Ng(Iw(n.bundledQuery)));case 3:return i=e.sent,a=Hm(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Jk(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Kn.saveNamedQuery(e,n);var o=i.withResumeToken(by.EMPTY_BYTE_STRING,t);return a.Ms=a.Ms.insert(o.targetId,o),a.Un.updateTargetData(e,o).next((function(){return a.Un.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Un.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Kn.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),tx.apply(this,arguments)}var nx=function(){function e(t){xr(this,e),this.O=t,this.Ws=new Map,this.zs=new Map}return Er(e,[{key:"getBundleMetadata",value:function(e,t){return $b.resolve(this.Ws.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Ws.set(t.id,{id:(n=t).id,version:n.version,createTime:Jk(n.createTime)}),$b.resolve()}},{key:"getNamedQuery",value:function(e,t){return $b.resolve(this.zs.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.zs.set(t.name,function(e){return{name:e.name,query:Iw(e.bundledQuery),readTime:Jk(e.readTime)}}(t)),$b.resolve()}}]),e}(),rx=function(){function e(){xr(this,e),this.overlays=new wk(Py.comparator),this.Hs=new Map}return Er(e,[{key:"getOverlay",value:function(e,t){return $b.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n){r.Yt(e,t,n)})),$b.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Hs.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Hs.delete(n)),$b.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=new Map,i=t.length+1,a=new Py(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return $b.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new wk((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=new Map,i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=new Map,c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(t,e)})),!(s.size>=r)););return $b.resolve(s)}},{key:"Yt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);null!==r&&this.Hs.get(r.largestBatchId).delete(n.key),this.overlays=this.overlays.insert(n.key,new hw(t,n));var i=this.Hs.get(t);void 0===i&&(i=new Set,this.Hs.set(t,i)),i.add(n.key)}}}]),e}(),ix=function(){function e(){xr(this,e),this.Js=new Ik(ax.Ys),this.Xs=new Ik(ax.Zs)}return Er(e,[{key:"isEmpty",value:function(){return this.Js.isEmpty()}},{key:"addReference",value:function(e,t){var n=new ax(e,t);this.Js=this.Js.add(n),this.Xs=this.Xs.add(n)}},{key:"ti",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.ei(new ax(e,t))}},{key:"ni",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"si",value:function(e){var t=this,n=new Py(new my([])),r=new ax(n,e),i=new ax(n,e+1),a=[];return this.Xs.forEachInRange([r,i],(function(e){t.ei(e),a.push(e.key)})),a}},{key:"ii",value:function(){var e=this;this.Js.forEach((function(t){return e.ei(t)}))}},{key:"ei",value:function(e){this.Js=this.Js.delete(e),this.Xs=this.Xs.delete(e)}},{key:"ri",value:function(e){var t=new Py(new my([])),n=new ax(t,e),r=new ax(t,e+1),i=Pk();return this.Xs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new ax(e,0),n=this.Js.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),ax=function(){function e(t,n){xr(this,e),this.key=t,this.oi=n}return Er(e,null,[{key:"Ys",value:function(e,t){return Py.comparator(e.key,t.key)||uy(e.oi,t.oi)}},{key:"Zs",value:function(e,t){return uy(e.oi,t.oi)||Py.comparator(e.key,t.key)}}]),e}(),ox=function(){function e(t,n){xr(this,e),this.indexManager=t,this.referenceDelegate=n,this.gs=[],this.ci=1,this.ui=new Ik(ax.Ys)}return Er(e,[{key:"checkEmpty",value:function(e){return $b.resolve(0===this.gs.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ci;this.ci++,this.gs.length>0&&this.gs[this.gs.length-1];var a=new lw(i,t,n,r);this.gs.push(a);var o,u=Tr(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.ui=this.ui.add(new ax(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return $b.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return $b.resolve(this.ai(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.hi(n),i=r<0?0:r;return $b.resolve(this.gs.length>i?this.gs[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return $b.resolve(0===this.gs.length?-1:this.ci-1)}},{key:"getAllMutationBatches",value:function(e){return $b.resolve(this.gs.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new ax(t,0),i=new ax(t,Number.POSITIVE_INFINITY),a=[];return this.ui.forEachInRange([r,i],(function(e){var t=n.ai(e.oi);a.push(t)})),$b.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Ik(uy);return t.forEach((function(e){var t=new ax(e,0),i=new ax(e,Number.POSITIVE_INFINITY);n.ui.forEachInRange([t,i],(function(e){r=r.add(e.oi)}))})),$b.resolve(this.li(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Py.isDocumentKey(i)||(i=i.child(""));var a=new ax(new Py(i),0),o=new Ik(uy);return this.ui.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.oi)),!0)}),a),$b.resolve(this.li(o))}},{key:"li",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ai(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Wm(0===this.fi(t.batchId,"removed")),this.gs.shift();var r=this.ui;return $b.forEach(t.mutations,(function(i){var a=new ax(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ui=r}))}},{key:"Qe",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new ax(t,0),r=this.ui.firstAfterOrEqual(n);return $b.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.gs.length,$b.resolve()}},{key:"fi",value:function(e,t){return this.hi(e)}},{key:"hi",value:function(e){return 0===this.gs.length?0:e-this.gs[0].batchId}},{key:"ai",value:function(e){var t=this.hi(e);return t<0||t>=this.gs.length?null:this.gs[t]}}]),e}(),ux=function(){function e(t){xr(this,e),this.di=t,this.docs=new wk(Py.comparator),this.size=0}return Er(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.di(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return $b.resolve(n?n.document.mutableCopy():Jy.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Ck();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Jy.newInvalidDocument(e))})),$b.resolve(r)}},{key:"getAll",value:function(e,t,n){for(var r=Ck(),i=new Py(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||s.readTime.compareTo(n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return $b.resolve(r)}},{key:"_i",value:function(e,t){return $b.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new sx(this)}},{key:"getSize",value:function(e){return $b.resolve(this.size)}}]),e}(),sx=function(e){Ar(n,e);var t=Dr(n);function n(e){var r;return xr(this,n),(r=t.call(this)).Tn=e,r}return Er(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Tn.addEntry(e,i)):t.Tn.removeEntry(r)})),$b.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Tn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Tn.getEntries(e,t)}}]),n}(g_),cx=function(){function e(t){xr(this,e),this.persistence=t,this.wi=new y_((function(e){return ig(e)}),ag),this.lastRemoteSnapshotVersion=fy.min(),this.highestTargetId=0,this.mi=0,this.gi=new ix,this.targetCount=0,this.yi=i_.He()}return Er(e,[{key:"forEachTarget",value:function(e,t){return this.wi.forEach((function(e,n){return t(n)})),$b.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return $b.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return $b.resolve(this.mi)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.yi.next(),$b.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.mi&&(this.mi=t),$b.resolve()}},{key:"Ze",value:function(e){this.wi.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.yi=new i_(t),this.highestTargetId=t),e.sequenceNumber>this.mi&&(this.mi=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Ze(t),this.targetCount+=1,$b.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Ze(t),$b.resolve()}},{key:"removeTargetData",value:function(e,t){return this.wi.delete(t.target),this.gi.si(t.targetId),this.targetCount-=1,$b.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.wi.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.wi.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),$b.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return $b.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.wi.get(t)||null;return $b.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.gi.ti(t,n),$b.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.gi.ni(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),$b.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.gi.si(t),$b.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.gi.ri(t);return $b.resolve(n)}},{key:"containsKey",value:function(e,t){return $b.resolve(this.gi.containsKey(t))}}]),e}(),lx=function(){function e(t,n){var r=this;xr(this,e),this.pi={},this.overlays={},this.Nn=new iy(0),this.xn=!1,this.xn=!0,this.referenceDelegate=t(this),this.Un=new cx(this),this.indexManager=new qw,this.qn=new ux((function(e){return r.referenceDelegate.Ii(e)})),this.O=new pw(n),this.Kn=new nx(this.O)}return Er(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.xn=!1,Promise.resolve()}},{key:"started",get:function(){return this.xn}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new rx,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.pi[e.toKey()];return n||(n=new ox(t,this.referenceDelegate),this.pi[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Un}},{key:"getRemoteDocumentCache",value:function(){return this.qn}},{key:"getBundleCache",value:function(){return this.Kn}},{key:"runTransaction",value:function(e,t,n){var r=this;Vm("MemoryPersistence","Starting transaction:",e);var i=new fx(this.Nn.next());return this.referenceDelegate.Ei(),n(i).next((function(e){return r.referenceDelegate.Ti(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ai",value:function(e,t){return $b.or(Object.values(this.pi).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),fx=function(e){Ar(n,e);var t=Dr(n);function n(e){var r;return xr(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Er(n)}(Jb),hx=function(){function e(t){xr(this,e),this.persistence=t,this.Ri=new ix,this.Pi=null}return Er(e,[{key:"vi",get:function(){if(this.Pi)return this.Pi;throw Km()}},{key:"addReference",value:function(e,t,n){return this.Ri.addReference(n,t),this.vi.delete(n.toString()),$b.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Ri.removeReference(n,t),this.vi.add(n.toString()),$b.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.vi.add(t.toString()),$b.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Ri.si(t.targetId).forEach((function(e){return n.vi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ei",value:function(){this.Pi=new Set}},{key:"Ti",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $b.forEach(this.vi,(function(r){var i=Py.fromPath(r);return t.Vi(e,i).next((function(e){e||n.removeEntry(i,fy.min())}))})).next((function(){return t.Pi=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Vi(e,t).next((function(e){e?n.vi.delete(t.toString()):n.vi.add(t.toString())}))}},{key:"Ii",value:function(e){return 0}},{key:"Vi",value:function(e,t){var n=this;return $b.or([function(){return $b.resolve(n.Ri.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ai(e,t)}])}}],[{key:"bi",value:function(t){return new e(t)}}]),e}();function dx(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function px(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function vx(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var mx=function(){function e(t,n,r,i){xr(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Er(e,[{key:"Di",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Si",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Qm(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(zm("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),yx=function(){function e(t,n,r){xr(this,e),this.targetId=t,this.state=n,this.error=r}return Er(e,[{key:"Di",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Si",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Qm(i.error.code,i.error.message))),a?new e(t,i.state,r):(zm("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),gx=function(){function e(t,n){xr(this,e),this.clientId=t,this.activeTargetIds=n}return Er(e,null,[{key:"Si",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Lk(),o=0;i&&o<r.activeTargetIds.length;++o)i=Ry(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(zm("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),kx=function(){function e(t,n){xr(this,e),this.clientId=t,this.onlineState=n}return Er(e,null,[{key:"Si",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(zm("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),bx=function(){function e(){xr(this,e),this.activeTargetIds=Lk()}return Er(e,[{key:"Ci",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ni",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Di",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),wx=function(){function e(t,n,r,i,a){xr(this,e),this.window=t,this.Sn=n,this.persistenceKey=r,this.xi=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ki=this.Oi.bind(this),this.Mi=new wk(uy),this.started=!1,this.$i=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Fi=dx(this.persistenceKey,this.xi),this.Bi=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.Mi=this.Mi.insert(this.xi,new bx),this.Li=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.Ui=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.qi=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Ki=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Gi=function(e){return"firestore_bundle_loaded_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ki)}return Er(e,[{key:"start",value:function(){var e=ee(ne().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.ds();case 2:t=e.sent,n=Tr(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.xi){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(dx(this.persistenceKey,i)))&&(o=gx.Si(i,a))&&(this.Mi=this.Mi.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.ji(),(u=this.storage.getItem(this.Ki))&&(s=this.Qi(u))&&this.Wi(s),c=Tr(this.$i);try{for(c.s();!(l=c.n()).done;)f=l.value,this.Oi(f)}catch(d){c.e(d)}finally{c.f()}this.$i=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Bi,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.zi(this.Mi)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.Mi.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Hi(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Hi(e,t,n),this.Ji(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(vx(this.persistenceKey,e));if(n){var r=yx.Si(e,n);r&&(t=r.state)}}return this.Yi.Ci(e),this.ji(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Yi.Ni(e),this.ji()}},{key:"isLocalQueryTarget",value:function(e){return this.Yi.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(vx(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Xi(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Ji(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Zi(e)}},{key:"notifyBundleLoaded",value:function(){this.tr()}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ki),this.removeItem(this.Fi),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Vm("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Vm("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Vm("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"Oi",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Vm("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Fi)return void zm("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Sn.enqueueRetryable(ee(ne().mark((function e(){var r,i,a,o,u,s;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=41;break}if(null===n.key){e.next=39;break}if(!t.Li.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.er(n.key),e.abrupt("return",t.nr(r,null));case 6:if(!(i=t.sr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.nr(i.clientId,i));case 9:e.next=39;break;case 11:if(!t.Ui.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.ir(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.rr(a));case 16:e.next=39;break;case 18:if(!t.qi.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.cr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.ur(o));case 23:e.next=39;break;case 25:if(n.key!==t.Ki){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.Qi(n.newValue))){e.next=30;break}return e.abrupt("return",t.Wi(u));case 30:e.next=39;break;case 32:if(n.key!==t.Bi){e.next=37;break}s=function(e){var t=iy.A;if(null!=e)try{var n=JSON.parse(e);Wm("number"==typeof n),t=n}catch(e){zm("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==iy.A&&t.sequenceNumberHandler(s),e.next=39;break;case 37:if(n.key!==t.Gi){e.next=39;break}return e.abrupt("return",t.syncEngine.ar());case 39:e.next=42;break;case 41:t.$i.push(n);case 42:case"end":return e.stop()}}),e)}))))}}},{key:"Yi",get:function(){return this.Mi.get(this.xi)}},{key:"ji",value:function(){this.setItem(this.Fi,this.Yi.Di())}},{key:"Hi",value:function(e,t,n){var r=new mx(this.currentUser,e,t,n),i=px(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Di())}},{key:"Ji",value:function(e){var t=px(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Zi",value:function(e){var t={clientId:this.xi,onlineState:e};this.storage.setItem(this.Ki,JSON.stringify(t))}},{key:"Xi",value:function(e,t,n){var r=vx(this.persistenceKey,e),i=new yx(e,t,n);this.setItem(r,i.Di())}},{key:"tr",value:function(){this.setItem(this.Gi,"value-not-used")}},{key:"er",value:function(e){var t=this.Li.exec(e);return t?t[1]:null}},{key:"sr",value:function(e,t){var n=this.er(e);return gx.Si(n,t)}},{key:"ir",value:function(e,t){var n=this.Ui.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return mx.Si(new Mm(i),r,t)}},{key:"cr",value:function(e,t){var n=this.qi.exec(e),r=Number(n[1]);return yx.Si(r,t)}},{key:"Qi",value:function(e){return kx.Si(e)}},{key:"rr",value:function(){var e=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.hr(t.batchId,t.state,t.error));case 2:Vm("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ur",value:function(e){return this.syncEngine.lr(e.targetId,e.state,e.error)}},{key:"nr",value:function(e,t){var n=this,r=t?this.Mi.insert(e,t):this.Mi.remove(e),i=this.zi(this.Mi),a=this.zi(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.dr(o,u).then((function(){n.Mi=r}))}},{key:"Wi",value:function(e){this.Mi.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"zi",value:function(e){var t=Lk();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"Vt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),_x=function(){function e(){xr(this,e),this._r=new bx,this.wr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Er(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this._r.Ci(e),this.wr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.wr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this._r.Ni(e)}},{key:"isLocalQueryTarget",value:function(e){return this._r.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.wr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this._r.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this._r.activeTargetIds.has(e)}},{key:"start",value:function(){return this._r=new bx,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(){}}]),e}(),xx=function(){function e(){xr(this,e)}return Er(e,[{key:"mr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Ix=function(){function e(){var t=this;xr(this,e),this.gr=function(){return t.yr()},this.pr=function(){return t.Ir()},this.Er=[],this.Tr()}return Er(e,[{key:"mr",value:function(e){this.Er.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.gr),window.removeEventListener("offline",this.pr)}},{key:"Tr",value:function(){window.addEventListener("online",this.gr),window.addEventListener("offline",this.pr)}},{key:"yr",value:function(){Vm("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Tr(this.Er);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Ir",value:function(){Vm("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Tr(this.Er);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"Vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Ex={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Tx=function(){function e(t){xr(this,e),this.Ar=t.Ar,this.Rr=t.Rr}return Er(e,[{key:"Pr",value:function(e){this.br=e}},{key:"vr",value:function(e){this.Vr=e}},{key:"onMessage",value:function(e){this.Sr=e}},{key:"close",value:function(){this.Rr()}},{key:"send",value:function(e){this.Ar(e)}},{key:"Dr",value:function(){this.br()}},{key:"Cr",value:function(e){this.Vr(e)}},{key:"Nr",value:function(e){this.Sr(e)}}]),e}(),Sx=function(e){Ar(n,e);var t=Dr(n);function n(e){var r;return xr(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Er(n,[{key:"Br",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Dm;o.listenOnce(Am.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Cm.NO_ERROR:var t=o.getResponseJson();Vm("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Cm.TIMEOUT:Vm("Connection",'RPC "'+e+'" timed out'),a(new Qm(Gm.DEADLINE_EXCEEDED,"Request time out"));break;case Cm.HTTP_ERROR:var n=o.getStatus();if(Vm("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Gm).indexOf(t)>=0?t:Gm.UNKNOWN}(r.status);a(new Qm(u,r.message))}else a(new Qm(Gm.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Qm(Gm.UNAVAILABLE,"Connection failed."));break;default:Km()}}finally{Vm("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"Ur",value:function(e,t,n){var r=[this.kr,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Tm(),a=Sm(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Rm({})),this.Fr(o.initMessageHeaders,t,n),Wr()||Qr()||Kr().indexOf("Electron/")>=0||Yr()||Kr().indexOf("MSAppHost/")>=0||Gr()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");Vm("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new Tx({Ar:function(e){l?Vm("Connection","Not sending because WebChannel is closed:",e):(c||(Vm("Connection","Opening WebChannel transport."),s.open(),c=!0),Vm("Connection","WebChannel sending:",e),s.send(e))},Rr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,Pm.EventType.OPEN,(function(){l||Vm("Connection","WebChannel transport opened.")})),h(s,Pm.EventType.CLOSE,(function(){l||(l=!0,Vm("Connection","WebChannel transport closed"),f.Cr())})),h(s,Pm.EventType.ERROR,(function(e){l||(l=!0,qm("Connection","WebChannel transport errored:",e),f.Cr(new Qm(Gm.UNAVAILABLE,"The operation could not be completed")))})),h(s,Pm.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Wm(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Vm("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=pk[e];if(void 0!==t)return bk(t)}(a),u=i.message;void 0===o&&(o=Gm.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.Cr(new Qm(o,u)),s.close()}else Vm("Connection","WebChannel received:",n),f.Nr(n)}})),h(a,Nm.STAT_EVENT,(function(e){e.stat===Om.PROXY?Vm("Connection","Detected buffering proxy"):e.stat===Om.NOPROXY&&Vm("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Dr()}),0),f}}]),n}(function(){function e(t){xr(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.kr=n+"://"+t.host,this.Or="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Er(e,[{key:"Mr",value:function(e,t,n,r,i){var a=this.$r(e,t);Vm("RestConnection","Sending: ",a,n);var o={};return this.Fr(o,r,i),this.Br(e,a,o,n).then((function(e){return Vm("RestConnection","Received: ",e),e}),(function(t){throw qm("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"Lr",value:function(e,t,n,r,i){return this.Mr(e,t,n,r,i)}},{key:"Fr",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Um,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"$r",value:function(e,t){var n=Ex[e];return"".concat(this.kr,"/v1/").concat(t,":").concat(n)}}]),e}());function Cx(){return"undefined"!=typeof window?window:null}function Ax(){return"undefined"!=typeof document?document:null}function Nx(e){return new Gk(e,!0)}var Ox=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;xr(this,e),this.Sn=t,this.timerId=n,this.qr=r,this.Kr=i,this.Gr=a,this.jr=0,this.Qr=null,this.Wr=Date.now(),this.reset()}return Er(e,[{key:"reset",value:function(){this.jr=0}},{key:"zr",value:function(){this.jr=this.Gr}},{key:"Hr",value:function(e){var t=this;this.cancel();var n=Math.floor(this.jr+this.Jr()),r=Math.max(0,Date.now()-this.Wr),i=Math.max(0,n-r);i>0&&Vm("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.jr," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Qr=this.Sn.enqueueAfterDelay(this.timerId,i,(function(){return t.Wr=Date.now(),e()})),this.jr*=this.Kr,this.jr<this.qr&&(this.jr=this.qr),this.jr>this.Gr&&(this.jr=this.Gr)}},{key:"Yr",value:function(){null!==this.Qr&&(this.Qr.skipDelay(),this.Qr=null)}},{key:"cancel",value:function(){null!==this.Qr&&(this.Qr.cancel(),this.Qr=null)}},{key:"Jr",value:function(){return(Math.random()-.5)*this.jr}}]),e}(),Rx=function(){function e(t,n,r,i,a,o,u,s){xr(this,e),this.Sn=t,this.Xr=r,this.Zr=i,this.eo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.no=0,this.so=null,this.io=null,this.stream=null,this.ro=new Ox(t,n)}return Er(e,[{key:"oo",value:function(){return 1===this.state||5===this.state||this.co()}},{key:"co",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.uo()}},{key:"stop",value:function(){var e=ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.oo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ao",value:function(){this.state=0,this.ro.reset()}},{key:"ho",value:function(){var e=this;this.co()&&null===this.so&&(this.so=this.Sn.enqueueAfterDelay(this.Xr,6e4,(function(){return e.lo()})))}},{key:"fo",value:function(e){this._o(),this.stream.send(e)}},{key:"lo",value:function(){var e=ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.co()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_o",value:function(){this.so&&(this.so.cancel(),this.so=null)}},{key:"wo",value:function(){this.io&&(this.io.cancel(),this.io=null)}},{key:"close",value:function(){var e=ee(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._o(),this.wo(),this.ro.cancel(),this.no++,4!==t?this.ro.reset():n&&n.code===Gm.RESOURCE_EXHAUSTED?(zm(n.toString()),zm("Using maximum backoff delay to prevent overloading the backend."),this.ro.zr()):n&&n.code===Gm.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.mo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.vr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"mo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.yo(this.no),n=this.no;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=c(t,2),i=r[0],a=r[1];e.no===n&&e.po(i,a)}),(function(n){t((function(){var t=new Qm(Gm.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Io(t)}))}))}},{key:"po",value:function(e,t){var n=this,r=this.yo(this.no);this.stream=this.Eo(e,t),this.stream.Pr((function(){r((function(){return n.state=2,n.io=n.Sn.enqueueAfterDelay(n.Zr,1e4,(function(){return n.co()&&(n.state=3),Promise.resolve()})),n.listener.Pr()}))})),this.stream.vr((function(e){r((function(){return n.Io(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"uo",value:function(){var e=this;this.state=5,this.ro.Hr(ee(ne().mark((function t(){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Io",value:function(e){return Vm("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"yo",value:function(e){var t=this;return function(n){t.Sn.enqueueAndForget((function(){return t.no===e?n():(Vm("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Px=function(e){Ar(n,e);var t=Dr(n);function n(e,r,i,a,o,u){var s;return xr(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).O=o,s}return Er(n,[{key:"Eo",value:function(e,t){return this.eo.Ur("Listen",e,t)}},{key:"onMessage",value:function(e){this.ro.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Km()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(Wm(void 0===t||"string"==typeof t),by.fromBase64String(t||"")):(Wm(void 0===t||t instanceof Uint8Array),by.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Gm.UNKNOWN:bk(e.code);return new Qm(t,e.message||"")}(o);n=new Vk(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=tb(e,s.document.name),l=Jk(s.document.updateTime),f=new Yy({mapValue:{fields:s.document.fields}}),h=Jy.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new Fk(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=tb(e,v.document),y=v.readTime?Jk(v.readTime):fy.min(),g=Jy.newNoDocument(m,y),k=v.removedTargetIds||[];n=new Fk([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=tb(e,b.document),_=b.removedTargetIds||[];n=new Fk([],_,w,null)}else{if(!("filter"in t))return Km();t.filter;var x=t.filter;x.targetId;var I=x.count||0,E=new gk(I),T=x.targetId;n=new jk(T,E)}return n}(this.O,e),n=function(e){if(!("targetChange"in e))return fy.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?fy.min():t.readTime?Jk(t.readTime):fy.min()}(e);return this.listener.To(t,n)}},{key:"Ao",value:function(e){var t={};t.database=ib(this.O),t.addTarget=function(e,t){var n,r=t.target;return(n=og(r)?{documents:fb(e,r)}:{query:hb(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Yk(e,t.resumeToken):t.snapshotVersion.compareTo(fy.min())>0&&(n.readTime=Qk(e,t.snapshotVersion.toTimestamp())),n}(this.O,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Km()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.O,e);n&&(t.labels=n),this.fo(t)}},{key:"Ro",value:function(e){var t={};t.database=ib(this.O),t.removeTarget=e,this.fo(t)}}]),n}(Rx),Dx=function(e){Ar(n,e);var t=Dr(n);function n(e,r,i,a,o,u){var s;return xr(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).O=o,s.Po=!1,s}return Er(n,[{key:"bo",get:function(){return this.Po}},{key:"start",value:function(){this.Po=!1,this.lastStreamToken=void 0,ca(Nr(n.prototype),"start",this).call(this)}},{key:"mo",value:function(){this.Po&&this.vo([])}},{key:"Eo",value:function(e,t){return this.eo.Ur("Write",e,t)}},{key:"onMessage",value:function(e){if(Wm(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Po){this.ro.reset();var t=function(e,t){return e&&e.length>0?(Wm(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Jk(e.updateTime):Jk(t);return n.isEqual(fy.min())&&(n=Jk(t)),new ek(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Jk(e.commitTime);return this.listener.Vo(n,t)}return Wm(!e.writeResults||0===e.writeResults.length),this.Po=!0,this.listener.So()}},{key:"Do",value:function(){var e={};e.database=ib(this.O),this.fo(e)}},{key:"vo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return cb(t.O,e)}))};this.fo(n)}}]),n}(Rx),Lx=function(e){Ar(n,e);var t=Dr(n);function n(e,r,i,a){var o;return xr(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.eo=i,o.O=a,o.Co=!1,o}return Er(n,[{key:"No",value:function(){if(this.Co)throw new Qm(Gm.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Mr",value:function(e,t,n){var r=this;return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],u=a[1];return r.eo.Mr(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Gm.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Qm(Gm.UNKNOWN,e.toString())}))}},{key:"Lr",value:function(e,t,n){var r=this;return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],u=a[1];return r.eo.Lr(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Gm.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Qm(Gm.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Co=!0}}]),n}(function(){return Er((function e(){xr(this,e)}))}()),Mx=function(){function e(t,n){xr(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.xo=0,this.ko=null,this.Oo=!0}return Er(e,[{key:"Mo",value:function(){var e=this;0===this.xo&&(this.$o("Unknown"),this.ko=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ko=null,e.Fo("Backend didn't respond within 10 seconds."),e.$o("Offline"),Promise.resolve()})))}},{key:"Bo",value:function(e){"Online"===this.state?this.$o("Unknown"):(this.xo++,this.xo>=1&&(this.Lo(),this.Fo("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.$o("Offline")))}},{key:"set",value:function(e){this.Lo(),this.xo=0,"Online"===e&&(this.Oo=!1),this.$o(e)}},{key:"$o",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"Fo",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.Oo?(zm(t),this.Oo=!1):Vm("OnlineStateTracker",t)}},{key:"Lo",value:function(){null!==this.ko&&(this.ko.cancel(),this.ko=null)}}]),e}(),Ux=Er((function e(t,n,r,i,a){var o=this;xr(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Uo=[],this.qo=new Map,this.Ko=new Set,this.Go=[],this.jo=a,this.jo.mr((function(e){r.enqueueAndForget(ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Qx(o),!e.t0){e.next=5;break}return Vm("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=ee(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Hm(t)).Ko.add(4),e.next=4,Vx(n);case 4:return n.Qo.set("Unknown"),n.Ko.delete(4),e.next=8,Fx(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.Qo=new Mx(r,i)}));function Fx(e){return jx.apply(this,arguments)}function jx(){return jx=ee(ne().mark((function e(t){var n,r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Qx(t)){e.next=18;break}n=Tr(t.Go),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),jx.apply(this,arguments)}function Vx(e){return zx.apply(this,arguments)}function zx(){return zx=ee(ne().mark((function e(t){var n,r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Tr(t.Go),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),zx.apply(this,arguments)}function qx(e,t){var n=Hm(e);n.qo.has(t.targetId)||(n.qo.set(t.targetId,t),Gx(n)?Hx(n):xI(n).co()&&Kx(n,t))}function Bx(e,t){var n=Hm(e),r=xI(n);n.qo.delete(t),r.co()&&Wx(n,t),0===n.qo.size&&(r.co()?r.ho():Qx(n)&&n.Qo.set("Unknown"))}function Kx(e,t){e.Wo.Z(t.targetId),xI(e).Ao(t)}function Wx(e,t){e.Wo.Z(t),xI(e).Ro(t)}function Hx(e){e.Wo=new qk({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Tt:function(t){return e.qo.get(t)||null}}),xI(e).start(),e.Qo.Mo()}function Gx(e){return Qx(e)&&!xI(e).oo()&&e.qo.size>0}function Qx(e){return 0===Hm(e).Ko.size}function Yx(e){e.Wo=void 0}function Xx(e){return Jx.apply(this,arguments)}function Jx(){return Jx=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.qo.forEach((function(e,n){Kx(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Jx.apply(this,arguments)}function $x(e,t){return Zx.apply(this,arguments)}function Zx(){return Zx=ee(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Yx(t),Gx(t)?(t.Qo.Bo(n),Hx(t)):t.Qo.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Zx.apply(this,arguments)}function eI(e,t,n){return tI.apply(this,arguments)}function tI(){return tI=ee(ne().mark((function e(t,n,r){var i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Qo.set("Online"),!(n instanceof Vk&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=ee(ne().mark((function e(t,n){var r,i,a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Tr(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.qo.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.qo.delete(o),t.Wo.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Vm("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,nI(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Fk?t.Wo.ct(n):n instanceof jk?t.Wo._t(n):t.Wo.ht(n),r.isEqual(fy.min())){e.next=29;break}return e.prev=14,e.next=17,V_(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Wo.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.qo.get(r);i&&e.qo.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.qo.get(t);if(n){e.qo.set(t,n.withResumeToken(by.EMPTY_BYTE_STRING,n.snapshotVersion)),Wx(e,t);var r=new dw(n.target,t,1,n.sequenceNumber);Kx(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Vm("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,nI(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),tI.apply(this,arguments)}function nI(e,t,n){return rI.apply(this,arguments)}function rI(){return rI=ee(ne().mark((function e(t,n,r){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(rw(n)){e.next=2;break}throw n;case 2:return t.Ko.add(1),e.next=5,Vx(t);case 5:t.Qo.set("Offline"),r||(r=function(){return V_(t.localStore)}),t.asyncQueue.enqueueRetryable(ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Vm("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Ko.delete(1),e.next=6,Fx(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),rI.apply(this,arguments)}function iI(e,t){return t().catch((function(n){return nI(e,n,t)}))}function aI(e){return oI.apply(this,arguments)}function oI(){return oI=ee(ne().mark((function e(t){var n,r,i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Hm(t),r=II(n),i=n.Uo.length>0?n.Uo[n.Uo.length-1].batchId:-1;case 2:if(!uI(n)){e.next=19;break}return e.prev=3,e.next=6,B_(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Uo.length&&r.ho(),e.abrupt("break",19);case 10:i=a.batchId,sI(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,nI(n,e.t0);case 17:e.next=2;break;case 19:cI(n)&&lI(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),oI.apply(this,arguments)}function uI(e){return Qx(e)&&e.Uo.length<10}function sI(e,t){e.Uo.push(t);var n=II(e);n.co()&&n.bo&&n.vo(t.mutations)}function cI(e){return Qx(e)&&!II(e).oo()&&e.Uo.length>0}function lI(e){II(e).start()}function fI(e){return hI.apply(this,arguments)}function hI(){return hI=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:II(t).Do();case 1:case"end":return e.stop()}}),e)}))),hI.apply(this,arguments)}function dI(e){return pI.apply(this,arguments)}function pI(){return pI=ee(ne().mark((function e(t){var n,r,i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=II(t),r=Tr(t.Uo);try{for(r.s();!(i=r.n()).done;)a=i.value,n.vo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),pI.apply(this,arguments)}function vI(e,t,n){return mI.apply(this,arguments)}function mI(){return mI=ee(ne().mark((function e(t,n,r){var i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Uo.shift(),a=fw.from(i,n,r),e.next=3,iI(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,aI(t);case 5:case"end":return e.stop()}}),e)}))),mI.apply(this,arguments)}function yI(e,t){return gI.apply(this,arguments)}function gI(){return gI=ee(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&II(t).bo,!e.t0){e.next=4;break}return e.next=4,function(){var e=ee(ne().mark((function e(t,n){var r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!kk(i=n.code)||i===Gm.ABORTED){e.next=7;break}return r=t.Uo.shift(),II(t).ao(),e.next=5,iI(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,aI(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:cI(t)&&lI(t);case 5:case"end":return e.stop()}}),e)}))),gI.apply(this,arguments)}function kI(e,t){return bI.apply(this,arguments)}function bI(){return bI=ee(ne().mark((function e(t,n){var r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Hm(t)).asyncQueue.verifyOperationInProgress(),Vm("RemoteStore","RemoteStore received new credentials"),i=Qx(r),r.Ko.add(3),e.next=6,Vx(r);case 6:return i&&r.Qo.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Ko.delete(3),e.next=12,Fx(r);case 12:case"end":return e.stop()}}),e)}))),bI.apply(this,arguments)}function wI(e,t){return _I.apply(this,arguments)}function _I(){return _I=ee(ne().mark((function e(t,n){var r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Hm(t),!n){e.next=7;break}return r.Ko.delete(2),e.next=5,Fx(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.Ko.add(2),e.next=12,Vx(r);case 12:r.Qo.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),_I.apply(this,arguments)}function xI(e){return e.zo||(e.zo=function(e,t,n){var r=Hm(e);return r.No(),new Px(t,r.eo,r.authCredentials,r.appCheckCredentials,r.O,n)}(e.datastore,e.asyncQueue,{Pr:Xx.bind(null,e),vr:$x.bind(null,e),To:eI.bind(null,e)}),e.Go.push(function(){var t=ee(ne().mark((function t(n){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.zo.ao(),Gx(e)?Hx(e):e.Qo.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.zo.stop();case 6:Yx(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.zo}function II(e){return e.Ho||(e.Ho=function(e,t,n){var r=Hm(e);return r.No(),new Dx(t,r.eo,r.authCredentials,r.appCheckCredentials,r.O,n)}(e.datastore,e.asyncQueue,{Pr:fI.bind(null,e),vr:yI.bind(null,e),So:dI.bind(null,e),Vo:vI.bind(null,e)}),e.Go.push(function(){var t=ee(ne().mark((function t(n){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Ho.ao(),t.next=4,aI(e);case 4:t.next=9;break;case 6:return t.next=8,e.Ho.stop();case 8:e.Uo.length>0&&(Vm("RemoteStore","Stopping write stream with ".concat(e.Uo.length," pending writes")),e.Uo=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Ho}var EI=function(){function e(t,n,r,i,a){xr(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Ym,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Er(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Qm(Gm.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function TI(e,t){if(zm("AsyncQueue","".concat(t,": ").concat(e)),rw(e))return new Qm(Gm.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var SI=function(){function e(t){xr(this,e),this.comparator=t?function(e,n){return t(e,n)||Py.comparator(e.key,n.key)}:function(e,t){return Py.comparator(e.key,t.key)},this.keyedMap=Nk(),this.sortedSet=new wk(this.comparator)}return Er(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),CI=function(){function e(){xr(this,e),this.Jo=new wk(Py.comparator)}return Er(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Jo.get(t);n?0!==e.type&&3===n.type?this.Jo=this.Jo.insert(t,e):3===e.type&&1!==n.type?this.Jo=this.Jo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Jo=this.Jo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Jo=this.Jo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Jo=this.Jo.remove(t):1===e.type&&2===n.type?this.Jo=this.Jo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Jo=this.Jo.insert(t,{type:2,doc:e.doc}):Km():this.Jo=this.Jo.insert(t,e)}},{key:"Yo",value:function(){var e=[];return this.Jo.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),AI=function(){function e(t,n,r,i,a,o,u,s){xr(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return Er(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,SI.emptySet(n),a,r,i,!0,!1)}}]),e}(),NI=Er((function e(){xr(this,e),this.Xo=void 0,this.listeners=[]})),OI=Er((function e(){xr(this,e),this.queries=new y_((function(e){return Pg(e)}),Rg),this.onlineState="Unknown",this.Zo=new Set}));function RI(e,t){return PI.apply(this,arguments)}function PI(){return PI=ee(ne().mark((function e(t,n){var r,i,a,o,u;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Hm(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new NI),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Xo=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=TI(e.t0,"Initialization of query '".concat(Dg(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.tc(r.onlineState),o.Xo&&n.ec(o.Xo)&&FI(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),PI.apply(this,arguments)}function DI(e,t){return LI.apply(this,arguments)}function LI(){return LI=ee(ne().mark((function e(t,n){var r,i,a,o,u;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Hm(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),LI.apply(this,arguments)}function MI(e,t){var n,r=Hm(e),i=!1,a=Tr(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=Tr(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.ec(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Xo=o}}}catch(f){a.e(f)}finally{a.f()}i&&FI(r)}function UI(e,t,n){var r=Hm(e),i=r.queries.get(t);if(i){var a,o=Tr(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function FI(e){e.Zo.forEach((function(e){e.next()}))}var jI=function(){function e(t,n,r){xr(this,e),this.query=t,this.nc=n,this.sc=!1,this.ic=null,this.onlineState="Unknown",this.options=r||{}}return Er(e,[{key:"ec",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Tr(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new AI(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.sc?this.rc(e)&&(this.nc.next(e),a=!0):this.oc(e,this.onlineState)&&(this.cc(e),a=!0),this.ic=e,a}},{key:"onError",value:function(e){this.nc.error(e)}},{key:"tc",value:function(e){this.onlineState=e;var t=!1;return this.ic&&!this.sc&&this.oc(this.ic,e)&&(this.cc(this.ic),t=!0),t}},{key:"oc",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.uc||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"rc",value:function(e){if(e.docChanges.length>0)return!0;var t=this.ic&&this.ic.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"cc",value:function(e){e=AI.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.sc=!0,this.nc.next(e)}}]),e}(),VI=function(){function e(t,n){xr(this,e),this.payload=t,this.byteLength=n}return Er(e,[{key:"ac",value:function(){return"metadata"in this.payload}}]),e}(),zI=function(){function e(t){xr(this,e),this.O=t}return Er(e,[{key:"Gs",value:function(e){return tb(this.O,e)}},{key:"js",value:function(e){return e.metadata.exists?ub(this.O,e.document,!1):Jy.newNoDocument(this.Gs(e.metadata.name),this.Qs(e.metadata.readTime))}},{key:"Qs",value:function(e){return Jk(e)}}]),e}(),qI=function(){function e(t,n,r){xr(this,e),this.hc=t,this.localStore=n,this.O=r,this.queries=[],this.documents=[],this.progress=BI(t)}return Er(e,[{key:"lc",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"fc",value:function(e){var t,n=new Map,r=new zI(this.O),i=Tr(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Gs(a.metadata.name),s=Tr(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||Pk()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=ee(ne().mark((function e(){var t,n,r,i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$_(this.localStore,new zI(this.O),this.documents,this.hc.id);case 2:t=e.sent,n=this.fc(this.documents),r=Tr(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,ex(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",new O_(Object.assign({},this.progress),t)));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function BI(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var KI=Er((function e(t){xr(this,e),this.key=t})),WI=Er((function e(t){xr(this,e),this.key=t})),HI=function(){function e(t,n){xr(this,e),this.query=t,this.dc=n,this._c=null,this.current=!1,this.wc=Pk(),this.mutatedKeys=Pk(),this.mc=Mg(t),this.gc=new SI(this.mc)}return Er(e,[{key:"yc",get:function(){return this.dc}},{key:"Ic",value:function(e,t){var n=this,r=t?t.Ec:new CI,i=t?t.gc:this.gc,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s=Ig(this.query)&&i.size===this.query.limit?i.last():null,c=Eg(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Lg(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Tc(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.mc(f,s)>0||c&&n.mc(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),Ig(this.query)||Eg(this.query))for(;o.size>this.query.limit;){var l=Ig(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{gc:o,Ec:r,ks:u,mutatedKeys:a}}},{key:"Tc",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.gc;this.gc=e.gc,this.mutatedKeys=e.mutatedKeys;var a=e.Ec.Yo();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Km()}};return n(e)-n(t)}(e.type,t.type)||r.mc(e.doc,t.doc)})),this.Ac(n);var o=t?this.Rc():[],u=0===this.wc.size&&this.current?1:0,s=u!==this._c;return this._c=u,0!==a.length||s?{snapshot:new AI(this.query,e.gc,i,a,e.mutatedKeys,0===u,s,!1),Pc:o}:{Pc:o}}},{key:"tc",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({gc:this.gc,Ec:new CI,mutatedKeys:this.mutatedKeys,ks:!1},!1)):{Pc:[]}}},{key:"bc",value:function(e){return!this.dc.has(e)&&!!this.gc.has(e)&&!this.gc.get(e).hasLocalMutations}},{key:"Ac",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.dc=t.dc.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.dc=t.dc.delete(e)})),this.current=e.current)}},{key:"Rc",value:function(){var e=this;if(!this.current)return[];var t=this.wc;this.wc=Pk(),this.gc.forEach((function(t){e.bc(t.key)&&(e.wc=e.wc.add(t.key))}));var n=[];return t.forEach((function(t){e.wc.has(t)||n.push(new WI(t))})),this.wc.forEach((function(e){t.has(e)||n.push(new KI(e))})),n}},{key:"vc",value:function(e){this.dc=e.Ks,this.wc=Pk();var t=this.Ic(e.documents);return this.applyChanges(t,!0)}},{key:"Vc",value:function(){return AI.fromInitialDocuments(this.query,this.gc,this.mutatedKeys,0===this._c)}}]),e}(),GI=Er((function e(t,n,r){xr(this,e),this.query=t,this.targetId=n,this.view=r})),QI=Er((function e(t){xr(this,e),this.key=t,this.Sc=!1})),YI=function(){function e(t,n,r,i,a,o){xr(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Dc={},this.Cc=new y_((function(e){return Pg(e)}),Rg),this.Nc=new Map,this.xc=new Set,this.kc=new wk(Py.comparator),this.Oc=new Map,this.Mc=new ix,this.$c={},this.Fc=new Map,this.Bc=i_.Je(),this.onlineState="Unknown",this.Lc=void 0}return Er(e,[{key:"isPrimaryClient",get:function(){return!0===this.Lc}}]),e}();function XI(e,t){return JI.apply(this,arguments)}function JI(){return JI=ee(ne().mark((function e(t,n){var r,i,a,o,u,s;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=BE(t),!(o=r.Cc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Vc(),e.next=15;break;case 6:return e.next=8,K_(r.localStore,Ng(n));case 8:return u=e.sent,r.isPrimaryClient&&qx(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,$I(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),JI.apply(this,arguments)}function $I(e,t,n,r){return ZI.apply(this,arguments)}function ZI(){return ZI=ee(ne().mark((function e(t,n,r,i){var a,o,u,s,c,l;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Uc=function(e,n,r){return function(){var e=ee(ne().mark((function e(t,n,r,i){var a,o,u;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Ic(r),e.t0=a.ks,!e.t0){e.next=6;break}return e.next=5,G_(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Ic(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(kE(t,n.targetId,u.Pc),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,G_(t.localStore,n,!0);case 3:return a=e.sent,o=new HI(n,a.Ks),u=o.Ic(a.documents),s=Uk.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),kE(t,r,c.Pc),l=new GI(n,r,o),e.abrupt("return",(t.Cc.set(n,l),t.Nc.has(r)?t.Nc.get(r).push(n):t.Nc.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),ZI.apply(this,arguments)}function eE(e,t){return tE.apply(this,arguments)}function tE(){return tE=ee(ne().mark((function e(t,n){var r,i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Hm(t),i=r.Cc.get(n),!((a=r.Nc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Nc.set(i.targetId,a.filter((function(e){return!Rg(e,n)}))),void r.Cc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,W_(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Bx(r.remoteStore,i.targetId),yE(r,i.targetId)})).catch(c_);case 9:e.next=14;break;case 11:return yE(r,i.targetId),e.next=14,W_(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),tE.apply(this,arguments)}function nE(e,t,n){return rE.apply(this,arguments)}function rE(){return rE=ee(ne().mark((function e(t,n,r){var i,a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=KE(t),e.prev=1,e.next=4,function(e,t){var n,r=Hm(e),i=ly.now(),a=t.reduce((function(e,t){return e.add(t.key)}),Pk());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Us.Es(e,a).next((function(a){n=a;var o,u=[],s=Tr(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=ok(c,n.get(c.key));null!=l&&u.push(new lk(c.key,l,Xy(l.value.mapValue),tk.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return r.gs.addMutationBatch(e,i,u,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.$c[e.currentUser.toKey()];r||(r=new wk(uy)),r=r.insert(t,n),e.$c[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,_E(i,a.changes);case 9:return e.next=11,aI(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=TI(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),rE.apply(this,arguments)}function iE(e,t){return aE.apply(this,arguments)}function aE(){return aE=ee(ne().mark((function e(t,n){var r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Hm(t),e.prev=1,e.next=4,z_(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Oc.get(t);n&&(Wm(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Sc=!0:e.modifiedDocuments.size>0?Wm(n.Sc):e.removedDocuments.size>0&&(Wm(n.Sc),n.Sc=!1))})),e.next=8,_E(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,c_(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),aE.apply(this,arguments)}function oE(e,t,n){var r=Hm(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Cc.forEach((function(e,n){var r=n.view.tc(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Hm(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Tr(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.tc(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&FI(n)}(r.eventManager,t),i.length&&r.Dc.To(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function uE(e,t,n){return sE.apply(this,arguments)}function sE(){return sE=ee(ne().mark((function e(t,n,r){var i,a,o,u,s,c;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Hm(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Oc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new wk(Py.comparator)).insert(o,Jy.newNoDocument(o,fy.min())),s=Pk().add(o),c=new Mk(fy.min(),new Map,new Ik(uy),u,s),e.next=9,iE(i,c);case 9:i.kc=i.kc.remove(o),i.Oc.delete(n),wE(i),e.next=16;break;case 14:return e.next=16,W_(i.localStore,n,!1).then((function(){return yE(i,n,r)})).catch(c_);case 16:case"end":return e.stop()}}),e)}))),sE.apply(this,arguments)}function cE(e,t){return lE.apply(this,arguments)}function lE(){return lE=ee(ne().mark((function e(t,n){var r,i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Hm(t),i=n.batch.batchId,e.prev=1,e.next=4,j_(r.localStore,n);case 4:return a=e.sent,mE(r,i,null),vE(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,_E(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,c_(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),lE.apply(this,arguments)}function fE(e,t,n){return hE.apply(this,arguments)}function hE(){return hE=ee(ne().mark((function e(t,n,r){var i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Hm(t),e.prev=1,e.next=4,function(e,t){var n=Hm(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.gs.lookupMutationBatch(e,t).next((function(t){return Wm(null!==t),r=t.keys(),n.gs.removeMutationBatch(e,t)})).next((function(){return n.gs.performConsistencyCheck(e)})).next((function(){return n.Us.Es(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,mE(i,n,r),vE(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,_E(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,c_(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),hE.apply(this,arguments)}function dE(e,t){return pE.apply(this,arguments)}function pE(){return pE=ee(ne().mark((function e(t,n){var r,i,a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qx((r=Hm(t)).remoteStore)||Vm("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Hm(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.gs.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.Fc.get(i)||[]).push(n),r.Fc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=TI(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),pE.apply(this,arguments)}function vE(e,t){(e.Fc.get(t)||[]).forEach((function(e){e.resolve()})),e.Fc.delete(t)}function mE(e,t,n){var r=Hm(e),i=r.$c[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.$c[r.currentUser.toKey()]=i}}function yE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Tr(e.Nc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Cc.delete(a),n&&e.Dc.qc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Nc.delete(t),e.isPrimaryClient&&e.Mc.si(t).forEach((function(t){e.Mc.containsKey(t)||gE(e,t)}))}function gE(e,t){e.xc.delete(t.path.canonicalString());var n=e.kc.get(t);null!==n&&(Bx(e.remoteStore,n),e.kc=e.kc.remove(t),e.Oc.delete(n),wE(e))}function kE(e,t,n){var r,i=Tr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof KI?(e.Mc.addReference(a.key,t),bE(e,a)):a instanceof WI?(Vm("SyncEngine","Document no longer in limbo: "+a.key),e.Mc.removeReference(a.key,t),e.Mc.containsKey(a.key)||gE(e,a.key)):Km()}}catch(o){i.e(o)}finally{i.f()}}function bE(e,t){var n=t.key,r=n.path.canonicalString();e.kc.get(n)||e.xc.has(r)||(Vm("SyncEngine","New document in limbo: "+n),e.xc.add(r),wE(e))}function wE(e){for(;e.xc.size>0&&e.kc.size<e.maxConcurrentLimboResolutions;){var t=e.xc.values().next().value;e.xc.delete(t);var n=new Py(my.fromString(t)),r=e.Bc.next();e.Oc.set(r,new QI(n)),e.kc=e.kc.insert(n,r),qx(e.remoteStore,new dw(Ng(xg(n.path)),r,2,iy.A))}}function _E(e,t,n){return xE.apply(this,arguments)}function xE(){return xE=ee(ne().mark((function e(t,n,r){var i,a,o,u;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Hm(t),a=[],o=[],u=[],e.t0=i.Cc.isEmpty(),e.t0){e.next=9;break}return i.Cc.forEach((function(e,t){u.push(i.Uc(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=P_.Ss(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Dc.To(a),e.next=9,function(){var e=ee(ne().mark((function e(t,n){var r,i,a,o,u,s,c,l;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Hm(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return $b.forEach(n,(function(t){return $b.forEach(t.vs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return $b.forEach(t.Vs,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),rw(e.t0)){e.next=10;break}throw e.t0;case 10:Vm("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Tr(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.Ms.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.Ms=r.Ms.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),xE.apply(this,arguments)}function IE(e,t){return EE.apply(this,arguments)}function EE(){return EE=ee(ne().mark((function e(t,n){var r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Hm(t)).currentUser.isEqual(n)){e.next=11;break}return Vm("SyncEngine","User change. New user:",n.toKey()),e.next=5,U_(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.Fc.forEach((function(e){e.forEach((function(e){e.reject(new Qm(Gm.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Fc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,_E(r,i.qs);case 11:case"end":return e.stop()}}),e)}))),EE.apply(this,arguments)}function TE(e,t){var n=Hm(e),r=n.Oc.get(t);if(r&&r.Sc)return Pk().add(r.key);var i=Pk(),a=n.Nc.get(t);if(!a)return i;var o,u=Tr(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.Cc.get(s);i=i.unionWith(c.view.yc)}}catch(l){u.e(l)}finally{u.f()}return i}function SE(e,t){return CE.apply(this,arguments)}function CE(){return CE=ee(ne().mark((function e(t,n){var r,i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Hm(t),e.next=3,G_(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.vc(i),e.abrupt("return",(r.isPrimaryClient&&kE(r,n.targetId,a.Pc),a));case 6:case"end":return e.stop()}}),e)}))),CE.apply(this,arguments)}function AE(e){return NE.apply(this,arguments)}function NE(){return NE=ee(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Hm(t),e.abrupt("return",Y_(n.localStore).then((function(e){return _E(n,e)})));case 2:case"end":return e.stop()}}),e)}))),NE.apply(this,arguments)}function OE(e,t,n,r){return RE.apply(this,arguments)}function RE(){return RE=ee(ne().mark((function e(t,n,r,i){var a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Hm(t),e.next=3,function(e,t){var n=Hm(e),r=Hm(n.gs);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Ge(e,t).next((function(t){return t?n.Us.Es(e,t):$b.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,aI(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(mE(a,n,i||null),vE(a,n),function(e,t){Hm(Hm(e).gs).Qe(t)}(a.localStore,n)):Km();case 11:return e.next=13,_E(a,o);case 13:e.next=16;break;case 15:Vm("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),RE.apply(this,arguments)}function PE(e,t){return DE.apply(this,arguments)}function DE(){return DE=ee(ne().mark((function e(t,n){var r,i,a,o,u,s,c,l;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(BE(r=Hm(t)),KE(r),!0!==n||!0===r.Lc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,LE(r,i.toArray());case 5:return a=e.sent,r.Lc=!0,e.next=9,wI(r.remoteStore,!0);case 9:o=Tr(a);try{for(o.s();!(u=o.n()).done;)s=u.value,qx(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Lc){e.next=25;break}return c=[],l=Promise.resolve(),r.Nc.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return yE(r,t),W_(r.localStore,t,!0)})),Bx(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,LE(r,c);case 21:return function(e){var t=Hm(e);t.Oc.forEach((function(e,n){Bx(t.remoteStore,n)})),t.Mc.ii(),t.Oc=new Map,t.kc=new wk(Py.comparator)}(r),r.Lc=!1,e.next=25,wI(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),DE.apply(this,arguments)}function LE(e,t,n){return ME.apply(this,arguments)}function ME(){return ME=ee(ne().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Hm(t),a=[],o=[],u=Tr(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.Nc.get(c))||0===f.length){e.next=34;break}return e.next=11,K_(i.localStore,Ng(f[0]));case 11:l=e.sent,h=Tr(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.Cc.get(p),e.next=20,SE(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Q_(i.localStore,c);case 36:return y=e.sent,e.next=39,K_(i.localStore,y);case 39:return l=e.sent,e.next=42,$I(i,UE(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Dc.To(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),ME.apply(this,arguments)}function UE(e){return _g(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function FE(e){var t=Hm(e);return Hm(Hm(t.localStore).persistence).ds()}function jE(e,t,n,r){return VE.apply(this,arguments)}function VE(){return VE=ee(ne().mark((function e(t,n,r,i){var a,o,u;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Hm(t)).Lc){e.next=5;break}Vm("SyncEngine","Ignoring unexpected query state notification."),e.next=21;break;case 5:if(!a.Nc.has(n)){e.next=21;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?9:"rejected"===e.t0?16:20;break;case 9:return e.next=11,Y_(a.localStore);case 11:return o=e.sent,u=Mk.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=15,_E(a,o,u);case 15:return e.abrupt("break",21);case 16:return e.next=18,W_(a.localStore,n,!0);case 18:return yE(a,n,i),e.abrupt("break",21);case 20:Km();case 21:case"end":return e.stop()}}),e)}))),VE.apply(this,arguments)}function zE(e,t,n){return qE.apply(this,arguments)}function qE(){return qE=ee(ne().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=BE(t)).Lc){e.next=45;break}a=Tr(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.Nc.has(u)){e.next=10;break}return Vm("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,Q_(i.localStore,u);case 12:return s=e.sent,e.next=15,K_(i.localStore,s);case 15:return c=e.sent,e.next=18,$I(i,UE(s),c.targetId,!1);case 18:qx(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=Tr(r),e.prev=30,h=ne().mark((function e(){var t;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.Nc.has(t),!e.t0){e.next=5;break}return e.next=5,W_(i.localStore,t,!1).then((function(){Bx(i.remoteStore,t),yE(i,t)})).catch(c_);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),qE.apply(this,arguments)}function BE(e){var t=Hm(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=iE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=TE.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=uE.bind(null,t),t.Dc.To=MI.bind(null,t.eventManager),t.Dc.qc=UI.bind(null,t.eventManager),t}function KE(e){var t=Hm(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=cE.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=fE.bind(null,t),t}function WE(e,t,n){var r=Hm(e);(function(){var e=ee(ne().mark((function e(t,n,r){var i,a,o,u,s;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Hm(e),r=Jk(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Kn.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=10;break}return e.next=9,n.close();case 9:return e.abrupt("return",void r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)));case 10:return r._updateProgress(BI(i)),a=new qI(i,t.localStore,n.O),e.next=14,n.Kc();case 14:o=e.sent;case 15:if(!o){e.next=25;break}return e.next=18,a.lc(o);case 18:return(u=e.sent)&&r._updateProgress(u),e.next=22,n.Kc();case 22:o=e.sent;case 23:e.next=15;break;case 25:return e.next=27,a.complete();case 27:return s=e.sent,e.next=30,_E(t,s.ws,void 0);case 30:return e.next=32,function(e,t){var n=Hm(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Kn.saveBundleMetadata(e,t)}))}(t.localStore,i);case 32:r._completeWith(s.progress),e.next=38;break;case 35:e.prev=35,e.t0=e.catch(0),qm("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0);case 38:case"end":return e.stop()}}),e,null,[[0,35]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var HE=function(){function e(){xr(this,e),this.synchronizeTabs=!1}return Er(e,[{key:"initialize",value:function(){var e=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.O=Nx(t.databaseInfo.databaseId),this.sharedClientState=this.Gc(t),this.persistence=this.jc(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.Qc(t),this.localStore=this.Wc(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Qc",value:function(e){return null}},{key:"Wc",value:function(e){return M_(this.persistence,new D_,e.initialUser,this.O)}},{key:"jc",value:function(e){return new lx(hx.bi,this.O)}},{key:"Gc",value:function(e){return new _x}},{key:"terminate",value:function(){var e=ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),GE=function(e){Ar(n,e);var t=Dr(n);function n(e,r,i){var a;return xr(this,n),(a=t.call(this)).zc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return Er(n,[{key:"initialize",value:function(){var e=ee(ne().mark((function e(t){var r=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ca(Nr(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,X_(this.localStore);case 4:return e.next=6,this.zc.initialize(this,t);case 6:return e.next=8,KE(this.zc.syncEngine);case 8:return e.next=10,aI(this.zc.remoteStore);case 10:return e.next=12,this.persistence.Hn((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Wc",value:function(e){return M_(this.persistence,new D_,e.initialUser,this.O)}},{key:"Qc",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new d_(t,e.asyncQueue)}},{key:"jc",value:function(e){var t=N_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Xw.withCacheSize(this.cacheSizeBytes):Xw.DEFAULT;return new S_(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Cx(),Ax(),this.O,this.sharedClientState,!!this.forceOwnership)}},{key:"Gc",value:function(e){return new _x}}]),n}(HE),QE=function(e){Ar(n,e);var t=Dr(n);function n(e,r){var i;return xr(this,n),(i=t.call(this,e,r,!1)).zc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Er(n,[{key:"initialize",value:function(){var e=ee(ne().mark((function e(t){var r,i=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ca(Nr(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.zc.syncEngine,e.t0=this.sharedClientState instanceof wx,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={hr:OE.bind(null,r),lr:jE.bind(null,r),dr:zE.bind(null,r),ds:FE.bind(null,r),ar:AE.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Hn(function(){var e=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,PE(i.zc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Gc",value:function(e){var t=Cx();if(!wx.Vt(t))throw new Qm(Gm.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=N_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new wx(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(GE),YE=function(){function e(){xr(this,e)}return Er(e,[{key:"initialize",value:function(){var e=ee(ne().mark((function e(t,n){var r=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return oE(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=IE.bind(null,this.syncEngine),e.next=12,wI(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new OI}},{key:"createDatastore",value:function(e){var t,n=Nx(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Sx(t));return function(e,t,n,r){return new Lx(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return oE(o.syncEngine,e,0)},a=Ix.Vt()?new Ix:new xx,new Ux(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new YI(e,t,n,r,i,a);return o&&(u.Lc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=ee(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Hm(t),Vm("RemoteStore","RemoteStore shutting down."),n.Ko.add(5),e.next=5,Vx(n);case 5:n.jo.shutdown(),n.Qo.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function XE(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return ee(ne().mark((function r(){var i;return ne().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var JE=function(){function e(t){xr(this,e),this.observer=t,this.muted=!1}return Er(e,[{key:"next",value:function(e){this.observer.next&&this.Hc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Hc(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Jc",value:function(){this.muted=!0}},{key:"Hc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),$E=function(){function e(t,n){var r=this;xr(this,e),this.Yc=t,this.O=n,this.metadata=new Ym,this.buffer=new Uint8Array,this.Xc=new TextDecoder("utf-8"),this.Zc().then((function(e){e&&e.ac()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return Er(e,[{key:"close",value:function(){return this.Yc.cancel()}},{key:"getMetadata",value:function(){var e=ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Kc",value:function(){var e=ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Zc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zc",value:function(){var e=ee(ne().mark((function e(){var t,n,r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.tu();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Xc.decode(t),r=Number(n),isNaN(r)&&this.eu("length string (".concat(n,") is not valid number")),e.next=9,this.nu(r);case 9:return i=e.sent,e.abrupt("return",new VI(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"su",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"tu",value:function(){var e=ee(ne().mark((function e(){var t,n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.su()<0)){e.next=7;break}return e.next=3,this.iu();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.su())<0&&this.eu("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"nu",value:function(){var e=ee(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.iu();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.eu("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Xc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"eu",value:function(e){throw this.Yc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"iu",value:function(){var e=ee(ne().mark((function e(){var t,n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Yc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),ZE=function(){function e(t){xr(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Er(e,[{key:"lookup",value:function(){var e=ee(ne().mark((function e(t){var n,r=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Qm(Gm.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=ee(ne().mark((function e(t,n){var r,i,a,o,u,s;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Hm(t),i=ib(r.O)+"/documents",a={documents:n.map((function(e){return eb(r.O,e)}))},e.next=5,r.Lr("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=sb(r.O,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Wm(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new mk(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=ee(ne().mark((function e(){var t,n=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Py.fromPath(t);n.mutations.push(new yk(r,n.precondition(r)))})),e.next=7,function(){var e=ee(ne().mark((function e(t,n){var r,i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Hm(t),i=ib(r.O)+"/documents",a={writes:n.map((function(e){return cb(r.O,e)}))},e.next=3,r.Mr("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Km();t=fy.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Qm(Gm.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?tk.updateTime(t):tk.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(fy.min()))throw new Qm(Gm.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return tk.updateTime(t)}return tk.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),eT=function(){function e(t,n,r,i){xr(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.ru=5,this.ro=new Ox(this.asyncQueue,"transaction_retry")}return Er(e,[{key:"run",value:function(){this.ru-=1,this.ou()}},{key:"ou",value:function(){var e=this;this.ro.Hr(ee(ne().mark((function t(){var n,r;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new ZE(e.datastore),(r=e.cu(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.uu(t)}))}))})).catch((function(t){e.uu(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"cu",value:function(e){try{var t=this.updateFunction(e);return!Ny(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"uu",value:function(e){var t=this;this.ru>0&&this.au(e)?(this.ru-=1,this.asyncQueue.enqueueAndForget((function(){return t.ou(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"au",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!kk(t)}return!1}}]),e}(),tT=function(){function e(t,n,r,i){var a=this;xr(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Mm.UNAUTHENTICATED,this.clientId=oy.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Vm("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Vm("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return Er(e,[{key:"getConfiguration",value:function(){var e=ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Qm(Gm.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Ym;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(ee(ne().mark((function n(){var r;return ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=TI(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function nT(e,t){return rT.apply(this,arguments)}function rT(){return rT=ee(ne().mark((function e(t,n){var r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Vm("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,U_(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),rT.apply(this,arguments)}function iT(e,t){return aT.apply(this,arguments)}function aT(){return aT=ee(ne().mark((function e(t,n){var r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,oT(t);case 3:return r=e.sent,Vm("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return kI(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return kI(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),aT.apply(this,arguments)}function oT(e){return uT.apply(this,arguments)}function uT(){return uT=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Vm("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,nT(t,new HE);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),uT.apply(this,arguments)}function sT(e){return cT.apply(this,arguments)}function cT(){return cT=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Vm("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,iT(t,new YE);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),cT.apply(this,arguments)}function lT(e){return oT(e).then((function(e){return e.persistence}))}function fT(e){return oT(e).then((function(e){return e.localStore}))}function hT(e){return sT(e).then((function(e){return e.remoteStore}))}function dT(e){return sT(e).then((function(e){return e.syncEngine}))}function pT(e){return vT.apply(this,arguments)}function vT(){return vT=ee(ne().mark((function e(t){var n,r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sT(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=XI.bind(null,n.syncEngine),r.onUnlisten=eE.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),vT.apply(this,arguments)}function mT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Ym;return e.asyncQueue.enqueueAndForget(ee(ne().mark((function i(){return ne().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new JE({next:function(a){t.enqueueAndForget((function(){return DI(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Qm(Gm.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Qm(Gm.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new jI(xg(n.path),a,{includeMetadataChanges:!0,uc:!0});return RI(e,o)},i.next=3,pT(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function yT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Ym;return e.asyncQueue.enqueueAndForget(ee(ne().mark((function i(){return ne().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new JE({next:function(n){t.enqueueAndForget((function(){return DI(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Qm(Gm.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new jI(n,a,{includeMetadataChanges:!0,uc:!0});return RI(e,o)},i.next=3,pT(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var gT=new Map;function kT(e,t,n){if(!n)throw new Qm(Gm.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function bT(e,t,n,r){if(!0===t&&!0===r)throw new Qm(Gm.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function wT(e){if(!Py.isDocumentKey(e))throw new Qm(Gm.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function _T(e){if(Py.isDocumentKey(e))throw new Qm(Gm.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function xT(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Km()}function IT(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Qm(Gm.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=xT(e);throw new Qm(Gm.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function ET(e,t){if(t<=0)throw new Qm(Gm.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var TT=function(){function e(t){var n;if(xr(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Qm(Gm.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Qm(Gm.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,bT("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Er(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),ST=function(){function e(t,n,r){xr(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new TT({}),this._settingsFrozen=!1,t instanceof Ay?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Qm(Gm.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ay(e.options.projectId)}(t))}return Er(e,[{key:"app",get:function(){if(!this._app)throw new Qm(Gm.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Qm(Gm.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new TT(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Jm;switch(e.type){case"gapi":var t=e.client;return Wm(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new ty(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Qm(Gm.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=gT.get(e);t&&(Vm("ComponentProvider","Removing Datastore"),gT.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function CT(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=IT(e,ST))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&qm("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=Mm.MOCK_USER;else{o=Br(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Qm(Gm.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Mm(s)}e._authCredentials=new $m(new Xm(o,u))}}var AT=function(){function e(t,n,r){xr(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Er(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new OT(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),NT=function(){function e(t,n,r){xr(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Er(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),OT=function(e){Ar(n,e);var t=Dr(n);function n(e,r,i){var a;return xr(this,n),(a=t.call(this,e,r,xg(i)))._path=i,a.type="collection",a}return Er(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new AT(this.firestore,null,new Py(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(NT);function RT(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=li(e),kT("collection","path",t),e instanceof ST){var a=my.fromString.apply(my,[t].concat(r));return _T(a),new OT(e,null,a)}if(!(e instanceof AT||e instanceof OT))throw new Qm(Gm.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(my.fromString.apply(my,[t].concat(r)));return _T(o),new OT(e.firestore,null,o)}function PT(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=li(e),1===arguments.length&&(t=oy.R()),kT("doc","path",t),e instanceof ST){var a=my.fromString.apply(my,[t].concat(r));return wT(a),new AT(e,null,new Py(a))}if(!(e instanceof AT||e instanceof OT))throw new Qm(Gm.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(my.fromString.apply(my,[t].concat(r)));return wT(o),new AT(e.firestore,e instanceof OT?e.converter:null,new Py(o))}function DT(e,t){return e=li(e),t=li(t),(e instanceof AT||e instanceof OT)&&(t instanceof AT||t instanceof OT)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function LT(e,t){return e=li(e),t=li(t),e instanceof NT&&t instanceof NT&&e.firestore===t.firestore&&Rg(e._query,t._query)&&e.converter===t.converter}var MT=function(){function e(){var t=this;xr(this,e),this.hu=Promise.resolve(),this.lu=[],this.fu=!1,this.du=[],this._u=null,this.wu=!1,this.mu=!1,this.gu=[],this.ro=new Ox(this,"async_queue_retry"),this.yu=function(){var e=Ax();e&&Vm("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ro.Yr()};var n=Ax();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.yu)}return Er(e,[{key:"isShuttingDown",get:function(){return this.fu}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.pu(),this.Iu(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.fu){this.fu=!0,this.mu=e||!1;var t=Ax();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.yu)}}},{key:"enqueue",value:function(e){var t=this;if(this.pu(),this.fu)return new Promise((function(){}));var n=new Ym;return this.Iu((function(){return t.fu&&t.mu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.lu.push(e),t.Eu()}))}},{key:"Eu",value:function(){var e=ee(ne().mark((function e(){var t=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.lu.length){e.next=14;break}return e.prev=1,e.next=4,this.lu[0]();case 4:this.lu.shift(),this.ro.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),rw(e.t0)){e.next=12;break}throw e.t0;case 12:Vm("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.lu.length>0&&this.ro.Hr((function(){return t.Eu()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Iu",value:function(e){var t=this,n=this.hu.then((function(){return t.wu=!0,e().catch((function(e){t._u=e,t.wu=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw zm("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.wu=!1,e}))}));return this.hu=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.pu(),this.gu.indexOf(e)>-1&&(t=0);var i=EI.createAndSchedule(this,e,t,n,(function(e){return r.Tu(e)}));return this.du.push(i),i}},{key:"pu",value:function(){this._u&&Km()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Au",value:function(){var e=ee(ne().mark((function e(){var t;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.hu,e.next=3,t;case 3:if(t!==this.hu){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ru",value:function(e){var t,n=Tr(this.du);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Pu",value:function(e){var t=this;return this.Au().then((function(){t.du.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Tr(t.du);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Au()}))}},{key:"bu",value:function(e){this.gu.push(e)}},{key:"Tu",value:function(e){var t=this.du.indexOf(e);this.du.splice(t,1)}}]),e}();function UT(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Tr(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var FT=function(){function e(){xr(this,e),this._progressObserver={},this._taskCompletionResolver=new Ym,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Er(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),jT=function(e){Ar(n,e);var t=Dr(n);function n(e,r,i){var a;return xr(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new MT,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return Er(n,[{key:"_terminate",value:function(){return this._firestoreClient||zT(this),this._firestoreClient.terminate()}}]),n}(ST);function VT(e){return e._firestoreClient||zT(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function zT(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Cy(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new tT(e._authCredentials,e._appCheckCredentials,e._queue,r)}function qT(e,t,n){var r=new Ym;return e.asyncQueue.enqueue(ee(ne().mark((function i(){return ne().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,nT(e,n);case 3:return i.next=5,iT(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Gm.FAILED_PRECONDITION||e.code===Gm.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function BT(e){return function(e){return e.asyncQueue.enqueue(ee(ne().mark((function t(){var n,r;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,lT(e);case 2:return n=t.sent,t.next=5,hT(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Hm(e);return t.Ko.delete(0),Fx(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(VT(e=IT(e,jT)))}function KT(e){return function(e){return e.asyncQueue.enqueue(ee(ne().mark((function t(){var n,r;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,lT(e);case 2:return n=t.sent,t.next=5,hT(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=ee(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Hm(t)).Ko.add(0),e.next=4,Vx(n);case 4:n.Qo.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(VT(e=IT(e,jT)))}function WT(e,t){var n=VT(e=IT(e,jT)),r=new FT;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new $E(e,t)}(function(e,t){if(e instanceof Uint8Array)return XE(e,t);if(e instanceof ArrayBuffer)return XE(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Nx(t));e.asyncQueue.enqueueAndForget(ee(ne().mark((function t(){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=WE,t.next=3,dT(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function HT(e,t){return function(e,t){return e.asyncQueue.enqueue(ee(ne().mark((function n(){return ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Hm(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Kn.getNamedQuery(e,t)}))},n.next=3,fT(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(VT(e=IT(e,jT)),t).then((function(t){return t?new NT(e,null,t.query):null}))}function GT(e){if(e._initialized||e._terminated)throw new Qm(Gm.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var QT=function(){function e(){xr(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Qm(Gm.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gy(n)}return Er(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var YT=function(){function e(t){xr(this,e),this._byteString=t}return Er(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(by.fromBase64String(t))}catch(t){throw new Qm(Gm.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(by.fromUint8Array(t))}}]),e}(),XT=Er((function e(t){xr(this,e),this._methodName=t})),JT=function(){function e(t,n){if(xr(this,e),!isFinite(t)||t<-90||t>90)throw new Qm(Gm.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Qm(Gm.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Er(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return uy(this._lat,e._lat)||uy(this._long,e._long)}}]),e}(),$T=/^__.*__$/,ZT=function(){function e(t,n,r){xr(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Er(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new lk(e,this.data,this.fieldMask,t,this.fieldTransforms):new ck(e,this.data,t,this.fieldTransforms)}}]),e}(),eS=function(){function e(t,n,r){xr(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Er(e,[{key:"toMutation",value:function(e,t){return new lk(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function tS(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Km()}}var nS=function(){function e(t,n,r,i,a,o){xr(this,e),this.settings=t,this.databaseId=n,this.O=r,this.ignoreUndefinedProperties=i,void 0===a&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Er(e,[{key:"path",get:function(){return this.settings.path}},{key:"Vu",get:function(){return this.settings.Vu}},{key:"Su",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.O,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Du",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Su({path:n,Cu:!1});return r.Nu(e),r}},{key:"xu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Su({path:n,Cu:!1});return r.vu(),r}},{key:"ku",value:function(e){return this.Su({path:void 0,Cu:!0})}},{key:"Ou",value:function(e){return _S(e,this.settings.methodName,this.settings.Mu||!1,this.path,this.settings.$u)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"vu",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Nu(this.path.get(e))}},{key:"Nu",value:function(e){if(0===e.length)throw this.Ou("Document fields must not be empty");if(tS(this.Vu)&&$T.test(e))throw this.Ou('Document fields cannot begin and end with "__"')}}]),e}(),rS=function(){function e(t,n,r){xr(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.O=r||Nx(t)}return Er(e,[{key:"Fu",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new nS({Vu:e,methodName:t,$u:n,path:gy.emptyPath(),Cu:!1,Mu:r},this.databaseId,this.O,this.ignoreUndefinedProperties)}}]),e}();function iS(e){var t=e._freezeSettings(),n=Nx(e._databaseId);return new rS(e._databaseId,!!t.ignoreUndefinedProperties,n)}function aS(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.Fu(a.merge||a.mergeFields?2:0,t,n,i);gS("Data must be an object, but it was:",o,r);var u,s,c=mS(r,o);if(a.merge)u=new ky(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=Tr(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=kS(t,d,n);if(!o.contains(p))throw new Qm(Gm.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));xS(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new ky(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new ZT(new Yy(c),u,s)}var oS=function(e){Ar(n,e);var t=Dr(n);function n(){return xr(this,n),t.apply(this,arguments)}return Er(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Vu)throw 1===e.Vu?e.Ou("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Ou("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(XT);function uS(e,t,n){return new nS({Vu:3,$u:t.settings.$u,methodName:e._methodName,Cu:n},t.databaseId,t.O,t.ignoreUndefinedProperties)}var sS=function(e){Ar(n,e);var t=Dr(n);function n(){return xr(this,n),t.apply(this,arguments)}return Er(n,[{key:"_toFieldTransform",value:function(e){return new Zg(e.path,new Wg)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(XT),cS=function(e){Ar(n,e);var t=Dr(n);function n(e,r){var i;return xr(this,n),(i=t.call(this,e)).Bu=r,i}return Er(n,[{key:"_toFieldTransform",value:function(e){var t=uS(this,e,!0),n=this.Bu.map((function(e){return vS(e,t)})),r=new Hg(n);return new Zg(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(XT),lS=function(e){Ar(n,e);var t=Dr(n);function n(e,r){var i;return xr(this,n),(i=t.call(this,e)).Bu=r,i}return Er(n,[{key:"_toFieldTransform",value:function(e){var t=uS(this,e,!0),n=this.Bu.map((function(e){return vS(e,t)})),r=new Qg(n);return new Zg(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(XT),fS=function(e){Ar(n,e);var t=Dr(n);function n(e,r){var i;return xr(this,n),(i=t.call(this,e)).Lu=r,i}return Er(n,[{key:"_toFieldTransform",value:function(e){var t=new Xg(e.O,Vg(e.O,this.Lu));return new Zg(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(XT);function hS(e,t,n,r){var i=e.Fu(1,t,n);gS("Data must be an object, but it was:",i,r);var a=[],o=Yy.empty();dy(r,(function(e,r){var u=wS(t,e,n);r=li(r);var s=i.xu(u);if(r instanceof oS)a.push(u);else{var c=vS(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new ky(a);return new eS(o,u,i.fieldTransforms)}function dS(e,t,n,r,i,a){var o=e.Fu(1,t,n),u=[kS(t,r,n)],s=[i];if(a.length%2!=0)throw new Qm(Gm.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(kS(t,a[c])),s.push(a[c+1]);for(var l=[],f=Yy.empty(),h=u.length-1;h>=0;--h)if(!xS(l,u[h])){var d=u[h],p=s[h];p=li(p);var v=o.xu(d);if(p instanceof oS)l.push(d);else{var m=vS(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new ky(l);return new eS(f,y,o.fieldTransforms)}function pS(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return vS(n,e.Fu(r?4:3,t))}function vS(e,t){if(yS(e=li(e)))return gS("Unsupported field value:",t,e),mS(e,t);if(e instanceof XT)return function(e,t){if(!tS(t.Vu))throw t.Ou("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Ou("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Cu&&4!==t.Vu)throw t.Ou("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Tr(e);try{for(a.s();!(n=a.n()).done;){var o=vS(n.value,t.ku(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=li(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Vg(t.O,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=ly.fromDate(e);return{timestampValue:Qk(t.O,n)}}if(e instanceof ly){var r=new ly(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Qk(t.O,r)}}if(e instanceof JT)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof YT)return{bytesValue:Yk(t.O,e._byteString)};if(e instanceof AT){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.Ou("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:$k(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Ou("Unsupported field value: ".concat(xT(e)))}(e,t)}function mS(e,t){var n={};return py(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):dy(e,(function(e,r){var i=vS(r,t.Du(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function yS(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ly||e instanceof JT||e instanceof YT||e instanceof AT||e instanceof XT)}function gS(e,t,n){if(!yS(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=xT(n);throw"an object"===r?t.Ou(e+" a custom object"):t.Ou(e+" "+r)}}function kS(e,t,n){if((t=li(t))instanceof QT)return t._internalPath;if("string"==typeof t)return wS(e,t);throw _S("Field path arguments must be of type string or ",e,!1,void 0,n)}var bS=new RegExp("[~\\*/\\[\\]]");function wS(e,t,n){if(t.search(bS)>=0)throw _S("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Lr(QT,hi(t.split(".")))._internalPath}catch(r){throw _S("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function _S(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Qm(Gm.INVALID_ARGUMENT,u+e+s)}function xS(e,t){return e.some((function(e){return e.isEqual(t)}))}var IS=function(){function e(t,n,r,i,a){xr(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Er(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new AT(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new ES(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(TS("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),ES=function(e){Ar(n,e);var t=Dr(n);function n(){return xr(this,n),t.apply(this,arguments)}return Er(n,[{key:"data",value:function(){return ca(Nr(n.prototype),"data",this).call(this)}}]),n}(IS);function TS(e,t){return"string"==typeof t?wS(e,t):t instanceof QT?t._internalPath:t._delegate._internalPath}var SS=function(){function e(t,n){xr(this,e),this.hasPendingWrites=t,this.fromCache=n}return Er(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),CS=function(e){Ar(n,e);var t=Dr(n);function n(e,r,i,a,o,u){var s;return xr(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Er(n,[{key:"exists",value:function(){return ca(Nr(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new AS(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(TS("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(IS),AS=function(e){Ar(n,e);var t=Dr(n);function n(){return xr(this,n),t.apply(this,arguments)}return Er(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ca(Nr(n.prototype),"data",this).call(this,e)}}]),n}(CS),NS=function(){function e(t,n,r,i){xr(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new SS(i.hasPendingWrites,i.fromCache),this.query=r}return Er(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new AS(n._firestore,n._userDataWriter,r.key,r,new SS(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Qm(Gm.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new AS(e._firestore,e._userDataWriter,t.doc.key,t.doc,new SS(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new AS(e._firestore,e._userDataWriter,t.doc.key,t.doc,new SS(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:OS(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function OS(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Km()}}function RS(e,t){return e instanceof CS&&t instanceof CS?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof NS&&t instanceof NS&&e._firestore===t._firestore&&LT(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function PS(e){if(Eg(e)&&0===e.explicitOrderBy.length)throw new Qm(Gm.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var DS=Er((function e(){xr(this,e)}));function LS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var MS=function(e){Ar(n,e);var t=Dr(n);function n(e,r,i){var a;return xr(this,n),(a=t.call(this)).Uu=e,a.qu=r,a.Ku=i,a.type="where",a}return Er(n,[{key:"_apply",value:function(e){var t=iS(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Qm(Gm.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){GS(o,a);var s,c=[],l=Tr(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(HS(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=HS(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||GS(o,a),u=pS(n,"where",o,"in"===a||"not-in"===a);var h=ug.create(i,a,u);return function(e,t){if(t.S()){var n=Sg(e);if(null!==n&&!n.isEqual(t.field))throw new Qm(Gm.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Tg(e);null!==r&&QS(e,t.field,r)}var i=function(e,t){var n,r=Tr(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Qm(Gm.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Qm(Gm.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.Uu,this.qu,this.Ku);return new NT(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new wg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(DS);var US=function(e){Ar(n,e);var t=Dr(n);function n(e,r){var i;return xr(this,n),(i=t.call(this)).Uu=e,i.Gu=r,i.type="orderBy",i}return Er(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Qm(Gm.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Qm(Gm.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new yg(t,n);return function(e,t){if(null===Tg(e)){var n=Sg(e);null!==n&&QS(e,n,t.field)}}(e,r),r}(e._query,this.Uu,this.Gu);return new NT(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new wg(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(DS);var FS=function(e){Ar(n,e);var t=Dr(n);function n(e,r,i){var a;return xr(this,n),(a=t.call(this)).type=e,a.ju=r,a.Qu=i,a}return Er(n,[{key:"_apply",value:function(e){return new NT(e.firestore,e.converter,Og(e._query,this.ju,this.Qu))}}]),n}(DS);var jS=function(e){Ar(n,e);var t=Dr(n);function n(e,r,i){var a;return xr(this,n),(a=t.call(this)).type=e,a.Wu=r,a.zu=i,a}return Er(n,[{key:"_apply",value:function(e){var t=WS(e,this.type,this.Wu,this.zu);return new NT(e.firestore,e.converter,function(e,t){return new wg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(DS);function VS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new jS("startAt",t,!0)}function zS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new jS("startAfter",t,!1)}var qS=function(e){Ar(n,e);var t=Dr(n);function n(e,r,i){var a;return xr(this,n),(a=t.call(this)).type=e,a.Wu=r,a.zu=i,a}return Er(n,[{key:"_apply",value:function(e){var t=WS(e,this.type,this.Wu,this.zu);return new NT(e.firestore,e.converter,function(e,t){return new wg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(DS);function BS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new qS("endBefore",t,!1)}function KS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new qS("endAt",t,!0)}function WS(e,t,n,r){if(n[0]=li(n[0]),n[0]instanceof IS)return function(e,t,n,r,i){if(!r)throw new Qm(Gm.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=Tr(Ag(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(qy(t,r.key));else{var c=r.data.field(s.field);if(Ey(c))throw new Qm(Gm.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Qm(Gm.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new mg(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=iS(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Qm(Gm.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Qm(Gm.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Cg(e)&&-1!==c.indexOf("/"))throw new Qm(Gm.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(my.fromString(c));if(!Py.isDocumentKey(l))throw new Qm(Gm.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Py(l);u.push(qy(t,f))}else{var h=pS(n,r,c);u.push(h)}}return new mg(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function HS(e,t,n){if("string"==typeof(n=li(n))){if(""===n)throw new Qm(Gm.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Cg(t)&&-1!==n.indexOf("/"))throw new Qm(Gm.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(my.fromString(n));if(!Py.isDocumentKey(r))throw new Qm(Gm.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return qy(e,new Py(r))}if(n instanceof AT)return qy(e,n._key);throw new Qm(Gm.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(xT(n),"."))}function GS(e,t){if(!Array.isArray(e)||0===e.length)throw new Qm(Gm.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Qm(Gm.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function QS(e,t,n){if(!n.isEqual(t))throw new Qm(Gm.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var YS=function(){function e(){xr(this,e)}return Er(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Ly(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xy(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Iy(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Km()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return dy(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new JT(xy(e.latitude),xy(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Ty(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Sy(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=_y(e);return new ly(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=my.fromString(e);Wm(_b(n));var r=new Ay(n.get(1),n.get(3)),i=new Py(n.popFirst(5));return r.isEqual(t)||zm("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function XS(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var JS=function(e){Ar(n,e);var t=Dr(n);function n(e){var r;return xr(this,n),(r=t.call(this)).firestore=e,r}return Er(n,[{key:"convertBytes",value:function(e){return new YT(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new AT(this.firestore,null,t)}}]),n}(YS),$S=function(){function e(t,n){xr(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=iS(t)}return Er(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=ZS(e,this._firestore),i=XS(r.converter,t,n),a=aS(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,tk.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=ZS(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=li(t))||t instanceof QT?dS(this._dataReader,"WriteBatch.update",i._key,t,n,o):hS(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,tk.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=ZS(e,this._firestore);return this._mutations=this._mutations.concat(new mk(t._key,tk.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Qm(Gm.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function ZS(e,t){if((e=li(e)).firestore!==t)throw new Qm(Gm.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var eC=function(e){Ar(n,e);var t=Dr(n);function n(e){var r;return xr(this,n),(r=t.call(this)).firestore=e,r}return Er(n,[{key:"convertBytes",value:function(e){return new YT(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new AT(this.firestore,null,t)}}]),n}(YS);function tC(e){e=IT(e,AT);var t=IT(e.firestore,jT),n=VT(t),r=new eC(t);return function(e,t){var n=new Ym;return e.asyncQueue.enqueueAndForget(ee(ne().mark((function r(){return ne().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=ee(ne().mark((function e(t,n,r){var i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Hm(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Us.ys(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Qm(Gm.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=TI(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,fT(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new CS(t,r,e._key,n,new SS(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function nC(e){e=IT(e,NT);var t=IT(e.firestore,jT),n=VT(t),r=new eC(t);return function(e,t){var n=new Ym;return e.asyncQueue.enqueueAndForget(ee(ne().mark((function r(){return ne().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=ee(ne().mark((function e(t,n,r){var i,a,o,u,s;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G_(t,n,!0);case 3:i=e.sent,a=new HI(n,i.Ks),o=a.Ic(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=TI(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,fT(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new NS(t,r,e,n)}))}function rC(e,t,n){e=IT(e,AT);var r=IT(e.firestore,jT),i=XS(e.converter,t,n);return uC(r,[aS(iS(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,tk.none())])}function iC(e,t,n){e=IT(e,AT);for(var r=IT(e.firestore,jT),i=iS(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return uC(r,[("string"==typeof(t=li(t))||t instanceof QT?dS(i,"updateDoc",e._key,t,n,o):hS(i,"updateDoc",e._key,t)).toMutation(e._key,tk.exists(!0))])}function aC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=li(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||UT(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(UT(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof AT)l=IT(e.firestore,jT),f=xg(e._key.path),c={next:function(t){n[s]&&n[s](sC(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=IT(e,NT);l=IT(p.firestore,jT),f=p._query;var v=new eC(l);c={next:function(e){n[s]&&n[s](new NS(l,v,p,e))},error:n[s+1],complete:n[s+2]},PS(e._query)}return function(e,t,n,r){var i=new JE(r),a=new jI(t,i,n);return e.asyncQueue.enqueueAndForget(ee(ne().mark((function t(){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=RI,t.next=3,pT(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Jc(),e.asyncQueue.enqueueAndForget(ee(ne().mark((function t(){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=DI,t.next=3,pT(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(VT(l),f,h,c)}function oC(e,t){return function(e,t){var n=new JE(t);return e.asyncQueue.enqueueAndForget(ee(ne().mark((function t(){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Hm(e).Zo.add(t),t.next()},t.next=3,pT(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Jc(),e.asyncQueue.enqueueAndForget(ee(ne().mark((function t(){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Hm(e).Zo.delete(t)},t.next=3,pT(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(VT(e=IT(e,jT)),UT(t)?t:{next:t})}function uC(e,t){return function(e,t){var n=new Ym;return e.asyncQueue.enqueueAndForget(ee(ne().mark((function r(){return ne().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=nE,r.next=3,dT(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(VT(e),t)}function sC(e,t,n){var r=n.docs.get(t._key),i=new eC(e);return new CS(e,i,t._key,r,new SS(n.hasPendingWrites,n.fromCache),t.converter)}var cC=function(e){Ar(n,e);var t=Dr(n);function n(e,r){var i;return xr(this,n),(i=t.call(this,e,r))._firestore=e,i}return Er(n,[{key:"get",value:function(e){var t=this,r=ZS(e,this._firestore),i=new eC(this._firestore);return ca(Nr(n.prototype),"get",this).call(this,e).then((function(e){return new CS(t._firestore,i,r._key,e._document,new SS(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){xr(this,e),this._firestore=t,this._transaction=n,this._dataReader=iS(t)}return Er(e,[{key:"get",value:function(e){var t=this,n=ZS(e,this._firestore),r=new JS(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Km();var i=e[0];if(i.isFoundDocument())return new IS(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new IS(t._firestore,r,n._key,null,n.converter);throw Km()}))}},{key:"set",value:function(e,t,n){var r=ZS(e,this._firestore),i=XS(r.converter,t,n),a=aS(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=ZS(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=li(t))||t instanceof QT?dS(this._dataReader,"Transaction.update",i._key,t,n,o):hS(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=ZS(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function lC(e,t){return function(e,t){var n=new Ym;return e.asyncQueue.enqueueAndForget(ee(ne().mark((function r(){var i;return ne().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return sT(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new eT(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(VT(e=IT(e,jT)),(function(n){return t(new cC(e,n))}))}function fC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new cS("arrayUnion",t)}function hC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new lS("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Um=e}(Hi),Ui(new di("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new jT(i,new Zm(e.getProvider("auth-internal")),new ry(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),$i(Lm,"3.4.5",e),$i(Lm,"3.4.5","esm2017")}();function dC(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Qm("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function pC(){if("undefined"===typeof Uint8Array)throw new Qm("unimplemented","Uint8Arrays are not available in this environment.")}function vC(){if("undefined"==typeof atob)throw new Qm("unimplemented","Blobs are unavailable in Firestore in this environment.")}var mC=function(){function e(t){xr(this,e),this._delegate=t}return Er(e,[{key:"toBase64",value:function(){return vC(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return pC(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return vC(),new e(YT.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return pC(),new e(YT.fromUint8Array(t))}}]),e}();function yC(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Tr(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var gC=function(){function e(){xr(this,e)}return Er(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){GT(e=IT(e,jT));var n=VT(e),r=e._freezeSettings(),i=new YE;return qT(n,i,new GE(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){GT(e=IT(e,jT));var t=VT(e),n=e._freezeSettings(),r=new YE;return qT(t,r,new QE(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Qm(Gm.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Ym;return e._queue.enqueueAndForgetEvenWhileRestricted(ee(ne().mark((function n(){return ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=ee(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ew.Vt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,ew.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(N_(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),kC=function(){function e(t,n,r){var i=this;xr(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Ay||(this._appCompat=t)}return Er(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||qm("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};CT(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return BT(this._delegate)}},{key:"disableNetwork",value:function(){return KT(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&bT("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Ym;return e.asyncQueue.enqueueAndForget(ee(ne().mark((function n(){return ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=dE,n.next=3,dT(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(VT(e=IT(e,jT)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return oC(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Qm("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new PC(this,RT(this._delegate,e))}catch(eO){throw EC(eO,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new IC(this,PT(this._delegate,e))}catch(eO){throw EC(eO,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new NC(this,function(e,t){if(e=IT(e,ST),kT("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Qm(Gm.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new NT(e,null,function(e){return new wg(my.emptyPath(),e)}(t))}(this._delegate,e))}catch(eO){throw EC(eO,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return lC(this._delegate,(function(n){return e(new wC(t,n))}))}},{key:"batch",value:function(){var e=this;return VT(this._delegate),new _C(new $S(this._delegate,(function(t){return uC(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return WT(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return HT(this._delegate,e).then((function(e){return e?new NC(t,e):null}))}}]),e}(),bC=function(e){Ar(n,e);var t=Dr(n);function n(e){var r;return xr(this,n),(r=t.call(this)).firestore=e,r}return Er(n,[{key:"convertBytes",value:function(e){return new mC(new YT(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return IC.forKey(t,this.firestore,null)}}]),n}(YS);var wC=function(){function e(t,n){xr(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new bC(t)}return Er(e,[{key:"get",value:function(e){var t=this,n=DC(e);return this._delegate.get(n).then((function(e){return new CC(t._firestore,new CS(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=DC(e);return n?(dC("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=DC(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=DC(e);return this._delegate.delete(t),this}}]),e}(),_C=function(){function e(t){xr(this,e),this._delegate=t}return Er(e,[{key:"set",value:function(e,t,n){var r=DC(e);return n?(dC("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=DC(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=DC(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),xC=function(){function e(t,n,r){xr(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Er(e,[{key:"fromFirestore",value:function(e,t){var n=new AS(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new AC(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new bC(t),n),i.set(n,a)),a}}]),e}();xC.INSTANCES=new WeakMap;var IC=function(){function e(t,n){xr(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new bC(t)}return Er(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new PC(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new PC(this.firestore,RT(this._delegate,e))}catch(eO){throw EC(eO,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=li(e))instanceof AT&&DT(this._delegate,e)}},{key:"set",value:function(e,t){t=dC("DocumentReference.set",t);try{return t?rC(this._delegate,e,t):rC(this._delegate,e)}catch(eO){throw EC(eO,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?iC(this._delegate,e):iC.apply(void 0,[this._delegate,e,t].concat(r))}catch(eO){throw EC(eO,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return uC(IT(e.firestore,jT),[new mk(e._key,tk.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=TC(n),a=SC(n,(function(t){return new CC(e.firestore,new CS(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return aC(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?tC(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=IT(e,AT);var t=IT(e.firestore,jT);return mT(VT(t),e._key,{source:"server"}).then((function(n){return sC(t,e,n)}))}(this._delegate):function(e){e=IT(e,AT);var t=IT(e.firestore,jT);return mT(VT(t),e._key).then((function(n){return sC(t,e,n)}))}(this._delegate),t.then((function(e){return new CC(n.firestore,new CS(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(xC.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Qm("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new AT(n._delegate,r,new Py(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new AT(n._delegate,r,t))}}]),e}();function EC(e,t,n){return e.message=e.message.replace(t,n),e}function TC(e){var t,n=Tr(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!yC(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function SC(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=yC(e[0])?e[0]:yC(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var CC=function(){function e(t,n){xr(this,e),this._firestore=t,this._delegate=n}return Er(e,[{key:"ref",get:function(){return new IC(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return RS(this._delegate,e._delegate)}}]),e}(),AC=function(e){Ar(n,e);var t=Dr(n);function n(){return xr(this,n),t.apply(this,arguments)}return Er(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Km()}(void 0!==t),t}}]),n}(CC),NC=function(){function e(t,n){xr(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new bC(t)}return Er(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,LS(this._delegate,function(e,t,n){var r=t,i=TS("where",e);return new MS(i,r,n)}(t,n,r)))}catch(eO){throw EC(eO,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,LS(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=TS("orderBy",e);return new US(n,t)}(t,n)))}catch(eO){throw EC(eO,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,LS(this._delegate,function(e){return ET("limit",e),new FS("limit",e,"F")}(t)))}catch(eO){throw EC(eO,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,LS(this._delegate,function(e){return ET("limitToLast",e),new FS("limitToLast",e,"L")}(t)))}catch(eO){throw EC(eO,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,LS(this._delegate,VS.apply(void 0,arguments)))}catch(eO){throw EC(eO,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,LS(this._delegate,zS.apply(void 0,arguments)))}catch(eO){throw EC(eO,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,LS(this._delegate,BS.apply(void 0,arguments)))}catch(eO){throw EC(eO,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,LS(this._delegate,KS.apply(void 0,arguments)))}catch(eO){throw EC(eO,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return LT(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?nC(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=IT(e,NT);var t=IT(e.firestore,jT),n=VT(t),r=new eC(t);return yT(n,e._query,{source:"server"}).then((function(n){return new NS(t,r,e,n)}))}(this._delegate):function(e){e=IT(e,NT);var t=IT(e.firestore,jT),n=VT(t),r=new eC(t);return PS(e._query),yT(n,e._query).then((function(n){return new NS(t,r,e,n)}))}(this._delegate),t.then((function(e){return new RC(n.firestore,new NS(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=TC(n),a=SC(n,(function(t){return new RC(e.firestore,new NS(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return aC(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(xC.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),OC=function(){function e(t,n){xr(this,e),this._firestore=t,this._delegate=n}return Er(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new AC(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),RC=function(){function e(t,n){xr(this,e),this._firestore=t,this._delegate=n}return Er(e,[{key:"query",get:function(){return new NC(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new AC(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new OC(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new AC(n._firestore,r))}))}},{key:"isEqual",value:function(e){return RS(this._delegate,e._delegate)}}]),e}(),PC=function(e){Ar(n,e);var t=Dr(n);function n(e,r){var i;return xr(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return Er(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new IC(this.firestore,e):null}},{key:"doc",value:function(e){try{return new IC(this.firestore,void 0===e?PT(this._delegate):PT(this._delegate,e))}catch(eO){throw EC(eO,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=IT(e.firestore,jT),r=PT(e),i=XS(e.converter,t);return uC(n,[aS(iS(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,tk.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new IC(t.firestore,e)}))}},{key:"isEqual",value:function(e){return DT(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(xC.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(NC);function DC(e){return IT(e,AT)}var LC=function(){function e(){xr(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=Lr(QT,n)}return Er(e,[{key:"isEqual",value:function(e){return(e=li(e))instanceof QT&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(gy.keyField().canonicalString())}}]),e}(),MC=function(){function e(t){xr(this,e),this._delegate=t}return Er(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new sS("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new oS("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=fC.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=hC.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new fS("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),UC={Firestore:kC,GeoPoint:JT,Timestamp:ly,Blob:mC,Transaction:wC,WriteBatch:_C,DocumentReference:IC,DocumentSnapshot:CC,Query:NC,QueryDocumentSnapshot:AC,QuerySnapshot:RC,CollectionReference:PC,FieldPath:LC,FieldValue:MC,setLogLevel:function(e){!function(e){Fm.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new di("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},UC)))}(e,(function(e,t){return new kC(e,t,new gC)})),e.registerVersion("@firebase/firestore-compat","0.1.14")}(ua);var FC="firebasestorage.googleapis.com",jC=function(e){Ar(n,e);var t=Dr(n);function n(e,r){var i;return xr(this,n),(i=t.call(this,VC(e),"Firebase Storage: ".concat(r," (").concat(VC(e),")"))).customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(Sr(i),n.prototype),i}return Er(n,[{key:"_codeEquals",value:function(e){return VC(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(Jr);function VC(e){return"storage/"+e}function zC(){return new jC("unknown","An unknown error occurred, please check the error payload for server response.")}function qC(){return new jC("canceled","User canceled the upload/download.")}function BC(){return new jC("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function KC(e){return new jC("invalid-argument",e)}function WC(){return new jC("app-deleted","The Firebase app was deleted.")}function HC(e){return new jC("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function GC(e,t){return new jC("invalid-format","String does not match format '"+e+"': "+t)}function QC(e){throw new jC("internal-error","Internal error: "+e)}var YC,XC=function(){function e(t,n){xr(this,e),this.bucket=t,this.path_=n}return Er(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(eO){return new e(t,"")}if(""===r.path)return r;throw new jC("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var u=n.replace(/[.]/g,"\\."),s=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(u,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===FC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<s.length;c++){var l=s[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new jC("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),JC=function(){function e(t){xr(this,e),this.promise_=Promise.reject(t)}return Er(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function $C(e){return"string"===typeof e||e instanceof String}function ZC(e){return eA()&&e instanceof Blob}function eA(){return"undefined"!==typeof Blob}function tA(e,t,n,r){if(r<t)throw KC("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw KC("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function nA(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function rA(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(YC||(YC={}));var iA=function(){function e(t,n,r,i,a,o,u,s,c,l,f){var h=this;xr(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=s,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return Er(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(eO){i(eO)}else if(null!==a){var u=zC();u.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,u)):i(u)}else{if(n.canceled)i(e.appDelete_?WC():qC());else i(new jC("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new aA(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,u=0;function s(){return 2===u}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,s())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(s()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===u?(u=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(u=2),clearTimeout(i),f(0)):e||(u=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new aA(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===YC.NO_ERROR,a=r.getStatus();if(n&&!e.isRetryStatusCode_(a)){var o=-1!==e.successCodes_.indexOf(a);t(!0,new aA(o,r))}else{var u=r.getErrorCode()===YC.ABORT;t(!1,new aA(!1,null,u))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}},{key:"isRetryStatusCode_",value:function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}]),e}(),aA=Er((function e(t,n,r){xr(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function oA(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function uA(){for(var e=oA(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(eA())return new Blob(n);throw new jC("unsupported-environment","This browser doesn't seem to support creating Blobs")}var sA={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},cA=Er((function e(t,n){xr(this,e),this.data=t,this.contentType=n||null}));function lA(e,t){switch(e){case sA.RAW:return new cA(fA(t));case sA.BASE64:case sA.BASE64URL:return new cA(hA(e,t));case sA.DATA_URL:return new cA(function(e){var t=new dA(e);return t.base64?hA(sA.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(eO){throw GC(sA.DATA_URL,"Malformed data URL.")}return fA(t)}(t.rest)}(t),new dA(t).contentType)}throw zC()}function fA(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function hA(e,t){switch(e){case sA.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw GC(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case sA.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw GC(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(t)}catch(eO){throw GC(e,"Invalid character found")}for(var u=new Uint8Array(o.length),s=0;s<o.length;s++)u[s]=o.charCodeAt(s);return u}var dA=Er((function e(t){xr(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw GC(sA.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var pA=function(){function e(t,n){xr(this,e);var r=0,i="";ZC(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return Er(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(ZC(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(eA()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(uA.apply(null,i))}var a=n.map((function(e){return $C(e)?lA(sA.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var u=new Uint8Array(o),s=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)u[s++]=e[t]})),new e(u,!0)}}]),e}();function vA(e){var t;try{t=JSON.parse(e)}catch(eO){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function mA(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function yA(e,t){return t}var gA=Er((function e(t,n,r,i){xr(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||yA})),kA=null;function bA(){if(kA)return kA;var e=[];e.push(new gA("bucket")),e.push(new gA("generation")),e.push(new gA("metageneration")),e.push(new gA("name","fullPath",!0));var t=new gA("name");t.xform=function(e,t){return function(e){return!$C(e)||e.length<2?e:mA(e)}(t)},e.push(t);var n=new gA("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new gA("timeCreated")),e.push(new gA("updated")),e.push(new gA("md5Hash",null,!0)),e.push(new gA("cacheControl",null,!0)),e.push(new gA("contentDisposition",null,!0)),e.push(new gA("contentEncoding",null,!0)),e.push(new gA("contentLanguage",null,!0)),e.push(new gA("contentType",null,!0)),e.push(new gA("metadata","customMetadata",!0)),kA=e}function wA(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new XC(n,r);return t._makeStorageReference(i)}})}(r,e),r}function _A(e,t,n){var r=vA(t);return null===r?null:wA(e,r,n)}function xA(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}function IA(e,t,n){var r=vA(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes){var i,a=Tr(n.prefixes);try{for(a.s();!(i=a.n()).done;){var o=i.value.replace(/\/$/,""),u=e._makeStorageReference(new XC(t,o));r.prefixes.push(u)}}catch(h){a.e(h)}finally{a.f()}}if(n.items){var s,c=Tr(n.items);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=e._makeStorageReference(new XC(t,l.name));r.items.push(f)}}catch(h){c.e(h)}finally{c.f()}}return r}(e,t,r)}var EA=Er((function e(t,n,r,i){xr(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function TA(e){if(!e)throw zC()}function SA(e,t){return function(n,r){var i=_A(e,r,t);return TA(null!==i),i}}function CA(e,t){return function(n,r){var i=_A(e,r,t);return TA(null!==i),function(e,t,n,r){var i=vA(t);if(null===i)return null;if(!$C(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return nA("/b/"+o(i)+"/o/"+o(a),n,r)+rA({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function AA(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new jC("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new jC("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new jC("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new jC("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function NA(e){var t=AA(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new jC("object-not-found","Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function OA(e,t,n){var r=nA(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new EA(r,"GET",SA(e,n),i);return a.errorHandler=NA(t),a}function RA(e,t,n,r,i){var a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);var o=nA(t.bucketOnlyServerUrl(),e.host,e._protocol),u=e.maxOperationRetryTime,s=new EA(o,"GET",function(e,t){return function(n,r){var i=IA(e,t,r);return TA(null!==i),i}}(e,t.bucket),u);return s.urlParams=a,s.errorHandler=AA(t),s}function PA(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function DA(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var u=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+u;var s=PA(t,r,i),c="--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+xA(s,n)+"\r\n--"+u+"\r\nContent-Type: "+s.contentType+"\r\n\r\n",l="\r\n--"+u+"--",f=pA.getBlob(c,r,l);if(null===f)throw BC();var h={name:s.fullPath},d=nA(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new EA(d,"POST",SA(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=AA(t),v}var LA=Er((function e(t,n,r,i){xr(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function MA(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(eO){TA(!1)}return TA(!!n&&-1!==(t||["active"]).indexOf(n)),n}var UA=262144;function FA(e,t,n,r,i,a,o,u){var s=new LA(0,0);if(o?(s.current=o.current,s.total=o.total):(s.current=0,s.total=r.size()),r.size()!==s.total)throw new jC("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=s.total-s.current,l=c;i>0&&(l=Math.min(l,i));var f=s.current,h=f+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(s.current)},p=r.slice(f,h);if(null===p)throw BC();var v=t.maxUploadRetryTime,m=new EA(n,"POST",(function(e,n){var i,o=MA(e,["active","final"]),u=s.current+l,c=r.size();return i="final"===o?SA(t,a)(e,n):null,new LA(u,c,"final"===o,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=u||null,m.errorHandler=AA(e),m}var jA={STATE_CHANGED:"state_changed"},VA={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function zA(e){switch(e){case"running":case"pausing":case"canceling":return VA.RUNNING;case"paused":return VA.PAUSED;case"success":return VA.SUCCESS;case"canceled":return VA.CANCELED;default:return VA.ERROR}}var qA=Er((function e(t,n,r){xr(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function BA(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var KA=function(){function e(){var t=this;xr(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=YC.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=YC.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=YC.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return Er(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw QC("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw QC("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw QC("cannot .getStatus() before sending");try{return this.xhr_.status}catch(eO){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw QC("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw QC("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),WA=function(e){Ar(n,e);var t=Dr(n);function n(){return xr(this,n),t.apply(this,arguments)}return Er(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(KA);function HA(){return new WA}var GA=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;xr(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=bA(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return Er(e,[{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=c(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=PA(t,r,i),u={name:o.fullPath},s=nA(a,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=xA(o,n),f=e.maxUploadRetryTime,h=new EA(s,"POST",(function(e){var t;MA(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(eO){TA(!1)}return TA($C(t)),t}),f);return h.urlParams=u,h.headers=c,h.body=l,h.errorHandler=AA(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,HA,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new EA(n,"POST",(function(e){var t=MA(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(eO){TA(!1)}n||TA(!1);var i=Number(n);return TA(!isNaN(i)),new LA(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=AA(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,HA,n,r);e._request=a,a.getPromise().then((function(t){t=t,e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=UA*this._chunkMultiplier,n=new LA(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=FA(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(eO){return e._error=eO,void e._transition("error")}var u=e._ref.storage._makeRequest(o,HA,i,a);e._request=u,u.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){UA*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=OA(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,HA,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=DA(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,HA,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=qC(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=zA(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new qA(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(zA(this._state)){case VA.SUCCESS:BA(this._resolve.bind(null,this.snapshot))();break;case VA.CANCELED:case VA.ERROR:BA(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(zA(this._state)){case VA.RUNNING:case VA.PAUSED:e.next&&BA(e.next.bind(e,this.snapshot))();break;case VA.SUCCESS:e.complete&&BA(e.complete.bind(e))();break;default:e.error&&BA(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),QA=function(){function e(t,n){xr(this,e),this._service=t,this._location=n instanceof XC?n:XC.makeFromUrl(n,t.host)}return Er(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new XC(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return mA(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new XC(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw HC(e)}}]),e}();function YA(e,t,n){return XA.apply(this,arguments)}function XA(){return(XA=ee(ne().mark((function e(t,n,r){var i,a,o,u;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={pageToken:r},e.next=3,JA(t,o);case 3:if(u=e.sent,(i=n.prefixes).push.apply(i,hi(u.prefixes)),(a=n.items).push.apply(a,hi(u.items)),null==u.nextPageToken){e.next=9;break}return e.next=9,YA(t,n,u.nextPageToken);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function JA(e,t){null!=t&&"number"===typeof t.maxResults&&tA("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=RA(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,HA)}function $A(e,t){e._throwIfRoot("updateMetadata");var n=function(e,t,n,r){var i=nA(t.fullServerUrl(),e.host,e._protocol),a=xA(n,r),o=e.maxOperationRetryTime,u=new EA(i,"PATCH",SA(e,r),o);return u.headers={"Content-Type":"application/json; charset=utf-8"},u.body=a,u.errorHandler=NA(t),u}(e.storage,e._location,t,bA());return e.storage.makeRequestWithTokens(n,HA)}function ZA(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=nA(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new EA(r,"GET",CA(e,n),i);return a.errorHandler=NA(t),a}(e.storage,e._location,bA());return e.storage.makeRequestWithTokens(t,HA).then((function(e){if(null===e)throw new jC("no-download-url","The given file does not have any download URLs.");return e}))}function eN(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=nA(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new EA(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=NA(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,HA)}function tN(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new XC(e._location.bucket,n);return new QA(e.storage,r)}function nN(e,t){if(e instanceof oN){var n=e;if(null==n._bucket)throw new jC("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new QA(n,n._bucket);return null!=t?nN(r,t):r}return void 0!==t?tN(e,t):e}function rN(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof oN)return new QA(e,t);throw KC("To use ref(service, url), the first argument must be a Storage instance.")}return nN(e,t)}function iN(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:XC.makeFromBucketSpec(n,e)}function aN(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:Br(i,e.app.options.projectId))}var oN=function(){function e(t,n,r,i,a){xr(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=FC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?XC.makeFromBucketSpec(i,this._host):iN(this._host,this.app.options)}return Er(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=XC.makeFromBucketSpec(this._url,e):this._bucket=iN(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){tA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){tA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=ee(ne().mark((function e(){var t,n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=ee(ne().mark((function e(){var t,n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new QA(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this;if(this._deleted)return new JC(WC());var a=function(e,t,n,r,i,a){var o=rA(e.urlParams),u=e.url+o,s=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(s,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(s,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(s,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(s,r),new iA(u,e.method,s,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then((function(){return i._requests.delete(a)}),(function(){return i._requests.delete(a)})),a}},{key:"makeRequestWithTokens",value:function(){var e=ee(ne().mark((function e(t,n){var r,i,a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=c(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),uN="@firebase/storage",sN="0.9.2",cN="storage";function lN(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new GA(e,new pA(t),n)}(e=li(e),t,n)}function fN(e){return function(e){e._throwIfRoot("getMetadata");var t=OA(e.storage,e._location,bA());return e.storage.makeRequestWithTokens(t,HA)}(e=li(e))}function hN(e){return function(e){var t={prefixes:[],items:[]};return YA(e,t).then((function(){return t}))}(e=li(e))}function dN(e,t){return rN(e=li(e),t)}function pN(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};aN(e,t,n,r)}function vN(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new oN(r,i,a,n,Hi)}Ui(new di(cN,vN,"PUBLIC").setMultipleInstances(!0)),$i(uN,sN,""),$i(uN,sN,"esm2017");var mN=function(){function e(t,n,r){xr(this,e),this._delegate=t,this.task=n,this.ref=r}return Er(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),yN=function(){function e(t,n){xr(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Er(e,[{key:"snapshot",get:function(){return new mN(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new mN(t,n,n._ref))}),t)}},{key:"on",value:function(e,t,n,r){var i=this,a=void 0;return t&&(a="function"===typeof t?function(e){return t(new mN(e,i,i._ref))}:{next:t.next?function(e){return t.next(new mN(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,n||void 0,r||void 0)}}]),e}(),gN=function(){function e(t,n){xr(this,e),this._delegate=t,this._service=n}return Er(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new kN(t,e._service)}))}},{key:"items",get:function(){var e=this;return this._delegate.items.map((function(t){return new kN(t,e._service)}))}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),kN=function(){function e(t,n){xr(this,e),this._delegate=t,this.storage=n}return Er(e,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){var n=function(e,t){return tN(e,t)}(this._delegate,t);return new e(n,this.storage)}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new yN(lN(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:sA.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var r=lA(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new yN(new GA(this._delegate,new pA(r.data,!0),i),this)}},{key:"listAll",value:function(){var e=this;return hN(this._delegate).then((function(t){return new gN(t,e.storage)}))}},{key:"list",value:function(e){var t=this;return function(e,t){return JA(e=li(e),t)}(this._delegate,e||void 0).then((function(e){return new gN(e,t.storage)}))}},{key:"getMetadata",value:function(){return fN(this._delegate)}},{key:"updateMetadata",value:function(e){return function(e,t){return $A(e=li(e),t)}(this._delegate,e)}},{key:"getDownloadURL",value:function(){return ZA(li(this._delegate))}},{key:"delete",value:function(){return this._throwIfRoot("delete"),eN(li(this._delegate))}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw HC(e)}}]),e}(),bN=function(){function e(t,n){xr(this,e),this.app=t,this._delegate=n}return Er(e,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if(wN(e))throw KC("ref() expected a child path but got a URL, use refFromURL instead.");return new kN(dN(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!wN(e))throw KC("refFromURL() expected a full URL but got a child path, use ref() instead.");try{XC.makeFromUrl(e,this._delegate.host)}catch(eO){throw KC("refFromUrl() expected a valid full URL but got an invalid one.")}return new kN(dN(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};pN(this._delegate,e,t,n)}}]),e}();function wN(e){return/^[A-Za-z]+:\/\//.test(e)}function _N(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new bN(r,i)}!function(e){var t={TaskState:VA,TaskEvent:jA,StringFormat:sA,Storage:bN,Reference:kN};e.INTERNAL.registerComponent(new di("storage-compat",_N,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.1.10")}(ua);ua.initializeApp({apiKey:"AIzaSyBDmqNGbc8ChfVcpslcS0PcHzoVJqLcI2k",authDomain:"nwitter-dd9dc.firebaseapp.com",projectId:"nwitter-dd9dc",storageBucket:"nwitter-dd9dc.appspot.com",messagingSenderId:"91973143559",appId:"91973143559:web:30069e15a1652a34f76ea2",measurementId:"G-RXT5908NJ9"});var xN=ua.auth(),IN=ua,EN=ua.firestore(),TN=ua.storage(),SN=n(184),CN=function(){var e=c((0,r.useState)(""),2),t=e[0],n=e[1],i=c((0,r.useState)(""),2),a=i[0],o=i[1],u=c((0,r.useState)(""),2),s=u[0],l=u[1],f=c((0,r.useState)(""),2),h=f[0],d=f[1],p=function(e){var t=e.target,r=t.name,i=t.value;"email"===r?n(i):"password"===r&&o(i)},v=function(){var e=ee(ne().mark((function e(n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),e.prev=1,!s){e.next=8;break}return e.next=5,xN.createUserWithEmailAndPassword(t,a);case 5:e.sent,e.next=11;break;case 8:return e.next=10,xN.signInWithEmailAndPassword(t,a);case 10:e.sent;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),d(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}();return(0,SN.jsxs)(SN.Fragment,{children:[(0,SN.jsxs)("form",{onSubmit:v,className:"container",children:[(0,SN.jsx)("input",{name:"email",type:"email",placeholder:"Email",required:!0,value:t,onChange:p,className:"authInput"}),(0,SN.jsx)("input",{name:"password",type:"password",placeholder:"Password",required:!0,value:a,onChange:p,className:"authInput"}),(0,SN.jsx)("input",{t:!0,type:"submit",value:s?"Create Account":"Log In",className:"authInput authSubmit"}),h&&(0,SN.jsx)("span",{className:"authSwitch",children:h})]}),(0,SN.jsx)("span",{onClick:function(){return l((function(e){return!e}))},className:"authSwitch",children:s?"Sign In":"Create Account"})]})},AN=function(){var e=function(){var e=ee(ne().mark((function e(t){var n,r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"google"===(n=t.target.name)?r=new IN.auth.GoogleAuthProvider:"github"===n&&(r=new IN.auth.GithubAuthProvider),e.next=4,xN.signInWithPopup(r);case 4:e.sent;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,SN.jsxs)("div",{className:"authContainer",children:[(0,SN.jsx)(yr,{icon:wr,color:"#04AAFF",size:"3x",style:{marginBottom:30}}),(0,SN.jsx)(CN,{}),(0,SN.jsxs)("div",{className:"authBtns",children:[(0,SN.jsxs)("button",{onClick:e,name:"google",className:"authBtn",children:["Google ",(0,SN.jsx)(yr,{icon:br})]}),(0,SN.jsxs)("button",{onClick:e,name:"github",className:"authBtn",children:["Github ",(0,SN.jsx)(yr,{icon:kr})]})]})]})};function NN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var ON,RN={prefix:"fas",iconName:"pencil",icon:[512,512,[61504,9999,"pencil-alt"],"f303","M421.7 220.3L188.5 453.4L154.6 419.5L158.1 416H112C103.2 416 96 408.8 96 400V353.9L92.51 357.4C87.78 362.2 84.31 368 82.42 374.4L59.44 452.6L137.6 429.6C143.1 427.7 149.8 424.2 154.6 419.5L188.5 453.4C178.1 463.8 165.2 471.5 151.1 475.6L30.77 511C22.35 513.5 13.24 511.2 7.03 504.1C.8198 498.8-1.502 489.7 .976 481.2L36.37 360.9C40.53 346.8 48.16 333.9 58.57 323.5L291.7 90.34L421.7 220.3zM492.7 58.75C517.7 83.74 517.7 124.3 492.7 149.3L444.3 197.7L314.3 67.72L362.7 19.32C387.7-5.678 428.3-5.678 453.3 19.32L492.7 58.75z"]},PN=RN,DN={prefix:"fas",iconName:"plus",icon:[448,512,[10133,"add"],"2b","M432 256c0 17.69-14.33 32.01-32 32.01H256v144c0 17.69-14.33 31.99-32 31.99s-32-14.3-32-31.99v-144H48c-17.67 0-32-14.32-32-32.01s14.33-31.99 32-31.99H192v-144c0-17.69 14.33-32.01 32-32.01s32 14.32 32 32.01v144h144C417.7 224 432 238.3 432 256z"]},LN={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M135.2 17.69C140.6 6.848 151.7 0 163.8 0H284.2C296.3 0 307.4 6.848 312.8 17.69L320 32H416C433.7 32 448 46.33 448 64C448 81.67 433.7 96 416 96H32C14.33 96 0 81.67 0 64C0 46.33 14.33 32 32 32H128L135.2 17.69zM394.8 466.1C393.2 492.3 372.3 512 346.9 512H101.1C75.75 512 54.77 492.3 53.19 466.1L31.1 128H416L394.8 466.1z"]},MN={prefix:"fas",iconName:"user",icon:[448,512,[62144,128100],"f007","M224 256c70.7 0 128-57.31 128-128s-57.3-128-128-128C153.3 0 96 57.31 96 128S153.3 256 224 256zM274.7 304H173.3C77.61 304 0 381.6 0 477.3c0 19.14 15.52 34.67 34.66 34.67h378.7C432.5 512 448 496.5 448 477.3C448 381.6 370.4 304 274.7 304z"]},UN={prefix:"fas",iconName:"xmark",icon:[320,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"]},FN=UN,jN=function(e){var t=e.nweetObj,n=e.isOwner,i=c((0,r.useState)(!1),2),a=i[0],o=i[1],u=c((0,r.useState)(t.text),2),s=u[0],l=u[1],f=function(){var e=ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to delete?")){e.next=7;break}return e.next=4,EN.doc("nweets/".concat(t.id)).delete();case 4:if(""===t.attachmentUrl){e.next=7;break}return e.next=7,TN.refFromURL(t.attachmentUrl).delete();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){return o((function(e){return!e}))},d=function(){var e=ee(ne().mark((function e(n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,EN.doc("nweets/".concat(t.id)).update({text:s});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,SN.jsx)("div",{className:"nweet",children:a?(0,SN.jsxs)(SN.Fragment,{children:[(0,SN.jsxs)("form",{onSubmit:d,className:"container nweetEdit",children:[(0,SN.jsx)("input",{onChange:function(e){var t=e.target.value;l(t)},value:s,required:!0,placeholder:"Edit your nweet",autoFocus:!0,className:"formInput"}),(0,SN.jsx)("input",{type:"submit",value:"Update Nweet",className:"formBtn"})]}),(0,SN.jsx)("button",{onClick:h,className:"formBtn cancelBtn",children:"Cancel"})]}):(0,SN.jsxs)(SN.Fragment,{children:[(0,SN.jsx)("h4",{children:t.text}),t.attachmentUrl&&(0,SN.jsx)("img",{src:t.attachmentUrl,alt:"",width:"50px",height:"50px"}),n&&(0,SN.jsxs)("div",{className:"nweet__actions",children:[(0,SN.jsx)("span",{onClick:f,children:(0,SN.jsx)(yr,{icon:LN})}),(0,SN.jsx)("span",{onClick:h,children:(0,SN.jsx)(yr,{icon:PN})})]})]})})},VN=new Uint8Array(16);function zN(){if(!ON&&!(ON="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ON(VN)}var qN=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var BN=function(e){return"string"===typeof e&&qN.test(e)},KN=[],WN=0;WN<256;++WN)KN.push((WN+256).toString(16).substr(1));var HN=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(KN[e[t+0]]+KN[e[t+1]]+KN[e[t+2]]+KN[e[t+3]]+"-"+KN[e[t+4]]+KN[e[t+5]]+"-"+KN[e[t+6]]+KN[e[t+7]]+"-"+KN[e[t+8]]+KN[e[t+9]]+"-"+KN[e[t+10]]+KN[e[t+11]]+KN[e[t+12]]+KN[e[t+13]]+KN[e[t+14]]+KN[e[t+15]]).toLowerCase();if(!BN(n))throw TypeError("Stringified UUID is invalid");return n};var GN=function(e,t,n){var r=(e=e||{}).random||(e.rng||zN)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return HN(r)},QN=function(e){var t=e.userObj,n=c((0,r.useState)(""),2),i=n[0],a=n[1],o=c((0,r.useState)(""),2),u=o[0],s=o[1],l=function(){var e=ee(ne().mark((function e(n){var r,o,c;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),""!==i){e.next=3;break}return e.abrupt("return");case 3:if(r="",""===u){e.next=12;break}return o=TN.ref().child("".concat(t.uid,"/").concat(GN())),e.next=8,o.putString(u,"data_url");case 8:return c=e.sent,e.next=11,c.ref.getDownloadURL();case 11:r=e.sent;case 12:return e.next=14,EN.collection("nweets").add({text:i,createdAt:Date.now(),creatorId:t.uid,attachmentUrl:r});case 14:a(""),s("");case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,SN.jsxs)("form",{onSubmit:l,className:"factoryForm",children:[(0,SN.jsxs)("div",{className:"factoryInput__container",children:[(0,SN.jsx)("input",{className:"factoryInput__input",value:i,onChange:function(e){e.preventDefault();var t=e.target.value;a(t)},type:"text",placeholder:"What's on your mind?",maxLength:120}),(0,SN.jsx)("input",{type:"submit",value:"\u2192",className:"factoryInput__arrow"})]}),(0,SN.jsxs)("label",{htmlFor:"attach-file",className:"factoryInput__label",children:[(0,SN.jsx)("span",{children:"Add photos"}),(0,SN.jsx)(yr,{icon:DN})]}),(0,SN.jsx)("input",{id:"attach-file",type:"file",accept:"image/*",onChange:function(e){var t=e.target.files[0],n=new FileReader;n.onloadend=function(e){var t=e.currentTarget.result;s(t)},Boolean(t)&&n.readAsDataURL(t)},style:{opacity:0}}),u&&(0,SN.jsxs)("div",{className:"factoryForm__attachment",children:[(0,SN.jsx)("img",{src:u,alt:"",style:{backgroundImage:u}}),(0,SN.jsxs)("div",{className:"factoryForm__clear",onClick:function(){return s("")},children:[(0,SN.jsx)("span",{children:"Remove"}),(0,SN.jsx)(yr,{icon:FN})]})]})]})},YN=function(e){var t=e.userObj,n=c((0,r.useState)([]),2),i=n[0],a=n[1];return(0,r.useEffect)((function(){EN.collection("nweets").orderBy("createdAt","desc").onSnapshot((function(e){var t=e.docs.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?NN(Object(n),!0).forEach((function(t){_r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({id:e.id},e.data())}));a(t)}))}),[]),(0,SN.jsxs)("div",{className:"container",children:[(0,SN.jsx)(QN,{userObj:t}),(0,SN.jsx)("div",{style:{marginTop:30},children:i.map((function(e){return(0,SN.jsx)(jN,{nweetObj:e,isOwner:e.creatorId===t.uid},e.id)}))})]})},XN=function(e){var t=e.userObj,n=e.refreshUser,i=O(),a=c((0,r.useState)(t.displayName),2),o=a[0],u=a[1],s=function(){var e=ee(ne().mark((function e(r){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),t.displayName===o){e.next=5;break}return e.next=4,t.updateProfile({displayName:o});case 4:n();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,SN.jsxs)("div",{className:"container",children:[(0,SN.jsxs)("form",{onSubmit:s,className:"profileForm",children:[(0,SN.jsx)("input",{onChange:function(e){var t=e.target.value;u(t)},type:"text",placeholder:"Display name",value:o,autoFocus:!0,className:"formInput"}),(0,SN.jsx)("input",{type:"submit",value:"Update Profile",className:"formBtn",style:{marginTop:10}})]}),(0,SN.jsx)("span",{className:"formBtn cancelBtn logOut",onClick:function(){xN.signOut(),i("/")},children:"Log Out"})]})},JN=function(e){var t=e.userObj;return(0,SN.jsx)("nav",{children:(0,SN.jsxs)("ul",{style:{display:"flex",justifyContent:"center",marginTop:50},children:[(0,SN.jsx)("li",{children:(0,SN.jsx)($,{to:"/",style:{marginRight:10},children:(0,SN.jsx)(yr,{icon:wr,color:"#04AAFF",size:"3x"})})}),(0,SN.jsx)("li",{children:(0,SN.jsxs)($,{to:"/profile",style:{marginLeft:10,display:"flex",flexDirection:"column",alignItems:"center",fontSize:20},children:[(0,SN.jsx)(yr,{icon:MN,color:"#04AAFF",size:"2x"}),(0,SN.jsx)("span",{style:{marginTop:10},children:t.displayName?"".concat(t.displayName,"'s Profile"):"Profile"})]})})]})})},$N=function(e){var t=e.isLoggedIn,n=e.userObj,r=e.refreshUser;return(0,SN.jsxs)(J,{children:[t&&(0,SN.jsx)(JN,{userObj:n}),(0,SN.jsx)("div",{style:{maxWidth:890,width:"100%",margin:"0 auto",marginTop:80,display:"flex",justifyContent:"center"},children:(0,SN.jsx)(S,{children:t?(0,SN.jsxs)(SN.Fragment,{children:[(0,SN.jsx)(E,{exact:!0,path:"/",element:(0,SN.jsx)(YN,{userObj:n})}),(0,SN.jsx)(E,{exact:!0,path:"/profile",element:(0,SN.jsx)(XN,{refreshUser:r,userObj:n})})]}):(0,SN.jsx)(E,{exact:!0,path:"/",element:(0,SN.jsx)(AN,{})})})})]})};var ZN=function(){var e=c((0,r.useState)(!1),2),t=e[0],n=e[1],i=c((0,r.useState)(null),2),a=i[0],o=i[1];return(0,r.useEffect)((function(){xN.onAuthStateChanged((function(e){o(!!e&&{uid:e.uid,displayName:e.displayName,updateProfile:function(t){return e.updateProfile(t)}}),n(!0)}))}),[]),(0,SN.jsx)(SN.Fragment,{children:t?(0,SN.jsx)($N,{refreshUser:function(){var e=xN.currentUser;o({uid:e.uid,displayName:e.displayName,updateProfile:function(t){return e.updateProfile(t)}})},isLoggedIn:Boolean(a),userObj:a}):"Initializing..."})};i.render((0,SN.jsx)(r.StrictMode,{children:(0,SN.jsx)(ZN,{})}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.c7290112.js.map